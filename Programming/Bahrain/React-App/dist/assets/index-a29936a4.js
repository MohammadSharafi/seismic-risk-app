var Cw=Object.defineProperty;var Ew=(e,t,n)=>t in e?Cw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Wt=(e,t,n)=>(Ew(e,typeof t!="symbol"?t+"":t,n),n);function Pw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var z8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hx={exports:{}},Af={},$x={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),Tw=Symbol.for("react.portal"),Dw=Symbol.for("react.fragment"),Rw=Symbol.for("react.strict_mode"),Iw=Symbol.for("react.profiler"),Mw=Symbol.for("react.provider"),Ow=Symbol.for("react.context"),zw=Symbol.for("react.forward_ref"),Bw=Symbol.for("react.suspense"),Uw=Symbol.for("react.memo"),qw=Symbol.for("react.lazy"),B1=Symbol.iterator;function Hw(e){return e===null||typeof e!="object"?null:(e=B1&&e[B1]||e["@@iterator"],typeof e=="function"?e:null)}var Wx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vx=Object.assign,Gx={};function wl(e,t,n){this.props=e,this.context=t,this.refs=Gx,this.updater=n||Wx}wl.prototype.isReactComponent={};wl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yx(){}Yx.prototype=wl.prototype;function Zp(e,t,n){this.props=e,this.context=t,this.refs=Gx,this.updater=n||Wx}var Kp=Zp.prototype=new Yx;Kp.constructor=Zp;Vx(Kp,wl.prototype);Kp.isPureReactComponent=!0;var U1=Array.isArray,Zx=Object.prototype.hasOwnProperty,Xp={current:null},Kx={key:!0,ref:!0,__self:!0,__source:!0};function Xx(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Zx.call(t,r)&&!Kx.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ou,type:e,key:s,ref:o,props:i,_owner:Xp.current}}function $w(e,t){return{$$typeof:ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jp(e){return typeof e=="object"&&e!==null&&e.$$typeof===ou}function Ww(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var q1=/\/+/g;function kh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ww(""+e.key):t.toString(36)}function Ad(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ou:case Tw:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+kh(o,0):r,U1(i)?(n="",e!=null&&(n=e.replace(q1,"$&/")+"/"),Ad(i,t,n,"",function(d){return d})):i!=null&&(Jp(i)&&(i=$w(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(q1,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",U1(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+kh(s,l);o+=Ad(s,t,n,c,i)}else if(c=Hw(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+kh(s,l++),o+=Ad(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xu(e,t,n){if(e==null)return e;var r=[],i=0;return Ad(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Vw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ar={current:null},Ld={transition:null},Gw={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Ld,ReactCurrentOwner:Xp};function Jx(){throw Error("act(...) is not supported in production builds of React.")}Ct.Children={map:Xu,forEach:function(e,t,n){Xu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xu(e,function(){t++}),t},toArray:function(e){return Xu(e,function(t){return t})||[]},only:function(e){if(!Jp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ct.Component=wl;Ct.Fragment=Dw;Ct.Profiler=Iw;Ct.PureComponent=Zp;Ct.StrictMode=Rw;Ct.Suspense=Bw;Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gw;Ct.act=Jx;Ct.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vx({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Xp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Zx.call(t,c)&&!Kx.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ou,type:e.type,key:i,ref:s,props:r,_owner:o}};Ct.createContext=function(e){return e={$$typeof:Ow,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mw,_context:e},e.Consumer=e};Ct.createElement=Xx;Ct.createFactory=function(e){var t=Xx.bind(null,e);return t.type=e,t};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(e){return{$$typeof:zw,render:e}};Ct.isValidElement=Jp;Ct.lazy=function(e){return{$$typeof:qw,_payload:{_status:-1,_result:e},_init:Vw}};Ct.memo=function(e,t){return{$$typeof:Uw,type:e,compare:t===void 0?null:t}};Ct.startTransition=function(e){var t=Ld.transition;Ld.transition={};try{e()}finally{Ld.transition=t}};Ct.unstable_act=Jx;Ct.useCallback=function(e,t){return Ar.current.useCallback(e,t)};Ct.useContext=function(e){return Ar.current.useContext(e)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(e){return Ar.current.useDeferredValue(e)};Ct.useEffect=function(e,t){return Ar.current.useEffect(e,t)};Ct.useId=function(){return Ar.current.useId()};Ct.useImperativeHandle=function(e,t,n){return Ar.current.useImperativeHandle(e,t,n)};Ct.useInsertionEffect=function(e,t){return Ar.current.useInsertionEffect(e,t)};Ct.useLayoutEffect=function(e,t){return Ar.current.useLayoutEffect(e,t)};Ct.useMemo=function(e,t){return Ar.current.useMemo(e,t)};Ct.useReducer=function(e,t,n){return Ar.current.useReducer(e,t,n)};Ct.useRef=function(e){return Ar.current.useRef(e)};Ct.useState=function(e){return Ar.current.useState(e)};Ct.useSyncExternalStore=function(e,t,n){return Ar.current.useSyncExternalStore(e,t,n)};Ct.useTransition=function(){return Ar.current.useTransition()};Ct.version="18.3.1";$x.exports=Ct;var Ae=$x.exports;const Qx=Fw(Ae),Yw=Pw({__proto__:null,default:Qx},[Ae]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=Ae,Kw=Symbol.for("react.element"),Xw=Symbol.for("react.fragment"),Jw=Object.prototype.hasOwnProperty,Qw=Zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e3={key:!0,ref:!0,__self:!0,__source:!0};function e5(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Jw.call(t,r)&&!e3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Kw,type:e,key:s,ref:o,props:i,_owner:Qw.current}}Af.Fragment=Xw;Af.jsx=e5;Af.jsxs=e5;Hx.exports=Af;var a=Hx.exports,T0={},t5={exports:{}},ni={},n5={exports:{}},r5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,te){var ue=U.length;U.push(te);e:for(;0<ue;){var me=ue-1>>>1,P=U[me];if(0<i(P,te))U[me]=te,U[ue]=P,ue=me;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var te=U[0],ue=U.pop();if(ue!==te){U[0]=ue;e:for(var me=0,P=U.length,q=P>>>1;me<q;){var $=2*(me+1)-1,X=U[$],Q=$+1,ne=U[Q];if(0>i(X,ue))Q<P&&0>i(ne,X)?(U[me]=ne,U[Q]=ue,me=Q):(U[me]=X,U[$]=ue,me=$);else if(Q<P&&0>i(ne,ue))U[me]=ne,U[Q]=ue,me=Q;else break e}}return te}function i(U,te){var ue=U.sortIndex-te.sortIndex;return ue!==0?ue:U.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,b=null,y=3,p=!1,S=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=U)r(d),te.sortIndex=te.expirationTime,t(c,te);else break;te=n(d)}}function k(U){if(C=!1,w(U),!S)if(n(c)!==null)S=!0,le(H);else{var te=n(d);te!==null&&ae(k,te.startTime-U)}}function H(U,te){S=!1,C&&(C=!1,g(T),T=-1),p=!0;var ue=y;try{for(w(te),b=n(c);b!==null&&(!(b.expirationTime>te)||U&&!E());){var me=b.callback;if(typeof me=="function"){b.callback=null,y=b.priorityLevel;var P=me(b.expirationTime<=te);te=e.unstable_now(),typeof P=="function"?b.callback=P:b===n(c)&&r(c),w(te)}else r(c);b=n(c)}if(b!==null)var q=!0;else{var $=n(d);$!==null&&ae(k,$.startTime-te),q=!1}return q}finally{b=null,y=ue,p=!1}}var M=!1,K=null,T=-1,_=5,j=-1;function E(){return!(e.unstable_now()-j<_)}function R(){if(K!==null){var U=e.unstable_now();j=U;var te=!0;try{te=K(!0,U)}finally{te?Z():(M=!1,K=null)}}else M=!1}var Z;if(typeof v=="function")Z=function(){v(R)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,se=G.port2;G.port1.onmessage=R,Z=function(){se.postMessage(null)}}else Z=function(){I(R,0)};function le(U){K=U,M||(M=!0,Z())}function ae(U,te){T=I(function(){U(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){S||p||(S=!0,le(H))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(U){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var ue=y;y=te;try{return U()}finally{y=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,te){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ue=y;y=U;try{return te()}finally{y=ue}},e.unstable_scheduleCallback=function(U,te,ue){var me=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?me+ue:me):ue=me,U){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ue+P,U={id:h++,callback:te,priorityLevel:U,startTime:ue,expirationTime:P,sortIndex:-1},ue>me?(U.sortIndex=ue,t(d,U),n(c)===null&&U===n(d)&&(C?(g(T),T=-1):C=!0,ae(k,ue-me))):(U.sortIndex=P,t(c,U),S||p||(S=!0,le(H))),U},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(U){var te=y;return function(){var ue=y;y=te;try{return U.apply(this,arguments)}finally{y=ue}}}})(r5);n5.exports=r5;var t3=n5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3=Ae,ti=t3;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i5=new Set,Rc={};function ho(e,t){cl(e,t),cl(e+"Capture",t)}function cl(e,t){for(Rc[e]=t,e=0;e<t.length;e++)i5.add(t[e])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D0=Object.prototype.hasOwnProperty,r3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H1={},$1={};function i3(e){return D0.call($1,e)?!0:D0.call(H1,e)?!1:r3.test(e)?$1[e]=!0:(H1[e]=!0,!1)}function s3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a3(e,t,n,r){if(t===null||typeof t>"u"||s3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sr[e]=new Lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sr[t]=new Lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sr[e]=new Lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sr[e]=new Lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sr[e]=new Lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sr[e]=new Lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sr[e]=new Lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sr[e]=new Lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sr[e]=new Lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qp=/[\-:]([a-z])/g;function em(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qp,em);sr[t]=new Lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qp,em);sr[t]=new Lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qp,em);sr[t]=new Lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sr[e]=new Lr(e,1,!1,e.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sr[e]=new Lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function tm(e,t,n,r){var i=sr.hasOwnProperty(t)?sr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(a3(t,n,i,r)&&(n=null),r||i===null?i3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ds=n3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),R0=Symbol.for("react.profiler"),s5=Symbol.for("react.provider"),a5=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),I0=Symbol.for("react.suspense"),M0=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),o5=Symbol.for("react.offscreen"),W1=Symbol.iterator;function nc(e){return e===null||typeof e!="object"?null:(e=W1&&e[W1]||e["@@iterator"],typeof e=="function"?e:null)}var xn=Object.assign,Ah;function pc(e){if(Ah===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ah=t&&t[1]||""}return`
`+Ah+e}var Lh=!1;function Ch(e,t){if(!e||Lh)return"";Lh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Lh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pc(e):""}function o3(e){switch(e.tag){case 5:return pc(e.type);case 16:return pc("Lazy");case 13:return pc("Suspense");case 19:return pc("SuspenseList");case 0:case 2:case 15:return e=Ch(e.type,!1),e;case 11:return e=Ch(e.type.render,!1),e;case 1:return e=Ch(e.type,!0),e;default:return""}}function O0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Io:return"Fragment";case Ro:return"Portal";case R0:return"Profiler";case nm:return"StrictMode";case I0:return"Suspense";case M0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case a5:return(e.displayName||"Context")+".Consumer";case s5:return(e._context.displayName||"Context")+".Provider";case rm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case im:return t=e.displayName||null,t!==null?t:O0(e.type)||"Memo";case ta:t=e._payload,e=e._init;try{return O0(e(t))}catch{}}return null}function l3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O0(t);case 8:return t===nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c3(e){var t=l5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qu(e){e._valueTracker||(e._valueTracker=c3(e))}function c5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=l5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function z0(e,t){var n=t.checked;return xn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function V1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function u5(e,t){t=t.checked,t!=null&&tm(e,"checked",t,!1)}function B0(e,t){u5(e,t);var n=wa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?U0(e,t.type,n):t.hasOwnProperty("defaultValue")&&U0(e,t.type,wa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function G1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function U0(e,t,n){(t!=="number"||Vd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mc=Array.isArray;function Yo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function q0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return xn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Y1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(De(92));if(mc(n)){if(1<n.length)throw Error(De(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wa(n)}}function d5(e,t){var n=wa(t.value),r=wa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Z1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function f5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?f5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ed,h5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ed=ed||document.createElement("div"),ed.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ed.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ic(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u3=["Webkit","ms","Moz","O"];Object.keys(wc).forEach(function(e){u3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wc[t]=wc[e]})});function p5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wc.hasOwnProperty(e)&&wc[e]?(""+t).trim():t+"px"}function m5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=p5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var d3=xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $0(e,t){if(t){if(d3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function W0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V0=null;function sm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var G0=null,Zo=null,Ko=null;function K1(e){if(e=uu(e)){if(typeof G0!="function")throw Error(De(280));var t=e.stateNode;t&&(t=Ff(t),G0(e.stateNode,e.type,t))}}function g5(e){Zo?Ko?Ko.push(e):Ko=[e]:Zo=e}function x5(){if(Zo){var e=Zo,t=Ko;if(Ko=Zo=null,K1(e),t)for(e=0;e<t.length;e++)K1(t[e])}}function v5(e,t){return e(t)}function y5(){}var Eh=!1;function b5(e,t,n){if(Eh)return e(t,n);Eh=!0;try{return v5(e,t,n)}finally{Eh=!1,(Zo!==null||Ko!==null)&&(y5(),x5())}}function Mc(e,t){var n=e.stateNode;if(n===null)return null;var r=Ff(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(De(231,t,typeof n));return n}var Y0=!1;if(Cs)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){Y0=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{Y0=!1}function f3(e,t,n,r,i,s,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(h){this.onError(h)}}var Nc=!1,Gd=null,Yd=!1,Z0=null,h3={onError:function(e){Nc=!0,Gd=e}};function p3(e,t,n,r,i,s,o,l,c){Nc=!1,Gd=null,f3.apply(h3,arguments)}function m3(e,t,n,r,i,s,o,l,c){if(p3.apply(this,arguments),Nc){if(Nc){var d=Gd;Nc=!1,Gd=null}else throw Error(De(198));Yd||(Yd=!0,Z0=d)}}function po(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function w5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function X1(e){if(po(e)!==e)throw Error(De(188))}function g3(e){var t=e.alternate;if(!t){if(t=po(e),t===null)throw Error(De(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return X1(i),e;if(s===r)return X1(i),t;s=s.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?e:t}function N5(e){return e=g3(e),e!==null?_5(e):null}function _5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_5(e);if(t!==null)return t;e=e.sibling}return null}var j5=ti.unstable_scheduleCallback,J1=ti.unstable_cancelCallback,x3=ti.unstable_shouldYield,v3=ti.unstable_requestPaint,Cn=ti.unstable_now,y3=ti.unstable_getCurrentPriorityLevel,am=ti.unstable_ImmediatePriority,S5=ti.unstable_UserBlockingPriority,Zd=ti.unstable_NormalPriority,b3=ti.unstable_LowPriority,k5=ti.unstable_IdlePriority,Lf=null,Ji=null;function w3(e){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(Lf,e,void 0,(e.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:j3,N3=Math.log,_3=Math.LN2;function j3(e){return e>>>=0,e===0?32:31-(N3(e)/_3|0)|0}var td=64,nd=4194304;function gc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=gc(l):(s&=o,s!==0&&(r=gc(s)))}else o=n&~i,o!==0?r=gc(o):s!==0&&(r=gc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pi(t),i=1<<n,r|=e[n],t&=~i;return r}function S3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Pi(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=S3(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function K0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function A5(){var e=td;return td<<=1,!(td&4194240)&&(td=64),e}function Ph(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pi(t),e[t]=n}function A3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pi(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function om(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Gt=0;function L5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var C5,lm,E5,P5,F5,X0=!1,rd=[],ua=null,da=null,fa=null,Oc=new Map,zc=new Map,ra=[],L3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q1(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Oc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(t.pointerId)}}function ic(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=uu(t),t!==null&&lm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function C3(e,t,n,r,i){switch(t){case"focusin":return ua=ic(ua,e,t,n,r,i),!0;case"dragenter":return da=ic(da,e,t,n,r,i),!0;case"mouseover":return fa=ic(fa,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Oc.set(s,ic(Oc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zc.set(s,ic(zc.get(s)||null,e,t,n,r,i)),!0}return!1}function T5(e){var t=Za(e.target);if(t!==null){var n=po(t);if(n!==null){if(t=n.tag,t===13){if(t=w5(n),t!==null){e.blockedOn=t,F5(e.priority,function(){E5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=J0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);V0=r,n.target.dispatchEvent(r),V0=null}else return t=uu(n),t!==null&&lm(t),e.blockedOn=n,!1;t.shift()}return!0}function eg(e,t,n){Cd(e)&&n.delete(t)}function E3(){X0=!1,ua!==null&&Cd(ua)&&(ua=null),da!==null&&Cd(da)&&(da=null),fa!==null&&Cd(fa)&&(fa=null),Oc.forEach(eg),zc.forEach(eg)}function sc(e,t){e.blockedOn===t&&(e.blockedOn=null,X0||(X0=!0,ti.unstable_scheduleCallback(ti.unstable_NormalPriority,E3)))}function Bc(e){function t(i){return sc(i,e)}if(0<rd.length){sc(rd[0],e);for(var n=1;n<rd.length;n++){var r=rd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ua!==null&&sc(ua,e),da!==null&&sc(da,e),fa!==null&&sc(fa,e),Oc.forEach(t),zc.forEach(t),n=0;n<ra.length;n++)r=ra[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ra.length&&(n=ra[0],n.blockedOn===null);)T5(n),n.blockedOn===null&&ra.shift()}var Xo=Ds.ReactCurrentBatchConfig,Xd=!0;function P3(e,t,n,r){var i=Gt,s=Xo.transition;Xo.transition=null;try{Gt=1,cm(e,t,n,r)}finally{Gt=i,Xo.transition=s}}function F3(e,t,n,r){var i=Gt,s=Xo.transition;Xo.transition=null;try{Gt=4,cm(e,t,n,r)}finally{Gt=i,Xo.transition=s}}function cm(e,t,n,r){if(Xd){var i=J0(e,t,n,r);if(i===null)Uh(e,t,r,Jd,n),Q1(e,r);else if(C3(i,e,t,n,r))r.stopPropagation();else if(Q1(e,r),t&4&&-1<L3.indexOf(e)){for(;i!==null;){var s=uu(i);if(s!==null&&C5(s),s=J0(e,t,n,r),s===null&&Uh(e,t,r,Jd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Uh(e,t,r,null,n)}}var Jd=null;function J0(e,t,n,r){if(Jd=null,e=sm(r),e=Za(e),e!==null)if(t=po(e),t===null)e=null;else if(n=t.tag,n===13){if(e=w5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jd=e,null}function D5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y3()){case am:return 1;case S5:return 4;case Zd:case b3:return 16;case k5:return 536870912;default:return 16}default:return 16}}var aa=null,um=null,Ed=null;function R5(){if(Ed)return Ed;var e,t=um,n=t.length,r,i="value"in aa?aa.value:aa.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ed=i.slice(e,1<r?1-r:void 0)}function Pd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function id(){return!0}function tg(){return!1}function ri(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?id:tg,this.isPropagationStopped=tg,this}return xn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=id)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=id)},persist:function(){},isPersistent:id}),t}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dm=ri(Nl),cu=xn({},Nl,{view:0,detail:0}),T3=ri(cu),Fh,Th,ac,Cf=xn({},cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ac&&(ac&&e.type==="mousemove"?(Fh=e.screenX-ac.screenX,Th=e.screenY-ac.screenY):Th=Fh=0,ac=e),Fh)},movementY:function(e){return"movementY"in e?e.movementY:Th}}),ng=ri(Cf),D3=xn({},Cf,{dataTransfer:0}),R3=ri(D3),I3=xn({},cu,{relatedTarget:0}),Dh=ri(I3),M3=xn({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),O3=ri(M3),z3=xn({},Nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B3=ri(z3),U3=xn({},Nl,{data:0}),rg=ri(U3),q3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$3[e])?!!t[e]:!1}function fm(){return W3}var V3=xn({},cu,{key:function(e){if(e.key){var t=q3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(e){return e.type==="keypress"?Pd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G3=ri(V3),Y3=xn({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ig=ri(Y3),Z3=xn({},cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),K3=ri(Z3),X3=xn({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),J3=ri(X3),Q3=xn({},Cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e4=ri(Q3),t4=[9,13,27,32],hm=Cs&&"CompositionEvent"in window,_c=null;Cs&&"documentMode"in document&&(_c=document.documentMode);var n4=Cs&&"TextEvent"in window&&!_c,I5=Cs&&(!hm||_c&&8<_c&&11>=_c),sg=String.fromCharCode(32),ag=!1;function M5(e,t){switch(e){case"keyup":return t4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function r4(e,t){switch(e){case"compositionend":return O5(t);case"keypress":return t.which!==32?null:(ag=!0,sg);case"textInput":return e=t.data,e===sg&&ag?null:e;default:return null}}function i4(e,t){if(Mo)return e==="compositionend"||!hm&&M5(e,t)?(e=R5(),Ed=um=aa=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return I5&&t.locale!=="ko"?null:t.data;default:return null}}var s4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s4[e.type]:t==="textarea"}function z5(e,t,n,r){g5(r),t=Qd(t,"onChange"),0<t.length&&(n=new dm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jc=null,Uc=null;function a4(e){K5(e,0)}function Ef(e){var t=Bo(e);if(c5(t))return e}function o4(e,t){if(e==="change")return t}var B5=!1;if(Cs){var Rh;if(Cs){var Ih="oninput"in document;if(!Ih){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),Ih=typeof lg.oninput=="function"}Rh=Ih}else Rh=!1;B5=Rh&&(!document.documentMode||9<document.documentMode)}function cg(){jc&&(jc.detachEvent("onpropertychange",U5),Uc=jc=null)}function U5(e){if(e.propertyName==="value"&&Ef(Uc)){var t=[];z5(t,Uc,e,sm(e)),b5(a4,t)}}function l4(e,t,n){e==="focusin"?(cg(),jc=t,Uc=n,jc.attachEvent("onpropertychange",U5)):e==="focusout"&&cg()}function c4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ef(Uc)}function u4(e,t){if(e==="click")return Ef(t)}function d4(e,t){if(e==="input"||e==="change")return Ef(t)}function f4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Di=typeof Object.is=="function"?Object.is:f4;function qc(e,t){if(Di(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!D0.call(t,i)||!Di(e[i],t[i]))return!1}return!0}function ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dg(e,t){var n=ug(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ug(n)}}function q5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?q5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function H5(){for(var e=window,t=Vd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vd(e.document)}return t}function pm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h4(e){var t=H5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&q5(n.ownerDocument.documentElement,n)){if(r!==null&&pm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=dg(n,s);var o=dg(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p4=Cs&&"documentMode"in document&&11>=document.documentMode,Oo=null,Q0=null,Sc=null,ep=!1;function fg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ep||Oo==null||Oo!==Vd(r)||(r=Oo,"selectionStart"in r&&pm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sc&&qc(Sc,r)||(Sc=r,r=Qd(Q0,"onSelect"),0<r.length&&(t=new dm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Oo)))}function sd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zo={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},Mh={},$5={};Cs&&($5=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Pf(e){if(Mh[e])return Mh[e];if(!zo[e])return e;var t=zo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $5)return Mh[e]=t[n];return e}var W5=Pf("animationend"),V5=Pf("animationiteration"),G5=Pf("animationstart"),Y5=Pf("transitionend"),Z5=new Map,hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(e,t){Z5.set(e,t),ho(t,[e])}for(var Oh=0;Oh<hg.length;Oh++){var zh=hg[Oh],m4=zh.toLowerCase(),g4=zh[0].toUpperCase()+zh.slice(1);Sa(m4,"on"+g4)}Sa(W5,"onAnimationEnd");Sa(V5,"onAnimationIteration");Sa(G5,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(Y5,"onTransitionEnd");cl("onMouseEnter",["mouseout","mouseover"]);cl("onMouseLeave",["mouseout","mouseover"]);cl("onPointerEnter",["pointerout","pointerover"]);cl("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x4=new Set("cancel close invalid load scroll toggle".split(" ").concat(xc));function pg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,m3(r,t,void 0,e),e.currentTarget=null}function K5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;pg(i,l,d),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;pg(i,l,d),s=c}}}if(Yd)throw e=Z0,Yd=!1,Z0=null,e}function an(e,t){var n=t[sp];n===void 0&&(n=t[sp]=new Set);var r=e+"__bubble";n.has(r)||(X5(t,e,2,!1),n.add(r))}function Bh(e,t,n){var r=0;t&&(r|=4),X5(n,e,r,t)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Hc(e){if(!e[ad]){e[ad]=!0,i5.forEach(function(n){n!=="selectionchange"&&(x4.has(n)||Bh(n,!1,e),Bh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ad]||(t[ad]=!0,Bh("selectionchange",!1,t))}}function X5(e,t,n,r){switch(D5(t)){case 1:var i=P3;break;case 4:i=F3;break;default:i=cm}n=i.bind(null,t,n,e),i=void 0,!Y0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Uh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Za(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}b5(function(){var d=s,h=sm(n),b=[];e:{var y=Z5.get(e);if(y!==void 0){var p=dm,S=e;switch(e){case"keypress":if(Pd(n)===0)break e;case"keydown":case"keyup":p=G3;break;case"focusin":S="focus",p=Dh;break;case"focusout":S="blur",p=Dh;break;case"beforeblur":case"afterblur":p=Dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=R3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=K3;break;case W5:case V5:case G5:p=O3;break;case Y5:p=J3;break;case"scroll":p=T3;break;case"wheel":p=e4;break;case"copy":case"cut":case"paste":p=B3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ig}var C=(t&4)!==0,I=!C&&e==="scroll",g=C?y!==null?y+"Capture":null:y;C=[];for(var v=d,w;v!==null;){w=v;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,g!==null&&(k=Mc(v,g),k!=null&&C.push($c(v,k,w)))),I)break;v=v.return}0<C.length&&(y=new p(y,S,null,n,h),b.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",y&&n!==V0&&(S=n.relatedTarget||n.fromElement)&&(Za(S)||S[Es]))break e;if((p||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=d,S=S?Za(S):null,S!==null&&(I=po(S),S!==I||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=d),p!==S)){if(C=ng,k="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(C=ig,k="onPointerLeave",g="onPointerEnter",v="pointer"),I=p==null?y:Bo(p),w=S==null?y:Bo(S),y=new C(k,v+"leave",p,n,h),y.target=I,y.relatedTarget=w,k=null,Za(h)===d&&(C=new C(g,v+"enter",S,n,h),C.target=w,C.relatedTarget=I,k=C),I=k,p&&S)t:{for(C=p,g=S,v=0,w=C;w;w=Ao(w))v++;for(w=0,k=g;k;k=Ao(k))w++;for(;0<v-w;)C=Ao(C),v--;for(;0<w-v;)g=Ao(g),w--;for(;v--;){if(C===g||g!==null&&C===g.alternate)break t;C=Ao(C),g=Ao(g)}C=null}else C=null;p!==null&&mg(b,y,p,C,!1),S!==null&&I!==null&&mg(b,I,S,C,!0)}}e:{if(y=d?Bo(d):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var H=o4;else if(og(y))if(B5)H=d4;else{H=c4;var M=l4}else(p=y.nodeName)&&p.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(H=u4);if(H&&(H=H(e,d))){z5(b,H,n,h);break e}M&&M(e,y,d),e==="focusout"&&(M=y._wrapperState)&&M.controlled&&y.type==="number"&&U0(y,"number",y.value)}switch(M=d?Bo(d):window,e){case"focusin":(og(M)||M.contentEditable==="true")&&(Oo=M,Q0=d,Sc=null);break;case"focusout":Sc=Q0=Oo=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,fg(b,n,h);break;case"selectionchange":if(p4)break;case"keydown":case"keyup":fg(b,n,h)}var K;if(hm)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Mo?M5(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(I5&&n.locale!=="ko"&&(Mo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Mo&&(K=R5()):(aa=h,um="value"in aa?aa.value:aa.textContent,Mo=!0)),M=Qd(d,T),0<M.length&&(T=new rg(T,e,null,n,h),b.push({event:T,listeners:M}),K?T.data=K:(K=O5(n),K!==null&&(T.data=K)))),(K=n4?r4(e,n):i4(e,n))&&(d=Qd(d,"onBeforeInput"),0<d.length&&(h=new rg("onBeforeInput","beforeinput",null,n,h),b.push({event:h,listeners:d}),h.data=K))}K5(b,t)})}function $c(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mc(e,n),s!=null&&r.unshift($c(e,s,i)),s=Mc(e,t),s!=null&&r.push($c(e,s,i))),e=e.return}return r}function Ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mg(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Mc(n,s),c!=null&&o.unshift($c(n,c,l))):i||(c=Mc(n,s),c!=null&&o.push($c(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var v4=/\r\n?/g,y4=/\u0000|\uFFFD/g;function gg(e){return(typeof e=="string"?e:""+e).replace(v4,`
`).replace(y4,"")}function od(e,t,n){if(t=gg(t),gg(e)!==t&&n)throw Error(De(425))}function ef(){}var tp=null,np=null;function rp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ip=typeof setTimeout=="function"?setTimeout:void 0,b4=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,w4=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(e){return xg.resolve(null).then(e).catch(N4)}:ip;function N4(e){setTimeout(function(){throw e})}function qh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Bc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bc(t)}function ha(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _l=Math.random().toString(36).slice(2),Zi="__reactFiber$"+_l,Wc="__reactProps$"+_l,Es="__reactContainer$"+_l,sp="__reactEvents$"+_l,_4="__reactListeners$"+_l,j4="__reactHandles$"+_l;function Za(e){var t=e[Zi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Es]||n[Zi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vg(e);e!==null;){if(n=e[Zi])return n;e=vg(e)}return t}e=n,n=e.parentNode}return null}function uu(e){return e=e[Zi]||e[Es],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function Ff(e){return e[Wc]||null}var ap=[],Uo=-1;function ka(e){return{current:e}}function ln(e){0>Uo||(e.current=ap[Uo],ap[Uo]=null,Uo--)}function rn(e,t){Uo++,ap[Uo]=e.current,e.current=t}var Na={},yr=ka(Na),Ir=ka(!1),io=Na;function ul(e,t){var n=e.type.contextTypes;if(!n)return Na;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mr(e){return e=e.childContextTypes,e!=null}function tf(){ln(Ir),ln(yr)}function yg(e,t,n){if(yr.current!==Na)throw Error(De(168));rn(yr,t),rn(Ir,n)}function J5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(De(108,l3(e)||"Unknown",i));return xn({},n,r)}function nf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,io=yr.current,rn(yr,e),rn(Ir,Ir.current),!0}function bg(e,t,n){var r=e.stateNode;if(!r)throw Error(De(169));n?(e=J5(e,t,io),r.__reactInternalMemoizedMergedChildContext=e,ln(Ir),ln(yr),rn(yr,e)):ln(Ir),rn(Ir,n)}var Ns=null,Tf=!1,Hh=!1;function Q5(e){Ns===null?Ns=[e]:Ns.push(e)}function S4(e){Tf=!0,Q5(e)}function Aa(){if(!Hh&&Ns!==null){Hh=!0;var e=0,t=Gt;try{var n=Ns;for(Gt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ns=null,Tf=!1}catch(i){throw Ns!==null&&(Ns=Ns.slice(e+1)),j5(am,Aa),i}finally{Gt=t,Hh=!1}}return null}var qo=[],Ho=0,rf=null,sf=0,fi=[],hi=0,so=null,Ss=1,ks="";function Wa(e,t){qo[Ho++]=sf,qo[Ho++]=rf,rf=e,sf=t}function ev(e,t,n){fi[hi++]=Ss,fi[hi++]=ks,fi[hi++]=so,so=e;var r=Ss;e=ks;var i=32-Pi(r)-1;r&=~(1<<i),n+=1;var s=32-Pi(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ss=1<<32-Pi(t)+i|n<<i|r,ks=s+e}else Ss=1<<s|n<<i|r,ks=e}function mm(e){e.return!==null&&(Wa(e,1),ev(e,1,0))}function gm(e){for(;e===rf;)rf=qo[--Ho],qo[Ho]=null,sf=qo[--Ho],qo[Ho]=null;for(;e===so;)so=fi[--hi],fi[hi]=null,ks=fi[--hi],fi[hi]=null,Ss=fi[--hi],fi[hi]=null}var ei=null,Xr=null,un=!1,Ei=null;function tv(e,t){var n=mi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ei=e,Xr=ha(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ei=e,Xr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=so!==null?{id:Ss,overflow:ks}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ei=e,Xr=null,!0):!1;default:return!1}}function op(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lp(e){if(un){var t=Xr;if(t){var n=t;if(!wg(e,t)){if(op(e))throw Error(De(418));t=ha(n.nextSibling);var r=ei;t&&wg(e,t)?tv(r,n):(e.flags=e.flags&-4097|2,un=!1,ei=e)}}else{if(op(e))throw Error(De(418));e.flags=e.flags&-4097|2,un=!1,ei=e}}}function Ng(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ei=e}function ld(e){if(e!==ei)return!1;if(!un)return Ng(e),un=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rp(e.type,e.memoizedProps)),t&&(t=Xr)){if(op(e))throw nv(),Error(De(418));for(;t;)tv(e,t),t=ha(t.nextSibling)}if(Ng(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xr=ha(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xr=null}}else Xr=ei?ha(e.stateNode.nextSibling):null;return!0}function nv(){for(var e=Xr;e;)e=ha(e.nextSibling)}function dl(){Xr=ei=null,un=!1}function xm(e){Ei===null?Ei=[e]:Ei.push(e)}var k4=Ds.ReactCurrentBatchConfig;function oc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,e))}return e}function cd(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _g(e){var t=e._init;return t(e._payload)}function rv(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=xa(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,w,k){return v===null||v.tag!==6?(v=Kh(w,g.mode,k),v.return=g,v):(v=i(v,w),v.return=g,v)}function c(g,v,w,k){var H=w.type;return H===Io?h(g,v,w.props.children,k,w.key):v!==null&&(v.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ta&&_g(H)===v.type)?(k=i(v,w.props),k.ref=oc(g,v,w),k.return=g,k):(k=Od(w.type,w.key,w.props,null,g.mode,k),k.ref=oc(g,v,w),k.return=g,k)}function d(g,v,w,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Xh(w,g.mode,k),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function h(g,v,w,k,H){return v===null||v.tag!==7?(v=no(w,g.mode,k,H),v.return=g,v):(v=i(v,w),v.return=g,v)}function b(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Kh(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ju:return w=Od(v.type,v.key,v.props,null,g.mode,w),w.ref=oc(g,null,v),w.return=g,w;case Ro:return v=Xh(v,g.mode,w),v.return=g,v;case ta:var k=v._init;return b(g,k(v._payload),w)}if(mc(v)||nc(v))return v=no(v,g.mode,w,null),v.return=g,v;cd(g,v)}return null}function y(g,v,w,k){var H=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return H!==null?null:l(g,v,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ju:return w.key===H?c(g,v,w,k):null;case Ro:return w.key===H?d(g,v,w,k):null;case ta:return H=w._init,y(g,v,H(w._payload),k)}if(mc(w)||nc(w))return H!==null?null:h(g,v,w,k,null);cd(g,w)}return null}function p(g,v,w,k,H){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(w)||null,l(v,g,""+k,H);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ju:return g=g.get(k.key===null?w:k.key)||null,c(v,g,k,H);case Ro:return g=g.get(k.key===null?w:k.key)||null,d(v,g,k,H);case ta:var M=k._init;return p(g,v,w,M(k._payload),H)}if(mc(k)||nc(k))return g=g.get(w)||null,h(v,g,k,H,null);cd(v,k)}return null}function S(g,v,w,k){for(var H=null,M=null,K=v,T=v=0,_=null;K!==null&&T<w.length;T++){K.index>T?(_=K,K=null):_=K.sibling;var j=y(g,K,w[T],k);if(j===null){K===null&&(K=_);break}e&&K&&j.alternate===null&&t(g,K),v=s(j,v,T),M===null?H=j:M.sibling=j,M=j,K=_}if(T===w.length)return n(g,K),un&&Wa(g,T),H;if(K===null){for(;T<w.length;T++)K=b(g,w[T],k),K!==null&&(v=s(K,v,T),M===null?H=K:M.sibling=K,M=K);return un&&Wa(g,T),H}for(K=r(g,K);T<w.length;T++)_=p(K,g,T,w[T],k),_!==null&&(e&&_.alternate!==null&&K.delete(_.key===null?T:_.key),v=s(_,v,T),M===null?H=_:M.sibling=_,M=_);return e&&K.forEach(function(E){return t(g,E)}),un&&Wa(g,T),H}function C(g,v,w,k){var H=nc(w);if(typeof H!="function")throw Error(De(150));if(w=H.call(w),w==null)throw Error(De(151));for(var M=H=null,K=v,T=v=0,_=null,j=w.next();K!==null&&!j.done;T++,j=w.next()){K.index>T?(_=K,K=null):_=K.sibling;var E=y(g,K,j.value,k);if(E===null){K===null&&(K=_);break}e&&K&&E.alternate===null&&t(g,K),v=s(E,v,T),M===null?H=E:M.sibling=E,M=E,K=_}if(j.done)return n(g,K),un&&Wa(g,T),H;if(K===null){for(;!j.done;T++,j=w.next())j=b(g,j.value,k),j!==null&&(v=s(j,v,T),M===null?H=j:M.sibling=j,M=j);return un&&Wa(g,T),H}for(K=r(g,K);!j.done;T++,j=w.next())j=p(K,g,T,j.value,k),j!==null&&(e&&j.alternate!==null&&K.delete(j.key===null?T:j.key),v=s(j,v,T),M===null?H=j:M.sibling=j,M=j);return e&&K.forEach(function(R){return t(g,R)}),un&&Wa(g,T),H}function I(g,v,w,k){if(typeof w=="object"&&w!==null&&w.type===Io&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ju:e:{for(var H=w.key,M=v;M!==null;){if(M.key===H){if(H=w.type,H===Io){if(M.tag===7){n(g,M.sibling),v=i(M,w.props.children),v.return=g,g=v;break e}}else if(M.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ta&&_g(H)===M.type){n(g,M.sibling),v=i(M,w.props),v.ref=oc(g,M,w),v.return=g,g=v;break e}n(g,M);break}else t(g,M);M=M.sibling}w.type===Io?(v=no(w.props.children,g.mode,k,w.key),v.return=g,g=v):(k=Od(w.type,w.key,w.props,null,g.mode,k),k.ref=oc(g,v,w),k.return=g,g=k)}return o(g);case Ro:e:{for(M=w.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=Xh(w,g.mode,k),v.return=g,g=v}return o(g);case ta:return M=w._init,I(g,v,M(w._payload),k)}if(mc(w))return S(g,v,w,k);if(nc(w))return C(g,v,w,k);cd(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=Kh(w,g.mode,k),v.return=g,g=v),o(g)):n(g,v)}return I}var fl=rv(!0),iv=rv(!1),af=ka(null),of=null,$o=null,vm=null;function ym(){vm=$o=of=null}function bm(e){var t=af.current;ln(af),e._currentValue=t}function cp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jo(e,t){of=e,vm=$o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dr=!0),e.firstContext=null)}function xi(e){var t=e._currentValue;if(vm!==e)if(e={context:e,memoizedValue:t,next:null},$o===null){if(of===null)throw Error(De(308));$o=e,of.dependencies={lanes:0,firstContext:e}}else $o=$o.next=e;return t}var Ka=null;function wm(e){Ka===null?Ka=[e]:Ka.push(e)}function sv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,wm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ps(e,r)}function Ps(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var na=!1;function Nm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function av(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ot&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ps(e,n)}return i=r.interleaved,i===null?(t.next=t,wm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ps(e,n)}function Fd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,om(e,n)}}function jg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lf(e,t,n,r){var i=e.updateQueue;na=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(s!==null){var b=i.baseState;o=0,h=d=c=null,l=s;do{var y=l.lane,p=l.eventTime;if((r&y)===y){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=e,C=l;switch(y=t,p=n,C.tag){case 1:if(S=C.payload,typeof S=="function"){b=S.call(p,b,y);break e}b=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,y=typeof S=="function"?S.call(p,b,y):S,y==null)break e;b=xn({},b,y);break e;case 2:na=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else p={eventTime:p,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=p,c=b):h=h.next=p,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(h===null&&(c=b),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);oo|=o,e.lanes=o,e.memoizedState=b}}function Sg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var du={},Qi=ka(du),Vc=ka(du),Gc=ka(du);function Xa(e){if(e===du)throw Error(De(174));return e}function _m(e,t){switch(rn(Gc,t),rn(Vc,e),rn(Qi,du),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:H0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=H0(t,e)}ln(Qi),rn(Qi,t)}function hl(){ln(Qi),ln(Vc),ln(Gc)}function ov(e){Xa(Gc.current);var t=Xa(Qi.current),n=H0(t,e.type);t!==n&&(rn(Vc,e),rn(Qi,n))}function jm(e){Vc.current===e&&(ln(Qi),ln(Vc))}var mn=ka(0);function cf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $h=[];function Sm(){for(var e=0;e<$h.length;e++)$h[e]._workInProgressVersionPrimary=null;$h.length=0}var Td=Ds.ReactCurrentDispatcher,Wh=Ds.ReactCurrentBatchConfig,ao=0,gn=null,$n=null,Gn=null,uf=!1,kc=!1,Yc=0,A4=0;function ur(){throw Error(De(321))}function km(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Di(e[n],t[n]))return!1;return!0}function Am(e,t,n,r,i,s){if(ao=s,gn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Td.current=e===null||e.memoizedState===null?P4:F4,e=n(r,i),kc){s=0;do{if(kc=!1,Yc=0,25<=s)throw Error(De(301));s+=1,Gn=$n=null,t.updateQueue=null,Td.current=T4,e=n(r,i)}while(kc)}if(Td.current=df,t=$n!==null&&$n.next!==null,ao=0,Gn=$n=gn=null,uf=!1,t)throw Error(De(300));return e}function Lm(){var e=Yc!==0;return Yc=0,e}function Yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?gn.memoizedState=Gn=e:Gn=Gn.next=e,Gn}function vi(){if($n===null){var e=gn.alternate;e=e!==null?e.memoizedState:null}else e=$n.next;var t=Gn===null?gn.memoizedState:Gn.next;if(t!==null)Gn=t,$n=e;else{if(e===null)throw Error(De(310));$n=e,e={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Gn===null?gn.memoizedState=Gn=e:Gn=Gn.next=e}return Gn}function Zc(e,t){return typeof t=="function"?t(e):t}function Vh(e){var t=vi(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=$n,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,d=s;do{var h=d.lane;if((ao&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var b={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=b,o=r):c=c.next=b,gn.lanes|=h,oo|=h}d=d.next}while(d!==null&&d!==s);c===null?o=r:c.next=l,Di(r,t.memoizedState)||(Dr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,gn.lanes|=s,oo|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gh(e){var t=vi(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Di(s,t.memoizedState)||(Dr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function lv(){}function cv(e,t){var n=gn,r=vi(),i=t(),s=!Di(r.memoizedState,i);if(s&&(r.memoizedState=i,Dr=!0),r=r.queue,Cm(fv.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,Kc(9,dv.bind(null,n,r,i,t),void 0,null),Zn===null)throw Error(De(349));ao&30||uv(n,t,i)}return i}function uv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gn.updateQueue,t===null?(t={lastEffect:null,stores:null},gn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dv(e,t,n,r){t.value=n,t.getSnapshot=r,hv(t)&&pv(e)}function fv(e,t,n){return n(function(){hv(t)&&pv(e)})}function hv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Di(e,n)}catch{return!0}}function pv(e){var t=Ps(e,1);t!==null&&Fi(t,e,1,-1)}function kg(e){var t=Yi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:e},t.queue=e,e=e.dispatch=E4.bind(null,gn,e),[t.memoizedState,e]}function Kc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=gn.updateQueue,t===null?(t={lastEffect:null,stores:null},gn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mv(){return vi().memoizedState}function Dd(e,t,n,r){var i=Yi();gn.flags|=e,i.memoizedState=Kc(1|t,n,void 0,r===void 0?null:r)}function Df(e,t,n,r){var i=vi();r=r===void 0?null:r;var s=void 0;if($n!==null){var o=$n.memoizedState;if(s=o.destroy,r!==null&&km(r,o.deps)){i.memoizedState=Kc(t,n,s,r);return}}gn.flags|=e,i.memoizedState=Kc(1|t,n,s,r)}function Ag(e,t){return Dd(8390656,8,e,t)}function Cm(e,t){return Df(2048,8,e,t)}function gv(e,t){return Df(4,2,e,t)}function xv(e,t){return Df(4,4,e,t)}function vv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yv(e,t,n){return n=n!=null?n.concat([e]):null,Df(4,4,vv.bind(null,t,e),n)}function Em(){}function bv(e,t){var n=vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&km(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wv(e,t){var n=vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&km(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nv(e,t,n){return ao&21?(Di(n,t)||(n=A5(),gn.lanes|=n,oo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dr=!0),e.memoizedState=n)}function L4(e,t){var n=Gt;Gt=n!==0&&4>n?n:4,e(!0);var r=Wh.transition;Wh.transition={};try{e(!1),t()}finally{Gt=n,Wh.transition=r}}function _v(){return vi().memoizedState}function C4(e,t,n){var r=ga(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jv(e))Sv(t,n);else if(n=sv(e,t,n,r),n!==null){var i=kr();Fi(n,e,r,i),kv(n,t,r)}}function E4(e,t,n){var r=ga(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jv(e))Sv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Di(l,o)){var c=t.interleaved;c===null?(i.next=i,wm(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=sv(e,t,i,r),n!==null&&(i=kr(),Fi(n,e,r,i),kv(n,t,r))}}function jv(e){var t=e.alternate;return e===gn||t!==null&&t===gn}function Sv(e,t){kc=uf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,om(e,n)}}var df={readContext:xi,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},P4={readContext:xi,useCallback:function(e,t){return Yi().memoizedState=[e,t===void 0?null:t],e},useContext:xi,useEffect:Ag,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dd(4194308,4,vv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dd(4,2,e,t)},useMemo:function(e,t){var n=Yi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=C4.bind(null,gn,e),[r.memoizedState,e]},useRef:function(e){var t=Yi();return e={current:e},t.memoizedState=e},useState:kg,useDebugValue:Em,useDeferredValue:function(e){return Yi().memoizedState=e},useTransition:function(){var e=kg(!1),t=e[0];return e=L4.bind(null,e[1]),Yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gn,i=Yi();if(un){if(n===void 0)throw Error(De(407));n=n()}else{if(n=t(),Zn===null)throw Error(De(349));ao&30||uv(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ag(fv.bind(null,r,s,e),[e]),r.flags|=2048,Kc(9,dv.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Yi(),t=Zn.identifierPrefix;if(un){var n=ks,r=Ss;n=(r&~(1<<32-Pi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=A4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},F4={readContext:xi,useCallback:bv,useContext:xi,useEffect:Cm,useImperativeHandle:yv,useInsertionEffect:gv,useLayoutEffect:xv,useMemo:wv,useReducer:Vh,useRef:mv,useState:function(){return Vh(Zc)},useDebugValue:Em,useDeferredValue:function(e){var t=vi();return Nv(t,$n.memoizedState,e)},useTransition:function(){var e=Vh(Zc)[0],t=vi().memoizedState;return[e,t]},useMutableSource:lv,useSyncExternalStore:cv,useId:_v,unstable_isNewReconciler:!1},T4={readContext:xi,useCallback:bv,useContext:xi,useEffect:Cm,useImperativeHandle:yv,useInsertionEffect:gv,useLayoutEffect:xv,useMemo:wv,useReducer:Gh,useRef:mv,useState:function(){return Gh(Zc)},useDebugValue:Em,useDeferredValue:function(e){var t=vi();return $n===null?t.memoizedState=e:Nv(t,$n.memoizedState,e)},useTransition:function(){var e=Gh(Zc)[0],t=vi().memoizedState;return[e,t]},useMutableSource:lv,useSyncExternalStore:cv,useId:_v,unstable_isNewReconciler:!1};function Li(e,t){if(e&&e.defaultProps){t=xn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function up(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rf={isMounted:function(e){return(e=e._reactInternals)?po(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kr(),i=ga(e),s=Ls(r,i);s.payload=t,n!=null&&(s.callback=n),t=pa(e,s,i),t!==null&&(Fi(t,e,i,r),Fd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kr(),i=ga(e),s=Ls(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=pa(e,s,i),t!==null&&(Fi(t,e,i,r),Fd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kr(),r=ga(e),i=Ls(n,r);i.tag=2,t!=null&&(i.callback=t),t=pa(e,i,r),t!==null&&(Fi(t,e,r,n),Fd(t,e,r))}};function Lg(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!qc(n,r)||!qc(i,s):!0}function Av(e,t,n){var r=!1,i=Na,s=t.contextType;return typeof s=="object"&&s!==null?s=xi(s):(i=Mr(t)?io:yr.current,r=t.contextTypes,s=(r=r!=null)?ul(e,i):Na),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Cg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rf.enqueueReplaceState(t,t.state,null)}function dp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Nm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=xi(s):(s=Mr(t)?io:yr.current,i.context=ul(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(up(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rf.enqueueReplaceState(i,i.state,null),lf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function pl(e,t){try{var n="",r=t;do n+=o3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Yh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var D4=typeof WeakMap=="function"?WeakMap:Map;function Lv(e,t,n){n=Ls(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hf||(hf=!0,Np=r),fp(e,t)},n}function Cv(e,t,n){n=Ls(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fp(e,t),typeof r!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Eg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new D4;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Y4.bind(null,e,t,n),t.then(e,e))}function Pg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fg(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ls(-1,1),t.tag=2,pa(n,t,1))),n.lanes|=1),e)}var R4=Ds.ReactCurrentOwner,Dr=!1;function jr(e,t,n,r){t.child=e===null?iv(t,null,n,r):fl(t,e.child,n,r)}function Tg(e,t,n,r,i){n=n.render;var s=t.ref;return Jo(t,i),r=Am(e,t,n,r,s,i),n=Lm(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fs(e,t,i)):(un&&n&&mm(t),t.flags|=1,jr(e,t,r,i),t.child)}function Dg(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Om(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ev(e,t,s,r,i)):(e=Od(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:qc,n(o,r)&&e.ref===t.ref)return Fs(e,t,i)}return t.flags|=1,e=xa(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ev(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(qc(s,r)&&e.ref===t.ref)if(Dr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Dr=!0);else return t.lanes=e.lanes,Fs(e,t,i)}return hp(e,t,n,r,i)}function Pv(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(Vo,Kr),Kr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rn(Vo,Kr),Kr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rn(Vo,Kr),Kr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,rn(Vo,Kr),Kr|=r;return jr(e,t,i,n),t.child}function Fv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hp(e,t,n,r,i){var s=Mr(n)?io:yr.current;return s=ul(t,s),Jo(t,i),n=Am(e,t,n,r,s,i),r=Lm(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fs(e,t,i)):(un&&r&&mm(t),t.flags|=1,jr(e,t,n,i),t.child)}function Rg(e,t,n,r,i){if(Mr(n)){var s=!0;nf(t)}else s=!1;if(Jo(t,i),t.stateNode===null)Rd(e,t),Av(t,n,r),dp(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=xi(d):(d=Mr(n)?io:yr.current,d=ul(t,d));var h=n.getDerivedStateFromProps,b=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";b||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Cg(t,o,r,d),na=!1;var y=t.memoizedState;o.state=y,lf(t,r,o,i),c=t.memoizedState,l!==r||y!==c||Ir.current||na?(typeof h=="function"&&(up(t,n,h,r),c=t.memoizedState),(l=na||Lg(t,n,l,r,y,c,d))?(b||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,av(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Li(t.type,l),o.props=d,b=t.pendingProps,y=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xi(c):(c=Mr(n)?io:yr.current,c=ul(t,c));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==b||y!==c)&&Cg(t,o,r,c),na=!1,y=t.memoizedState,o.state=y,lf(t,r,o,i);var S=t.memoizedState;l!==b||y!==S||Ir.current||na?(typeof p=="function"&&(up(t,n,p,r),S=t.memoizedState),(d=na||Lg(t,n,d,r,y,S,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),o.props=r,o.state=S,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return pp(e,t,n,r,s,i)}function pp(e,t,n,r,i,s){Fv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&bg(t,n,!1),Fs(e,t,s);r=t.stateNode,R4.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=fl(t,e.child,null,s),t.child=fl(t,null,l,s)):jr(e,t,l,s),t.memoizedState=r.state,i&&bg(t,n,!0),t.child}function Tv(e){var t=e.stateNode;t.pendingContext?yg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yg(e,t.context,!1),_m(e,t.containerInfo)}function Ig(e,t,n,r,i){return dl(),xm(i),t.flags|=256,jr(e,t,n,r),t.child}var mp={dehydrated:null,treeContext:null,retryLane:0};function gp(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dv(e,t,n){var r=t.pendingProps,i=mn.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),rn(mn,i&1),e===null)return lp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Of(o,r,0,null),e=no(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=gp(n),t.memoizedState=mp,e):Pm(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return I4(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=xa(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=xa(l,s):(s=no(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?gp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=mp,r}return s=e.child,e=s.sibling,r=xa(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pm(e,t){return t=Of({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ud(e,t,n,r){return r!==null&&xm(r),fl(t,e.child,null,n),e=Pm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function I4(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Yh(Error(De(422))),ud(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Of({mode:"visible",children:r.children},i,0,null),s=no(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&fl(t,e.child,null,o),t.child.memoizedState=gp(o),t.memoizedState=mp,s);if(!(t.mode&1))return ud(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(De(419)),r=Yh(s,r,void 0),ud(e,t,o,r)}if(l=(o&e.childLanes)!==0,Dr||l){if(r=Zn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ps(e,i),Fi(r,e,i,-1))}return Mm(),r=Yh(Error(De(421))),ud(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Z4.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Xr=ha(i.nextSibling),ei=t,un=!0,Ei=null,e!==null&&(fi[hi++]=Ss,fi[hi++]=ks,fi[hi++]=so,Ss=e.id,ks=e.overflow,so=t),t=Pm(t,r.children),t.flags|=4096,t)}function Mg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cp(e.return,t,n)}function Zh(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Rv(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(jr(e,t,r.children,n),r=mn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mg(e,n,t);else if(e.tag===19)Mg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rn(mn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&cf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zh(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&cf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zh(t,!0,n,null,s);break;case"together":Zh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),oo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,n=xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function M4(e,t,n){switch(t.tag){case 3:Tv(t),dl();break;case 5:ov(t);break;case 1:Mr(t.type)&&nf(t);break;case 4:_m(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;rn(af,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rn(mn,mn.current&1),t.flags|=128,null):n&t.child.childLanes?Dv(e,t,n):(rn(mn,mn.current&1),e=Fs(e,t,n),e!==null?e.sibling:null);rn(mn,mn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Rv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rn(mn,mn.current),r)break;return null;case 22:case 23:return t.lanes=0,Pv(e,t,n)}return Fs(e,t,n)}var Iv,xp,Mv,Ov;Iv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xp=function(){};Mv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Qi.current);var s=null;switch(n){case"input":i=z0(e,i),r=z0(e,r),s=[];break;case"select":i=xn({},i,{value:void 0}),r=xn({},r,{value:void 0}),s=[];break;case"textarea":i=q0(e,i),r=q0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ef)}$0(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&an("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Ov=function(e,t,n,r){n!==r&&(t.flags|=4)};function lc(e,t){if(!un)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function O4(e,t,n){var r=t.pendingProps;switch(gm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(t),null;case 1:return Mr(t.type)&&tf(),dr(t),null;case 3:return r=t.stateNode,hl(),ln(Ir),ln(yr),Sm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ld(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ei!==null&&(Sp(Ei),Ei=null))),xp(e,t),dr(t),null;case 5:jm(t);var i=Xa(Gc.current);if(n=t.type,e!==null&&t.stateNode!=null)Mv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(De(166));return dr(t),null}if(e=Xa(Qi.current),ld(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zi]=t,r[Wc]=s,e=(t.mode&1)!==0,n){case"dialog":an("cancel",r),an("close",r);break;case"iframe":case"object":case"embed":an("load",r);break;case"video":case"audio":for(i=0;i<xc.length;i++)an(xc[i],r);break;case"source":an("error",r);break;case"img":case"image":case"link":an("error",r),an("load",r);break;case"details":an("toggle",r);break;case"input":V1(r,s),an("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},an("invalid",r);break;case"textarea":Y1(r,s),an("invalid",r)}$0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&od(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&od(r.textContent,l,e),i=["children",""+l]):Rc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&an("scroll",r)}switch(n){case"input":Qu(r),G1(r,s,!0);break;case"textarea":Qu(r),Z1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ef)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=f5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zi]=t,e[Wc]=r,Iv(e,t,!1,!1),t.stateNode=e;e:{switch(o=W0(n,r),n){case"dialog":an("cancel",e),an("close",e),i=r;break;case"iframe":case"object":case"embed":an("load",e),i=r;break;case"video":case"audio":for(i=0;i<xc.length;i++)an(xc[i],e);i=r;break;case"source":an("error",e),i=r;break;case"img":case"image":case"link":an("error",e),an("load",e),i=r;break;case"details":an("toggle",e),i=r;break;case"input":V1(e,r),i=z0(e,r),an("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xn({},r,{value:void 0}),an("invalid",e);break;case"textarea":Y1(e,r),i=q0(e,r),an("invalid",e);break;default:i=r}$0(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?m5(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&h5(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ic(e,c):typeof c=="number"&&Ic(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Rc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&an("scroll",e):c!=null&&tm(e,s,c,o))}switch(n){case"input":Qu(e),G1(e,r,!1);break;case"textarea":Qu(e),Z1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wa(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Yo(e,!!r.multiple,s,!1):r.defaultValue!=null&&Yo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ef)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dr(t),null;case 6:if(e&&t.stateNode!=null)Ov(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(De(166));if(n=Xa(Gc.current),Xa(Qi.current),ld(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zi]=t,(s=r.nodeValue!==n)&&(e=ei,e!==null))switch(e.tag){case 3:od(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&od(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zi]=t,t.stateNode=r}return dr(t),null;case 13:if(ln(mn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(un&&Xr!==null&&t.mode&1&&!(t.flags&128))nv(),dl(),t.flags|=98560,s=!1;else if(s=ld(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(De(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));s[Zi]=t}else dl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dr(t),s=!1}else Ei!==null&&(Sp(Ei),Ei=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mn.current&1?Wn===0&&(Wn=3):Mm())),t.updateQueue!==null&&(t.flags|=4),dr(t),null);case 4:return hl(),xp(e,t),e===null&&Hc(t.stateNode.containerInfo),dr(t),null;case 10:return bm(t.type._context),dr(t),null;case 17:return Mr(t.type)&&tf(),dr(t),null;case 19:if(ln(mn),s=t.memoizedState,s===null)return dr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)lc(s,!1);else{if(Wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cf(e),o!==null){for(t.flags|=128,lc(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rn(mn,mn.current&1|2),t.child}e=e.sibling}s.tail!==null&&Cn()>ml&&(t.flags|=128,r=!0,lc(s,!1),t.lanes=4194304)}else{if(!r)if(e=cf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!un)return dr(t),null}else 2*Cn()-s.renderingStartTime>ml&&n!==1073741824&&(t.flags|=128,r=!0,lc(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Cn(),t.sibling=null,n=mn.current,rn(mn,r?n&1|2:n&1),t):(dr(t),null);case 22:case 23:return Im(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Kr&1073741824&&(dr(t),t.subtreeFlags&6&&(t.flags|=8192)):dr(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function z4(e,t){switch(gm(t),t.tag){case 1:return Mr(t.type)&&tf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hl(),ln(Ir),ln(yr),Sm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jm(t),null;case 13:if(ln(mn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));dl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ln(mn),null;case 4:return hl(),null;case 10:return bm(t.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var dd=!1,xr=!1,B4=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Wo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wn(e,t,r)}else n.current=null}function vp(e,t,n){try{n()}catch(r){wn(e,t,r)}}var Og=!1;function U4(e,t){if(tp=Xd,e=H5(),pm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,b=e,y=null;t:for(;;){for(var p;b!==n||i!==0&&b.nodeType!==3||(l=o+i),b!==s||r!==0&&b.nodeType!==3||(c=o+r),b.nodeType===3&&(o+=b.nodeValue.length),(p=b.firstChild)!==null;)y=b,b=p;for(;;){if(b===e)break t;if(y===n&&++d===i&&(l=o),y===s&&++h===r&&(c=o),(p=b.nextSibling)!==null)break;b=y,y=b.parentNode}b=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(np={focusedElem:e,selectionRange:n},Xd=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,I=S.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?C:Li(t.type,C),I);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(k){wn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return S=Og,Og=!1,S}function Ac(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&vp(t,n,s)}i=i.next}while(i!==r)}}function If(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function yp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zv(e){var t=e.alternate;t!==null&&(e.alternate=null,zv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zi],delete t[Wc],delete t[sp],delete t[_4],delete t[j4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bv(e){return e.tag===5||e.tag===3||e.tag===4}function zg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ef));else if(r!==4&&(e=e.child,e!==null))for(bp(e,t,n),e=e.sibling;e!==null;)bp(e,t,n),e=e.sibling}function wp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wp(e,t,n),e=e.sibling;e!==null;)wp(e,t,n),e=e.sibling}var tr=null,Ci=!1;function Xs(e,t,n){for(n=n.child;n!==null;)Uv(e,t,n),n=n.sibling}function Uv(e,t,n){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(Lf,n)}catch{}switch(n.tag){case 5:xr||Wo(n,t);case 6:var r=tr,i=Ci;tr=null,Xs(e,t,n),tr=r,Ci=i,tr!==null&&(Ci?(e=tr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tr.removeChild(n.stateNode));break;case 18:tr!==null&&(Ci?(e=tr,n=n.stateNode,e.nodeType===8?qh(e.parentNode,n):e.nodeType===1&&qh(e,n),Bc(e)):qh(tr,n.stateNode));break;case 4:r=tr,i=Ci,tr=n.stateNode.containerInfo,Ci=!0,Xs(e,t,n),tr=r,Ci=i;break;case 0:case 11:case 14:case 15:if(!xr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vp(n,t,o),i=i.next}while(i!==r)}Xs(e,t,n);break;case 1:if(!xr&&(Wo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){wn(n,t,l)}Xs(e,t,n);break;case 21:Xs(e,t,n);break;case 22:n.mode&1?(xr=(r=xr)||n.memoizedState!==null,Xs(e,t,n),xr=r):Xs(e,t,n);break;default:Xs(e,t,n)}}function Bg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new B4),t.forEach(function(r){var i=K4.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Si(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:tr=l.stateNode,Ci=!1;break e;case 3:tr=l.stateNode.containerInfo,Ci=!0;break e;case 4:tr=l.stateNode.containerInfo,Ci=!0;break e}l=l.return}if(tr===null)throw Error(De(160));Uv(s,o,i),tr=null,Ci=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){wn(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qv(t,e),t=t.sibling}function qv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Si(t,e),Wi(e),r&4){try{Ac(3,e,e.return),If(3,e)}catch(C){wn(e,e.return,C)}try{Ac(5,e,e.return)}catch(C){wn(e,e.return,C)}}break;case 1:Si(t,e),Wi(e),r&512&&n!==null&&Wo(n,n.return);break;case 5:if(Si(t,e),Wi(e),r&512&&n!==null&&Wo(n,n.return),e.flags&32){var i=e.stateNode;try{Ic(i,"")}catch(C){wn(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&u5(i,s),W0(l,o);var d=W0(l,s);for(o=0;o<c.length;o+=2){var h=c[o],b=c[o+1];h==="style"?m5(i,b):h==="dangerouslySetInnerHTML"?h5(i,b):h==="children"?Ic(i,b):tm(i,h,b,d)}switch(l){case"input":B0(i,s);break;case"textarea":d5(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Yo(i,!!s.multiple,p,!1):y!==!!s.multiple&&(s.defaultValue!=null?Yo(i,!!s.multiple,s.defaultValue,!0):Yo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wc]=s}catch(C){wn(e,e.return,C)}}break;case 6:if(Si(t,e),Wi(e),r&4){if(e.stateNode===null)throw Error(De(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(C){wn(e,e.return,C)}}break;case 3:if(Si(t,e),Wi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bc(t.containerInfo)}catch(C){wn(e,e.return,C)}break;case 4:Si(t,e),Wi(e);break;case 13:Si(t,e),Wi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dm=Cn())),r&4&&Bg(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(xr=(d=xr)||h,Si(t,e),xr=d):Si(t,e),Wi(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(ze=e,h=e.child;h!==null;){for(b=ze=h;ze!==null;){switch(y=ze,p=y.child,y.tag){case 0:case 11:case 14:case 15:Ac(4,y,y.return);break;case 1:Wo(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(C){wn(r,n,C)}}break;case 5:Wo(y,y.return);break;case 22:if(y.memoizedState!==null){qg(b);continue}}p!==null?(p.return=y,ze=p):qg(b)}h=h.sibling}e:for(h=null,b=e;;){if(b.tag===5){if(h===null){h=b;try{i=b.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=b.stateNode,c=b.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=p5("display",o))}catch(C){wn(e,e.return,C)}}}else if(b.tag===6){if(h===null)try{b.stateNode.nodeValue=d?"":b.memoizedProps}catch(C){wn(e,e.return,C)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;h===b&&(h=null),b=b.return}h===b&&(h=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:Si(t,e),Wi(e),r&4&&Bg(e);break;case 21:break;default:Si(t,e),Wi(e)}}function Wi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bv(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ic(i,""),r.flags&=-33);var s=zg(e);wp(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=zg(e);bp(e,l,o);break;default:throw Error(De(161))}}catch(c){wn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q4(e,t,n){ze=e,Hv(e)}function Hv(e,t,n){for(var r=(e.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dd;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||xr;l=dd;var d=xr;if(dd=o,(xr=c)&&!d)for(ze=i;ze!==null;)o=ze,c=o.child,o.tag===22&&o.memoizedState!==null?Hg(i):c!==null?(c.return=o,ze=c):Hg(i);for(;s!==null;)ze=s,Hv(s),s=s.sibling;ze=i,dd=l,xr=d}Ug(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):Ug(e)}}function Ug(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xr||If(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Li(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sg(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sg(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var b=h.dehydrated;b!==null&&Bc(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}xr||t.flags&512&&yp(t)}catch(y){wn(t,t.return,y)}}if(t===e){ze=null;break}if(n=t.sibling,n!==null){n.return=t.return,ze=n;break}ze=t.return}}function qg(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ze=n;break}ze=t.return}}function Hg(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{If(4,t)}catch(c){wn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){wn(t,i,c)}}var s=t.return;try{yp(t)}catch(c){wn(t,s,c)}break;case 5:var o=t.return;try{yp(t)}catch(c){wn(t,o,c)}}}catch(c){wn(t,t.return,c)}if(t===e){ze=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ze=l;break}ze=t.return}}var H4=Math.ceil,ff=Ds.ReactCurrentDispatcher,Fm=Ds.ReactCurrentOwner,gi=Ds.ReactCurrentBatchConfig,Ot=0,Zn=null,In=null,ir=0,Kr=0,Vo=ka(0),Wn=0,Xc=null,oo=0,Mf=0,Tm=0,Lc=null,Tr=null,Dm=0,ml=1/0,ws=null,hf=!1,Np=null,ma=null,fd=!1,oa=null,pf=0,Cc=0,_p=null,Id=-1,Md=0;function kr(){return Ot&6?Cn():Id!==-1?Id:Id=Cn()}function ga(e){return e.mode&1?Ot&2&&ir!==0?ir&-ir:k4.transition!==null?(Md===0&&(Md=A5()),Md):(e=Gt,e!==0||(e=window.event,e=e===void 0?16:D5(e.type)),e):1}function Fi(e,t,n,r){if(50<Cc)throw Cc=0,_p=null,Error(De(185));lu(e,n,r),(!(Ot&2)||e!==Zn)&&(e===Zn&&(!(Ot&2)&&(Mf|=n),Wn===4&&ia(e,ir)),Or(e,r),n===1&&Ot===0&&!(t.mode&1)&&(ml=Cn()+500,Tf&&Aa()))}function Or(e,t){var n=e.callbackNode;k3(e,t);var r=Kd(e,e===Zn?ir:0);if(r===0)n!==null&&J1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&J1(n),t===1)e.tag===0?S4($g.bind(null,e)):Q5($g.bind(null,e)),w4(function(){!(Ot&6)&&Aa()}),n=null;else{switch(L5(r)){case 1:n=am;break;case 4:n=S5;break;case 16:n=Zd;break;case 536870912:n=k5;break;default:n=Zd}n=Xv(n,$v.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $v(e,t){if(Id=-1,Md=0,Ot&6)throw Error(De(327));var n=e.callbackNode;if(Qo()&&e.callbackNode!==n)return null;var r=Kd(e,e===Zn?ir:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=mf(e,r);else{t=r;var i=Ot;Ot|=2;var s=Vv();(Zn!==e||ir!==t)&&(ws=null,ml=Cn()+500,to(e,t));do try{V4();break}catch(l){Wv(e,l)}while(1);ym(),ff.current=s,Ot=i,In!==null?t=0:(Zn=null,ir=0,t=Wn)}if(t!==0){if(t===2&&(i=K0(e),i!==0&&(r=i,t=jp(e,i))),t===1)throw n=Xc,to(e,0),ia(e,r),Or(e,Cn()),n;if(t===6)ia(e,r);else{if(i=e.current.alternate,!(r&30)&&!$4(i)&&(t=mf(e,r),t===2&&(s=K0(e),s!==0&&(r=s,t=jp(e,s))),t===1))throw n=Xc,to(e,0),ia(e,r),Or(e,Cn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(De(345));case 2:Va(e,Tr,ws);break;case 3:if(ia(e,r),(r&130023424)===r&&(t=Dm+500-Cn(),10<t)){if(Kd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){kr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ip(Va.bind(null,e,Tr,ws),t);break}Va(e,Tr,ws);break;case 4:if(ia(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Pi(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H4(r/1960))-r,10<r){e.timeoutHandle=ip(Va.bind(null,e,Tr,ws),r);break}Va(e,Tr,ws);break;case 5:Va(e,Tr,ws);break;default:throw Error(De(329))}}}return Or(e,Cn()),e.callbackNode===n?$v.bind(null,e):null}function jp(e,t){var n=Lc;return e.current.memoizedState.isDehydrated&&(to(e,t).flags|=256),e=mf(e,t),e!==2&&(t=Tr,Tr=n,t!==null&&Sp(t)),e}function Sp(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function $4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Di(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t){for(t&=~Tm,t&=~Mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pi(t),r=1<<n;e[n]=-1,t&=~r}}function $g(e){if(Ot&6)throw Error(De(327));Qo();var t=Kd(e,0);if(!(t&1))return Or(e,Cn()),null;var n=mf(e,t);if(e.tag!==0&&n===2){var r=K0(e);r!==0&&(t=r,n=jp(e,r))}if(n===1)throw n=Xc,to(e,0),ia(e,t),Or(e,Cn()),n;if(n===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Va(e,Tr,ws),Or(e,Cn()),null}function Rm(e,t){var n=Ot;Ot|=1;try{return e(t)}finally{Ot=n,Ot===0&&(ml=Cn()+500,Tf&&Aa())}}function lo(e){oa!==null&&oa.tag===0&&!(Ot&6)&&Qo();var t=Ot;Ot|=1;var n=gi.transition,r=Gt;try{if(gi.transition=null,Gt=1,e)return e()}finally{Gt=r,gi.transition=n,Ot=t,!(Ot&6)&&Aa()}}function Im(){Kr=Vo.current,ln(Vo)}function to(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,b4(n)),In!==null)for(n=In.return;n!==null;){var r=n;switch(gm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tf();break;case 3:hl(),ln(Ir),ln(yr),Sm();break;case 5:jm(r);break;case 4:hl();break;case 13:ln(mn);break;case 19:ln(mn);break;case 10:bm(r.type._context);break;case 22:case 23:Im()}n=n.return}if(Zn=e,In=e=xa(e.current,null),ir=Kr=t,Wn=0,Xc=null,Tm=Mf=oo=0,Tr=Lc=null,Ka!==null){for(t=0;t<Ka.length;t++)if(n=Ka[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ka=null}return e}function Wv(e,t){do{var n=In;try{if(ym(),Td.current=df,uf){for(var r=gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uf=!1}if(ao=0,Gn=$n=gn=null,kc=!1,Yc=0,Fm.current=null,n===null||n.return===null){Wn=1,Xc=t,In=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=ir,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,b=h.tag;if(!(h.mode&1)&&(b===0||b===11||b===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Pg(o);if(p!==null){p.flags&=-257,Fg(p,o,l,s,t),p.mode&1&&Eg(s,d,t),t=p,c=d;var S=t.updateQueue;if(S===null){var C=new Set;C.add(c),t.updateQueue=C}else S.add(c);break e}else{if(!(t&1)){Eg(s,d,t),Mm();break e}c=Error(De(426))}}else if(un&&l.mode&1){var I=Pg(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Fg(I,o,l,s,t),xm(pl(c,l));break e}}s=c=pl(c,l),Wn!==4&&(Wn=2),Lc===null?Lc=[s]:Lc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Lv(s,c,t);jg(s,g);break e;case 1:l=c;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ma===null||!ma.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=Cv(s,l,t);jg(s,k);break e}}s=s.return}while(s!==null)}Yv(n)}catch(H){t=H,In===n&&n!==null&&(In=n=n.return);continue}break}while(1)}function Vv(){var e=ff.current;return ff.current=df,e===null?df:e}function Mm(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),Zn===null||!(oo&268435455)&&!(Mf&268435455)||ia(Zn,ir)}function mf(e,t){var n=Ot;Ot|=2;var r=Vv();(Zn!==e||ir!==t)&&(ws=null,to(e,t));do try{W4();break}catch(i){Wv(e,i)}while(1);if(ym(),Ot=n,ff.current=r,In!==null)throw Error(De(261));return Zn=null,ir=0,Wn}function W4(){for(;In!==null;)Gv(In)}function V4(){for(;In!==null&&!x3();)Gv(In)}function Gv(e){var t=Kv(e.alternate,e,Kr);e.memoizedProps=e.pendingProps,t===null?Yv(e):In=t,Fm.current=null}function Yv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=z4(n,t),n!==null){n.flags&=32767,In=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wn=6,In=null;return}}else if(n=O4(n,t,Kr),n!==null){In=n;return}if(t=t.sibling,t!==null){In=t;return}In=t=e}while(t!==null);Wn===0&&(Wn=5)}function Va(e,t,n){var r=Gt,i=gi.transition;try{gi.transition=null,Gt=1,G4(e,t,n,r)}finally{gi.transition=i,Gt=r}return null}function G4(e,t,n,r){do Qo();while(oa!==null);if(Ot&6)throw Error(De(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(A3(e,s),e===Zn&&(In=Zn=null,ir=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fd||(fd=!0,Xv(Zd,function(){return Qo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gi.transition,gi.transition=null;var o=Gt;Gt=1;var l=Ot;Ot|=4,Fm.current=null,U4(e,n),qv(n,e),h4(np),Xd=!!tp,np=tp=null,e.current=n,q4(n),v3(),Ot=l,Gt=o,gi.transition=s}else e.current=n;if(fd&&(fd=!1,oa=e,pf=i),s=e.pendingLanes,s===0&&(ma=null),w3(n.stateNode),Or(e,Cn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hf)throw hf=!1,e=Np,Np=null,e;return pf&1&&e.tag!==0&&Qo(),s=e.pendingLanes,s&1?e===_p?Cc++:(Cc=0,_p=e):Cc=0,Aa(),null}function Qo(){if(oa!==null){var e=L5(pf),t=gi.transition,n=Gt;try{if(gi.transition=null,Gt=16>e?16:e,oa===null)var r=!1;else{if(e=oa,oa=null,pf=0,Ot&6)throw Error(De(331));var i=Ot;for(Ot|=4,ze=e.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ze=d;ze!==null;){var h=ze;switch(h.tag){case 0:case 11:case 15:Ac(8,h,s)}var b=h.child;if(b!==null)b.return=h,ze=b;else for(;ze!==null;){h=ze;var y=h.sibling,p=h.return;if(zv(h),h===d){ze=null;break}if(y!==null){y.return=p,ze=y;break}ze=p}}}var S=s.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ac(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ze=g;break e}ze=s.return}}var v=e.current;for(ze=v;ze!==null;){o=ze;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ze=w;else e:for(o=v;ze!==null;){if(l=ze,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:If(9,l)}}catch(H){wn(l,l.return,H)}if(l===o){ze=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ze=k;break e}ze=l.return}}if(Ot=i,Aa(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(Lf,e)}catch{}r=!0}return r}finally{Gt=n,gi.transition=t}}return!1}function Wg(e,t,n){t=pl(n,t),t=Lv(e,t,1),e=pa(e,t,1),t=kr(),e!==null&&(lu(e,1,t),Or(e,t))}function wn(e,t,n){if(e.tag===3)Wg(e,e,n);else for(;t!==null;){if(t.tag===3){Wg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ma===null||!ma.has(r))){e=pl(n,e),e=Cv(t,e,1),t=pa(t,e,1),e=kr(),t!==null&&(lu(t,1,e),Or(t,e));break}}t=t.return}}function Y4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kr(),e.pingedLanes|=e.suspendedLanes&n,Zn===e&&(ir&n)===n&&(Wn===4||Wn===3&&(ir&130023424)===ir&&500>Cn()-Dm?to(e,0):Tm|=n),Or(e,t)}function Zv(e,t){t===0&&(e.mode&1?(t=nd,nd<<=1,!(nd&130023424)&&(nd=4194304)):t=1);var n=kr();e=Ps(e,t),e!==null&&(lu(e,t,n),Or(e,n))}function Z4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zv(e,n)}function K4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(t),Zv(e,n)}var Kv;Kv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Dr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dr=!1,M4(e,t,n);Dr=!!(e.flags&131072)}else Dr=!1,un&&t.flags&1048576&&ev(t,sf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Rd(e,t),e=t.pendingProps;var i=ul(t,yr.current);Jo(t,n),i=Am(null,t,r,e,i,n);var s=Lm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(r)?(s=!0,nf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nm(t),i.updater=Rf,t.stateNode=i,i._reactInternals=t,dp(t,r,e,n),t=pp(null,t,r,!0,s,n)):(t.tag=0,un&&s&&mm(t),jr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Rd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=J4(r),e=Li(r,e),i){case 0:t=hp(null,t,r,e,n);break e;case 1:t=Rg(null,t,r,e,n);break e;case 11:t=Tg(null,t,r,e,n);break e;case 14:t=Dg(null,t,r,Li(r.type,e),n);break e}throw Error(De(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Li(r,i),hp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Li(r,i),Rg(e,t,r,i,n);case 3:e:{if(Tv(t),e===null)throw Error(De(387));r=t.pendingProps,s=t.memoizedState,i=s.element,av(e,t),lf(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=pl(Error(De(423)),t),t=Ig(e,t,r,n,i);break e}else if(r!==i){i=pl(Error(De(424)),t),t=Ig(e,t,r,n,i);break e}else for(Xr=ha(t.stateNode.containerInfo.firstChild),ei=t,un=!0,Ei=null,n=iv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dl(),r===i){t=Fs(e,t,n);break e}jr(e,t,r,n)}t=t.child}return t;case 5:return ov(t),e===null&&lp(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,rp(r,i)?o=null:s!==null&&rp(r,s)&&(t.flags|=32),Fv(e,t),jr(e,t,o,n),t.child;case 6:return e===null&&lp(t),null;case 13:return Dv(e,t,n);case 4:return _m(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fl(t,null,r,n):jr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Li(r,i),Tg(e,t,r,i,n);case 7:return jr(e,t,t.pendingProps,n),t.child;case 8:return jr(e,t,t.pendingProps.children,n),t.child;case 12:return jr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,rn(af,r._currentValue),r._currentValue=o,s!==null)if(Di(s.value,o)){if(s.children===i.children&&!Ir.current){t=Fs(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ls(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),cp(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(De(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cp(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Jo(t,n),i=xi(i),r=r(i),t.flags|=1,jr(e,t,r,n),t.child;case 14:return r=t.type,i=Li(r,t.pendingProps),i=Li(r.type,i),Dg(e,t,r,i,n);case 15:return Ev(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Li(r,i),Rd(e,t),t.tag=1,Mr(r)?(e=!0,nf(t)):e=!1,Jo(t,n),Av(t,r,i),dp(t,r,i,n),pp(null,t,r,!0,e,n);case 19:return Rv(e,t,n);case 22:return Pv(e,t,n)}throw Error(De(156,t.tag))};function Xv(e,t){return j5(e,t)}function X4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(e,t,n,r){return new X4(e,t,n,r)}function Om(e){return e=e.prototype,!(!e||!e.isReactComponent)}function J4(e){if(typeof e=="function")return Om(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rm)return 11;if(e===im)return 14}return 2}function xa(e,t){var n=e.alternate;return n===null?(n=mi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Od(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Om(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Io:return no(n.children,i,s,t);case nm:o=8,i|=8;break;case R0:return e=mi(12,n,t,i|2),e.elementType=R0,e.lanes=s,e;case I0:return e=mi(13,n,t,i),e.elementType=I0,e.lanes=s,e;case M0:return e=mi(19,n,t,i),e.elementType=M0,e.lanes=s,e;case o5:return Of(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s5:o=10;break e;case a5:o=9;break e;case rm:o=11;break e;case im:o=14;break e;case ta:o=16,r=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=mi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function no(e,t,n,r){return e=mi(7,e,r,t),e.lanes=n,e}function Of(e,t,n,r){return e=mi(22,e,r,t),e.elementType=o5,e.lanes=n,e.stateNode={isHidden:!1},e}function Kh(e,t,n){return e=mi(6,e,null,t),e.lanes=n,e}function Xh(e,t,n){return t=mi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Q4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ph(0),this.expirationTimes=Ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zm(e,t,n,r,i,s,o,l,c){return e=new Q4(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(s),e}function eN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Jv(e){if(!e)return Na;e=e._reactInternals;e:{if(po(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var n=e.type;if(Mr(n))return J5(e,n,t)}return t}function Qv(e,t,n,r,i,s,o,l,c){return e=zm(n,r,!0,e,i,s,o,l,c),e.context=Jv(null),n=e.current,r=kr(),i=ga(n),s=Ls(r,i),s.callback=t??null,pa(n,s,i),e.current.lanes=i,lu(e,i,r),Or(e,r),e}function zf(e,t,n,r){var i=t.current,s=kr(),o=ga(i);return n=Jv(n),t.context===null?t.context=n:t.pendingContext=n,t=Ls(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pa(i,t,o),e!==null&&(Fi(e,i,o,s),Fd(e,i,o)),o}function gf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bm(e,t){Vg(e,t),(e=e.alternate)&&Vg(e,t)}function tN(){return null}var ey=typeof reportError=="function"?reportError:function(e){console.error(e)};function Um(e){this._internalRoot=e}Bf.prototype.render=Um.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));zf(e,t,null,null)};Bf.prototype.unmount=Um.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lo(function(){zf(null,e,null,null)}),t[Es]=null}};function Bf(e){this._internalRoot=e}Bf.prototype.unstable_scheduleHydration=function(e){if(e){var t=P5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ra.length&&t!==0&&t<ra[n].priority;n++);ra.splice(n,0,e),n===0&&T5(e)}};function qm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gg(){}function nN(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=gf(o);s.call(d)}}var o=Qv(t,r,e,0,null,!1,!1,"",Gg);return e._reactRootContainer=o,e[Es]=o.current,Hc(e.nodeType===8?e.parentNode:e),lo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=gf(c);l.call(d)}}var c=zm(e,0,!1,null,null,!1,!1,"",Gg);return e._reactRootContainer=c,e[Es]=c.current,Hc(e.nodeType===8?e.parentNode:e),lo(function(){zf(t,c,n,r)}),c}function qf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=gf(o);l.call(c)}}zf(t,o,e,i)}else o=nN(n,t,e,i,r);return gf(o)}C5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gc(t.pendingLanes);n!==0&&(om(t,n|1),Or(t,Cn()),!(Ot&6)&&(ml=Cn()+500,Aa()))}break;case 13:lo(function(){var r=Ps(e,1);if(r!==null){var i=kr();Fi(r,e,1,i)}}),Bm(e,1)}};lm=function(e){if(e.tag===13){var t=Ps(e,134217728);if(t!==null){var n=kr();Fi(t,e,134217728,n)}Bm(e,134217728)}};E5=function(e){if(e.tag===13){var t=ga(e),n=Ps(e,t);if(n!==null){var r=kr();Fi(n,e,t,r)}Bm(e,t)}};P5=function(){return Gt};F5=function(e,t){var n=Gt;try{return Gt=e,t()}finally{Gt=n}};G0=function(e,t,n){switch(t){case"input":if(B0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ff(r);if(!i)throw Error(De(90));c5(r),B0(r,i)}}}break;case"textarea":d5(e,n);break;case"select":t=n.value,t!=null&&Yo(e,!!n.multiple,t,!1)}};v5=Rm;y5=lo;var rN={usingClientEntryPoint:!1,Events:[uu,Bo,Ff,g5,x5,Rm]},cc={findFiberByHostInstance:Za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iN={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=N5(e),e===null?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||tN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Lf=hd.inject(iN),Ji=hd}catch{}}ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rN;ni.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qm(t))throw Error(De(200));return eN(e,t,null,n)};ni.createRoot=function(e,t){if(!qm(e))throw Error(De(299));var n=!1,r="",i=ey;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zm(e,1,!1,null,null,n,!1,r,i),e[Es]=t.current,Hc(e.nodeType===8?e.parentNode:e),new Um(t)};ni.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=N5(t),e=e===null?null:e.stateNode,e};ni.flushSync=function(e){return lo(e)};ni.hydrate=function(e,t,n){if(!Uf(t))throw Error(De(200));return qf(null,e,t,!0,n)};ni.hydrateRoot=function(e,t,n){if(!qm(e))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ey;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Qv(t,null,e,1,n??null,i,!1,s,o),e[Es]=t.current,Hc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bf(t)};ni.render=function(e,t,n){if(!Uf(t))throw Error(De(200));return qf(null,e,t,!1,n)};ni.unmountComponentAtNode=function(e){if(!Uf(e))throw Error(De(40));return e._reactRootContainer?(lo(function(){qf(null,null,e,!1,function(){e._reactRootContainer=null,e[Es]=null})}),!0):!1};ni.unstable_batchedUpdates=Rm;ni.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uf(n))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return qf(e,t,n,!1,r)};ni.version="18.3.1-next-f1338f8080-20240426";function ty(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ty)}catch(e){console.error(e)}}ty(),t5.exports=ni;var sN=t5.exports,Yg=sN;T0.createRoot=Yg.createRoot,T0.hydrateRoot=Yg.hydrateRoot;function Zg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function aN(...e){return t=>{let n=!1;const r=e.map(i=>{const s=Zg(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Zg(e[i],null)}}}}var oN=Symbol.for("react.lazy"),xf=Yw[" use ".trim().toString()];function lN(e){return typeof e=="object"&&e!==null&&"then"in e}function ny(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===oN&&"_payload"in e&&lN(e._payload)}function ry(e){const t=uN(e),n=Ae.forwardRef((r,i)=>{let{children:s,...o}=r;ny(s)&&typeof xf=="function"&&(s=xf(s._payload));const l=Ae.Children.toArray(s),c=l.find(fN);if(c){const d=c.props.children,h=l.map(b=>b===c?Ae.Children.count(d)>1?Ae.Children.only(null):Ae.isValidElement(d)?d.props.children:null:b);return a.jsx(t,{...o,ref:i,children:Ae.isValidElement(d)?Ae.cloneElement(d,void 0,h):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var cN=ry("Slot");function uN(e){const t=Ae.forwardRef((n,r)=>{let{children:i,...s}=n;if(ny(i)&&typeof xf=="function"&&(i=xf(i._payload)),Ae.isValidElement(i)){const o=pN(i),l=hN(s,i.props);return i.type!==Ae.Fragment&&(l.ref=r?aN(r,o):o),Ae.cloneElement(i,l)}return Ae.Children.count(i)>1?Ae.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dN=Symbol("radix.slottable");function fN(e){return Ae.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dN}function hN(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function pN(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function iy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=iy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function sy(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=iy(e))&&(r&&(r+=" "),r+=t);return r}const Kg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xg=sy,mN=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Xg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],b=s==null?void 0:s[d];if(h===null)return null;const y=Kg(h)||Kg(b);return i[d][y]}),l=n&&Object.entries(n).reduce((d,h)=>{let[b,y]=h;return y===void 0||(d[b]=y),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:b,className:y,...p}=h;return Object.entries(p).every(S=>{let[C,I]=S;return Array.isArray(I)?I.includes({...s,...l}[C]):{...s,...l}[C]===I})?[...d,b,y]:d},[]);return Xg(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},gN=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},xN=(e,t)=>({classGroupId:e,validator:t}),ay=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),vf="-",Jg=[],vN="arbitrary..",yN=e=>{const t=wN(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return bN(o);const l=o.split(vf),c=l[0]===""&&l.length>1?1:0;return oy(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=r[o],d=n[o];return c?d?gN(d,c):c:d||Jg}return n[o]||Jg}}},oy=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],s=n.nextPart.get(i);if(s){const d=oy(e,t+1,s);if(d)return d}const o=n.validators;if(o===null)return;const l=t===0?e.join(vf):e.slice(t).join(vf),c=o.length;for(let d=0;d<c;d++){const h=o[d];if(h.validator(l))return h.classGroupId}},bN=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?vN+r:void 0})(),wN=e=>{const{theme:t,classGroups:n}=e;return NN(n,t)},NN=(e,t)=>{const n=ay();for(const r in e){const i=e[r];Hm(i,n,r,t)}return n},Hm=(e,t,n,r)=>{const i=e.length;for(let s=0;s<i;s++){const o=e[s];_N(o,t,n,r)}},_N=(e,t,n,r)=>{if(typeof e=="string"){jN(e,t,n);return}if(typeof e=="function"){SN(e,t,n,r);return}kN(e,t,n,r)},jN=(e,t,n)=>{const r=e===""?t:ly(t,e);r.classGroupId=n},SN=(e,t,n,r)=>{if(AN(e)){Hm(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(xN(n,e))},kN=(e,t,n,r)=>{const i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[l,c]=i[o];Hm(c,ly(t,l),n,r)}},ly=(e,t)=>{let n=e;const r=t.split(vf),i=r.length;for(let s=0;s<i;s++){const o=r[s];let l=n.nextPart.get(o);l||(l=ay(),n.nextPart.set(o,l)),n=l}return n},AN=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,LN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},kp="!",Qg=":",CN=[],e2=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),EN=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let o=0,l=0,c=0,d;const h=i.length;for(let C=0;C<h;C++){const I=i[C];if(o===0&&l===0){if(I===Qg){s.push(i.slice(c,C)),c=C+1;continue}if(I==="/"){d=C;continue}}I==="["?o++:I==="]"?o--:I==="("?l++:I===")"&&l--}const b=s.length===0?i:i.slice(c);let y=b,p=!1;b.endsWith(kp)?(y=b.slice(0,-1),p=!0):b.startsWith(kp)&&(y=b.slice(1),p=!0);const S=d&&d>c?d-c:void 0;return e2(s,p,y,S)};if(t){const i=t+Qg,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):e2(CN,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},PN=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],l=o[0]==="[",c=t.has(o);l||c?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},FN=e=>({cache:LN(e.cacheSize),parseClassName:EN(e),sortModifiers:PN(e),...yN(e)}),TN=/\s+/,DN=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],l=e.trim().split(TN);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:b,modifiers:y,hasImportantModifier:p,baseClassName:S,maybePostfixModifierPosition:C}=n(h);if(b){c=h+(c.length>0?" "+c:c);continue}let I=!!C,g=r(I?S.substring(0,C):S);if(!g){if(!I){c=h+(c.length>0?" "+c:c);continue}if(g=r(S),!g){c=h+(c.length>0?" "+c:c);continue}I=!1}const v=y.length===0?"":y.length===1?y[0]:s(y).join(":"),w=p?v+kp:v,k=w+g;if(o.indexOf(k)>-1)continue;o.push(k);const H=i(g,I);for(let M=0;M<H.length;++M){const K=H[M];o.push(w+K)}c=h+(c.length>0?" "+c:c)}return c},RN=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=cy(n))&&(i&&(i+=" "),i+=r);return i},cy=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=cy(e[r]))&&(n&&(n+=" "),n+=t);return n},IN=(e,...t)=>{let n,r,i,s;const o=c=>{const d=t.reduce((h,b)=>b(h),e());return n=FN(d),r=n.cache.get,i=n.cache.set,s=l,l(c)},l=c=>{const d=r(c);if(d)return d;const h=DN(c,n);return i(c,h),h};return s=o,(...c)=>s(RN(...c))},MN=[],Hn=e=>{const t=n=>n[e]||MN;return t.isThemeGetter=!0,t},uy=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ON=/^\d+\/\d+$/,zN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lo=e=>ON.test(e),At=e=>!!e&&!Number.isNaN(Number(e)),Js=e=>!!e&&Number.isInteger(Number(e)),Jh=e=>e.endsWith("%")&&At(e.slice(0,-1)),vs=e=>zN.test(e),$N=()=>!0,WN=e=>BN.test(e)&&!UN.test(e),fy=()=>!1,VN=e=>qN.test(e),GN=e=>HN.test(e),YN=e=>!Ue(e)&&!qe(e),ZN=e=>jl(e,my,fy),Ue=e=>uy.test(e),$a=e=>jl(e,gy,WN),Qh=e=>jl(e,e_,At),t2=e=>jl(e,hy,fy),KN=e=>jl(e,py,GN),pd=e=>jl(e,xy,VN),qe=e=>dy.test(e),uc=e=>Sl(e,gy),XN=e=>Sl(e,t_),n2=e=>Sl(e,hy),JN=e=>Sl(e,my),QN=e=>Sl(e,py),md=e=>Sl(e,xy,!0),jl=(e,t,n)=>{const r=uy.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Sl=(e,t,n=!1)=>{const r=dy.exec(e);return r?r[1]?t(r[1]):n:!1},hy=e=>e==="position"||e==="percentage",py=e=>e==="image"||e==="url",my=e=>e==="length"||e==="size"||e==="bg-size",gy=e=>e==="length",e_=e=>e==="number",t_=e=>e==="family-name",xy=e=>e==="shadow",n_=()=>{const e=Hn("color"),t=Hn("font"),n=Hn("text"),r=Hn("font-weight"),i=Hn("tracking"),s=Hn("leading"),o=Hn("breakpoint"),l=Hn("container"),c=Hn("spacing"),d=Hn("radius"),h=Hn("shadow"),b=Hn("inset-shadow"),y=Hn("text-shadow"),p=Hn("drop-shadow"),S=Hn("blur"),C=Hn("perspective"),I=Hn("aspect"),g=Hn("ease"),v=Hn("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...k(),qe,Ue],M=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto","contain","none"],T=()=>[qe,Ue,c],_=()=>[Lo,"full","auto",...T()],j=()=>[Js,"none","subgrid",qe,Ue],E=()=>["auto",{span:["full",Js,qe,Ue]},Js,qe,Ue],R=()=>[Js,"auto",qe,Ue],Z=()=>["auto","min","max","fr",qe,Ue],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],se=()=>["start","end","center","stretch","center-safe","end-safe"],le=()=>["auto",...T()],ae=()=>[Lo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],U=()=>[e,qe,Ue],te=()=>[...k(),n2,t2,{position:[qe,Ue]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],me=()=>["auto","cover","contain",JN,ZN,{size:[qe,Ue]}],P=()=>[Jh,uc,$a],q=()=>["","none","full",d,qe,Ue],$=()=>["",At,uc,$a],X=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[At,Jh,n2,t2],xe=()=>["","none",S,qe,Ue],ge=()=>["none",At,qe,Ue],he=()=>["none",At,qe,Ue],Se=()=>[At,qe,Ue],ke=()=>[Lo,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vs],breakpoint:[vs],color:[$N],container:[vs],"drop-shadow":[vs],ease:["in","out","in-out"],font:[YN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vs],shadow:[vs],spacing:["px",At],text:[vs],"text-shadow":[vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Lo,Ue,qe,I]}],container:["container"],columns:[{columns:[At,Ue,qe,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[Js,"auto",qe,Ue]}],basis:[{basis:[Lo,"full","auto",l,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[At,Lo,"auto","initial","none",Ue]}],grow:[{grow:["",At,qe,Ue]}],shrink:[{shrink:["",At,qe,Ue]}],order:[{order:[Js,"first","last","none",qe,Ue]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...se(),"normal"]}],"justify-self":[{"justify-self":["auto",...se()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...se(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...se(),"baseline"]}],"place-self":[{"place-self":["auto",...se()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:le()}],mx:[{mx:le()}],my:[{my:le()}],ms:[{ms:le()}],me:[{me:le()}],mt:[{mt:le()}],mr:[{mr:le()}],mb:[{mb:le()}],ml:[{ml:le()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[l,"screen",...ae()]}],"min-w":[{"min-w":[l,"screen","none",...ae()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,uc,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,qe,Qh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jh,Ue]}],"font-family":[{font:[XN,Ue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,qe,Ue]}],"line-clamp":[{"line-clamp":[At,"none",qe,Qh]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",qe,Ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:[At,"from-font","auto",qe,$a]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[At,"auto",qe,Ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:me()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Js,qe,Ue],radial:["",qe,Ue],conic:[Js,qe,Ue]},QN,KN]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...X(),"hidden","none"]}],"divide-style":[{divide:[...X(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...X(),"none","hidden"]}],"outline-offset":[{"outline-offset":[At,qe,Ue]}],"outline-w":[{outline:["",At,uc,$a]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",h,md,pd]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",b,md,pd]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[At,$a]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",y,md,pd]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[At,qe,Ue]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[At]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[qe,Ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[At]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:me()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,Ue]}],filter:[{filter:["","none",qe,Ue]}],blur:[{blur:xe()}],brightness:[{brightness:[At,qe,Ue]}],contrast:[{contrast:[At,qe,Ue]}],"drop-shadow":[{"drop-shadow":["","none",p,md,pd]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",At,qe,Ue]}],"hue-rotate":[{"hue-rotate":[At,qe,Ue]}],invert:[{invert:["",At,qe,Ue]}],saturate:[{saturate:[At,qe,Ue]}],sepia:[{sepia:["",At,qe,Ue]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,Ue]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[At,qe,Ue]}],"backdrop-contrast":[{"backdrop-contrast":[At,qe,Ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",At,qe,Ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[At,qe,Ue]}],"backdrop-invert":[{"backdrop-invert":["",At,qe,Ue]}],"backdrop-opacity":[{"backdrop-opacity":[At,qe,Ue]}],"backdrop-saturate":[{"backdrop-saturate":[At,qe,Ue]}],"backdrop-sepia":[{"backdrop-sepia":["",At,qe,Ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,Ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[At,"initial",qe,Ue]}],ease:[{ease:["linear","initial",g,qe,Ue]}],delay:[{delay:[At,qe,Ue]}],animate:[{animate:["none",v,qe,Ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,qe,Ue]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[qe,Ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ke()}],"translate-x":[{"translate-x":ke()}],"translate-y":[{"translate-y":ke()}],"translate-z":[{"translate-z":ke()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,Ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,Ue]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[At,uc,$a,Qh]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},r_=IN(n_);function La(...e){return r_(sy(e))}const i_=mN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function s_({className:e,variant:t,size:n,asChild:r=!1,...i}){const s=r?cN:"button";return a.jsx(s,{"data-slot":"button",className:La(i_({variant:t,size:n,className:e})),...i})}function r2({className:e,type:t,...n}){return a.jsx("input",{type:t,"data-slot":"input",className:La("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var a_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],o_=a_.reduce((e,t)=>{const n=ry(`Primitive.${t}`),r=Ae.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),l_="Label",vy=Ae.forwardRef((e,t)=>a.jsx(o_.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vy.displayName=l_;var c_=vy;function i2({className:e,...t}){return a.jsx(c_,{"data-slot":"label",className:La("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function u_({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:La("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function d_({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:La("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function f_({className:e,...t}){return a.jsx("h4",{"data-slot":"card-title",className:La("leading-none",e),...t})}function h_({className:e,...t}){return a.jsx("p",{"data-slot":"card-description",className:La("text-muted-foreground",e),...t})}function p_({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:La("px-6 [&:last-child]:pb-6",e),...t})}var m_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const g_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x_=(e,t)=>{const n=Ae.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...c},d)=>Ae.createElement("svg",{ref:d,...m_,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${g_(e)}`,...c},[...t.map(([h,b])=>Ae.createElement(h,b)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var yt=x_;const Hf=yt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),vc=yt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Jc=yt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),yy=yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),e0=yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),gr=yt("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),gl=yt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ki=yt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),el=yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),v_=yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),tl=yt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),y_=yt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ti=yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),b_=yt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),by=yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),w_=yt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),N_=yt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),__=yt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),wy=yt("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),nl=yt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Ny=yt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),j_=yt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),S_=yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),k_=yt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),xl=yt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),s2=yt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),a2=yt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),_y=yt("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),gd=yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),o2=yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),jy=yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),A_=yt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),l2=yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),c2=yt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),L_=yt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),u2=yt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Ap=yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),C_=yt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),_a=yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),E_=yt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),P_=yt("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Lp=yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),F_=()=>{const e={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_API_BASE_URL;return e&&e.trim()!==""?e:typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname.includes("run.app")?"https://twincare-backend-b6k7kyv5iq-uc.a.run.app/api":"http://localhost:8080/api"},vr=F_();function T_({onLogin:e}){const[t,n]=Ae.useState(""),[r,i]=Ae.useState(""),[s,o]=Ae.useState(!1),[l,c]=Ae.useState(!1),[d,h]=Ae.useState(null),b=async y=>{y.preventDefault(),c(!0),h(null);try{const p=await fetch(`${vr}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r})}),S=await p.json();p.ok&&S.data?e(t,r,S.data):h(S.message||"Invalid email or password")}catch(p){console.error("Login error:",p),h("Failed to connect to server. Please try again.")}finally{c(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 flex flex-col items-center justify-center p-4",children:[a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:a.jsx("img",{src:"/twincare-logo.svg",alt:"TwinCare Logo",className:"w-12 h-12"})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"TwinCare"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Digital Twin Healthcare Intelligence"})]}),a.jsxs(u_,{className:"w-full max-w-md shadow-xl",children:[a.jsxs(d_,{className:"space-y-1",children:[a.jsx(f_,{className:"text-2xl font-semibold text-center",children:"Clinician Sign In"}),a.jsx(h_,{className:"text-center",children:"Access your patient dashboard"})]}),a.jsx(p_,{children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(i2,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(r2,{id:"email",type:"email",placeholder:"doctor@hospital.org",value:t,onChange:y=>n(y.target.value),required:!0,className:"pr-10"}),a.jsx(S_,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i2,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(r2,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:y=>i(y.target.value),required:!0,className:"pr-10"}),a.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?a.jsx(N_,{className:"w-4 h-4"}):a.jsx(__,{className:"w-4 h-4"})})]})]}),d&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-700",children:d})}),a.jsx(s_,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:l,children:l?"Signing in...":"Sign In"})]})})]}),a.jsx("p",{className:"mt-6 text-xs text-gray-500 text-center",children:"Authorized personnel only. All access is logged and monitored."}),a.jsx("div",{className:"mt-8 w-full max-w-md p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Jc,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-900 mb-1",children:"Clinical Decision Support Notice"}),a.jsx("p",{className:"text-xs text-yellow-800",children:"AI recommendations are assistive and require clinical judgment. All decisions must be validated by a licensed healthcare provider."})]})]})})]})}function rr({tier:e,size:t="md"}){const n={sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"},r={Critical:"bg-red-900 text-white border-red-950",High:"bg-red-100 text-red-800 border-red-200",Medium:"bg-amber-100 text-amber-800 border-amber-200",Low:"bg-green-100 text-green-800 border-green-200"},i=s=>{switch(s){case"Critical":return"Critical Alert";case"High":return"High Alert";case"Medium":return"Moderate Alert";case"Low":return"Low Alert";default:return"Moderate Alert"}};return a.jsxs("span",{className:`inline-flex items-center font-medium rounded border ${n[t]} ${r[e]}`,children:[a.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${e==="Critical"?"bg-red-900":e==="High"?"bg-red-500":e==="Medium"?"bg-amber-500":"bg-green-500"}`}),i(e)]})}function D_({status:e}){const t={Monitoring:"bg-blue-100 text-blue-800","Needs Review":"bg-orange-100 text-orange-800","Action Taken":"bg-green-100 text-green-800"};return a.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-medium rounded-full ${t[e]}`,children:e})}const R_=e=>{if(!e)return"Medium";const t=e.toUpperCase();return t==="HIGH"||t==="HIGH ALERT"?"High":t==="CRITICAL"||t==="CRITICAL ALERT"?"Critical":t==="MEDIUM"||t==="MODERATE"||t==="MODERATE ALERT"?"Medium":t==="LOW"||t==="LOW ALERT"?"Low":"Medium"},I_=e=>{if(!e)return null;const t=e.toUpperCase();return t==="CRITICAL"?"Critical":t==="HIGH"?"High":t==="MEDIUM"||t==="MODERATE"?"Medium":t==="LOW"?"Low":null},M_=e=>{if(!e)return"Monitoring";const t=e.toUpperCase();return t==="ACTIVE"?"Monitoring":t==="INACTIVE"?"Needs Review":t==="ARCHIVED"?"Action Taken":"Monitoring"};function O_({onOpenPatient:e,loggedInPractitioner:t}){const[n,r]=Ae.useState([]),[i,s]=Ae.useState(!0),[o,l]=Ae.useState(null),[c,d]=Ae.useState(""),[h,b]=Ae.useState("All"),[y,p]=Ae.useState([]);Ae.useEffect(()=>{const g=async()=>{var k;try{s(!0);const H=await fetch(`${vr}/dashboard/patients?page=0&pageSize=100`,{headers:{"X-User-Id":"doctor-001","X-User-Role":"DOCTOR"}});if(!H.ok)throw new Error(`HTTP error! status: ${H.status}`);const M=await H.json(),K=((k=M.data)==null?void 0:k.items)||M.items||[];if(K.length>0||M.data){const T=K.map(_=>({id:_.id,name:_.name||"Unknown",age:_.age||0,sex:_.sex||"Unknown",twinId:_.twinId||`twin_${_.id}`,riskTier:R_(_.riskTier||"MEDIUM"),lastEvaluation:_.lastEvaluation||"N/A",nextAction:_.nextAction||"Continue monitoring",status:M_(_.status||"ACTIVE"),cohort:_.cohort||[],conditions:_.conditions||[],medications:_.medications||[]}));return r(T),console.log(` Loaded ${T.length} patients`),T}else return console.warn("No patients data in response:",M),r([]),[]}catch(H){return console.error("Error fetching patients:",H),l(H instanceof Error?H.message:"Failed to fetch patients"),r([]),[]}finally{s(!1)}},v=k=>{if(!k)return"Unknown";try{let H;if(typeof k=="string"&&/^\d+\.?\d*$/.test(k)){const E=parseFloat(k);H=new Date(E*1e3)}else H=new Date(k);if(isNaN(H.getTime()))return"Unknown";const K=new Date().getTime()-H.getTime(),T=Math.floor(K/6e4),_=Math.floor(K/36e5),j=Math.floor(K/864e5);return T<1?"Just now":T<60?T===1?"1 minute ago":`${T} minutes ago`:_<24?_===1?"1 hour ago":`${_} hours ago`:j===1?"1 day ago":`${j} days ago`}catch(H){return console.warn("Error formatting time:",k,H),"Unknown"}},w=async k=>{try{const H=await fetch(`${vr}/dashboard/alarms/open`,{headers:{"X-User-Id":"doctor-001","X-User-Role":"DOCTOR"}});if(!H.ok)throw new Error(`HTTP error! status: ${H.status}`);const K=(await H.json()).data||[];console.log(" Raw alarms data from API:",K),console.log(" Patients list:",k.map(j=>({id:j.id,name:j.name})));const T=new Map;K.forEach(j=>{const E=j.patientId||j.patient_id;if(!E)return;const R=T.get(E);if(!R)T.set(E,j);else{const Z=R.createdAt||R.created_at||R.timeAgo||0,G=j.createdAt||j.created_at||j.timeAgo||0,se=typeof Z=="string"?new Date(Z).getTime():typeof Z=="number"?Z:0,le=typeof G=="string"?new Date(G).getTime():typeof G=="number"?G:0;(le>se||le===0&&se===0)&&T.set(E,j)}});const _=Array.from(T.values()).map(j=>{console.log(" Processing alarm:",{alarmId:j.id,patientId:j.patientId||j.patient_id,message:j.message||j.alarmSummary});const E=j.patientId||j.patient_id;let R=k.find(G=>G.id===E);if(!R&&j.twinId&&(R=k.find(G=>G.twinId===j.twinId)),!R)return console.warn(" No patient found for alarm:",{alarmId:j.id,patientId:E,twinId:j.twinId,availablePatientIds:k.map(G=>G.id)}),null;let Z="Unknown";return j.timeAgo?/^\d+\.?\d*$/.test(j.timeAgo)?Z=v(j.timeAgo):Z=j.timeAgo:(j.createdAt||j.created_at)&&(Z=v(j.createdAt||j.created_at)),{id:j.id||`alarm_${E}`,patient:R,summary:j.message||j.alarmSummary||"Alarm triggered",timeTriggered:Z,acknowledged:j.status==="CLOSED"||j.status==="ACKNOWLEDGED",severity:j.severity||null}}).filter(j=>j!==null);p(_),console.log(` Loaded ${_.length} alarms from BigQuery (out of ${K.length} total)`)}catch(H){console.error("Error fetching alarms:",H),p([])}};g().then(k=>{w(k)})},[]);const S=Array.from(new Set(n.flatMap(g=>g.cohort||[]))).sort(),C=n.filter(g=>{const v=c===""||g.name.toLowerCase().includes(c.toLowerCase())||g.id.toLowerCase().includes(c.toLowerCase()),w=h==="All"||g.cohort&&g.cohort.includes(h);return v&&w}),I=y.filter(g=>{var w;const v=(w=g.severity)==null?void 0:w.toUpperCase();return!(v!=="CRITICAL"&&v!=="HIGH")});return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading patients..."})]})}):o?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Jc,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-red-600 mb-2",children:"Error loading patients"}),a.jsx("p",{className:"text-sm text-gray-600",children:o})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-8 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("img",{src:"/twincare-logo.svg",alt:"TwinCare",className:"w-7 h-7"})}),a.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"TwinCare"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:t!=null&&t.name?t.name.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2):"DR"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:(t==null?void 0:t.name)||"Dr. Unknown"}),a.jsx("div",{className:"text-xs text-gray-500",children:t!=null&&t.specialty?t.specialty.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase()):t!=null&&t.role?t.role.replace(/_/g," "):"Physician"})]})]})})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Patient Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage and monitor Digital Twin patients"})]}),I.length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"text-red-600 font-bold text-lg",children:""}),a.jsx("h2",{className:"font-semibold text-red-900",children:"Active Alarms"}),a.jsx("span",{className:"px-2 py-1 bg-red-500 text-white text-xs font-medium rounded-full",children:I.length})]}),a.jsx("div",{className:"space-y-3",children:I.map(g=>{const v=I_(g.severity||"");return!v||v!=="Critical"&&v!=="High"?null:a.jsx("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:g.patient.name}),a.jsx(rr,{tier:v})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:g.summary}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[a.jsx(Ti,{className:"w-4 h-4"}),a.jsx("span",{children:g.timeTriggered})]})]}),a.jsx("div",{className:"flex gap-2 ml-4",children:a.jsx("button",{onClick:()=>e(g.patient),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Review Patient"})})]})},g.id)})})]}),a.jsxs("div",{className:"mb-6 flex gap-4 items-center",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(jy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by patient name or ID...",value:c,onChange:g=>d(g.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white"})]}),a.jsx("div",{className:"h-8 w-px bg-gray-300"}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsx(Ny,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:h,onChange:g=>b(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[a.jsx("option",{value:"All",children:"All Cohorts"}),S.map(g=>a.jsx("option",{value:g,children:g},g))]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient Name / ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Evaluation"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Recommended Action"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:C.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:c||h!=="All"?"No patients match your filters":"No patients found"})}):C.map((g,v)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium text-gray-900",children:g.name}),a.jsx("div",{className:"text-sm text-gray-500",children:g.id.startsWith("P")?g.id:`P${String(v+1).padStart(3,"0")}`})]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:g.lastEvaluation}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:g.nextAction}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(D_,{status:g.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>e(g),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Review Patient"})})]},g.id))})]})})]})]})}const z_="modulepreload",B_=function(e){return"/"+e},d2={},t0=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=B_(s),s in d2)return;d2[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const b=i[h];if(b.href===s&&(!o||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":z_,o||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),o)return new Promise((h,b)=>{d.addEventListener("load",h),d.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function Vt(e){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(e)}var Ri=Uint8Array,Jr=Uint16Array,$m=Int32Array,Wm=new Ri([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vm=new Ri([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),f2=new Ri([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sy=function(e,t){for(var n=new Jr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new $m(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},ky=Sy(Wm,2),U_=ky.b,Cp=ky.r;U_[28]=258,Cp[258]=28;var q_=Sy(Vm,0),h2=q_.r,Ep=new Jr(32768);for(var on=0;on<32768;++on){var Qs=(on&43690)>>1|(on&21845)<<1;Qs=(Qs&52428)>>2|(Qs&13107)<<2,Qs=(Qs&61680)>>4|(Qs&3855)<<4,Ep[on]=((Qs&65280)>>8|(Qs&255)<<8)>>1}var Ec=function(e,t,n){for(var r=e.length,i=0,s=new Jr(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Jr(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(n){l=new Jr(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],h=t-e[i],b=o[e[i]-1]++<<h,y=b|(1<<h)-1;b<=y;++b)l[Ep[b]>>c]=d}else for(l=new Jr(r),i=0;i<r;++i)e[i]&&(l[i]=Ep[o[e[i]-1]++]>>15-e[i]);return l},co=new Ri(288);for(var on=0;on<144;++on)co[on]=8;for(var on=144;on<256;++on)co[on]=9;for(var on=256;on<280;++on)co[on]=7;for(var on=280;on<288;++on)co[on]=8;var yf=new Ri(32);for(var on=0;on<32;++on)yf[on]=5;var H_=Ec(co,9,0),$_=Ec(yf,5,0),Ay=function(e){return(e+7)/8|0},W_=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Ri(e.subarray(t,n))},ys=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},dc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},n0=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:Cy,l:0};if(i==1){var o=new Ri(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(H,M){return H.f-M.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],d=0,h=1,b=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=n[n[d].f<n[b].f?d++:b++],c=n[d!=h&&n[d].f<n[b].f?d++:b++],n[h++]={s:-1,f:l.f+c.f,l,r:c};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var p=new Jr(y+1),S=Pp(n[h-1],p,0);if(S>t){var r=0,C=0,I=S-t,g=1<<I;for(s.sort(function(M,K){return p[K.s]-p[M.s]||M.f-K.f});r<i;++r){var v=s[r].s;if(p[v]>t)C+=g-(1<<S-p[v]),p[v]=t;else break}for(C>>=I;C>0;){var w=s[r].s;p[w]<t?C-=1<<t-p[w]++-1:++r}for(;r>=0&&C;--r){var k=s[r].s;p[k]==t&&(--p[k],++C)}S=t}return{t:new Ri(p),l:S}},Pp=function(e,t,n){return e.s==-1?Math.max(Pp(e.l,t,n+1),Pp(e.r,t,n+1)):t[e.s]=n},p2=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Jr(++t),r=0,i=e[0],s=1,o=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[l]}return{c:n.subarray(0,r),n:t}},fc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Ly=function(e,t,n){var r=n.length,i=Ay(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},m2=function(e,t,n,r,i,s,o,l,c,d,h){ys(t,h++,n),++i[256];for(var b=n0(i,15),y=b.t,p=b.l,S=n0(s,15),C=S.t,I=S.l,g=p2(y),v=g.c,w=g.n,k=p2(C),H=k.c,M=k.n,K=new Jr(19),T=0;T<v.length;++T)++K[v[T]&31];for(var T=0;T<H.length;++T)++K[H[T]&31];for(var _=n0(K,7),j=_.t,E=_.l,R=19;R>4&&!j[f2[R-1]];--R);var Z=d+5<<3,G=fc(i,co)+fc(s,yf)+o,se=fc(i,y)+fc(s,C)+o+14+3*R+fc(K,j)+2*K[16]+3*K[17]+7*K[18];if(c>=0&&Z<=G&&Z<=se)return Ly(t,h,e.subarray(c,c+d));var le,ae,U,te;if(ys(t,h,1+(se<G)),h+=2,se<G){le=Ec(y,p,0),ae=y,U=Ec(C,I,0),te=C;var ue=Ec(j,E,0);ys(t,h,w-257),ys(t,h+5,M-1),ys(t,h+10,R-4),h+=14;for(var T=0;T<R;++T)ys(t,h+3*T,j[f2[T]]);h+=3*R;for(var me=[v,H],P=0;P<2;++P)for(var q=me[P],T=0;T<q.length;++T){var $=q[T]&31;ys(t,h,ue[$]),h+=j[$],$>15&&(ys(t,h,q[T]>>5&127),h+=q[T]>>12)}}else le=H_,ae=co,U=$_,te=yf;for(var T=0;T<l;++T){var X=r[T];if(X>255){var $=X>>18&31;dc(t,h,le[$+257]),h+=ae[$+257],$>7&&(ys(t,h,X>>23&31),h+=Wm[$]);var Q=X&31;dc(t,h,U[Q]),h+=te[Q],Q>3&&(dc(t,h,X>>5&8191),h+=Vm[Q])}else dc(t,h,le[X]),h+=ae[X]}return dc(t,h,le[256]),h+ae[256]},V_=new $m([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Cy=new Ri(0),G_=function(e,t,n,r,i,s){var o=s.z||e.length,l=new Ri(r+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(r,l.length-i),d=s.l,h=(s.r||0)&7;if(t){h&&(c[0]=s.r>>3);for(var b=V_[t-1],y=b>>13,p=b&8191,S=(1<<n)-1,C=s.p||new Jr(32768),I=s.h||new Jr(S+1),g=Math.ceil(n/3),v=2*g,w=function(je){return(e[je]^e[je+1]<<g^e[je+2]<<v)&S},k=new $m(25e3),H=new Jr(288),M=new Jr(32),K=0,T=0,_=s.i||0,j=0,E=s.w||0,R=0;_+2<o;++_){var Z=w(_),G=_&32767,se=I[Z];if(C[G]=se,I[Z]=G,E<=_){var le=o-_;if((K>7e3||j>24576)&&(le>423||!d)){h=m2(e,c,0,k,H,M,T,j,R,_-R,h),j=K=T=0,R=_;for(var ae=0;ae<286;++ae)H[ae]=0;for(var ae=0;ae<30;++ae)M[ae]=0}var U=2,te=0,ue=p,me=G-se&32767;if(le>2&&Z==w(_-me))for(var P=Math.min(y,le)-1,q=Math.min(32767,_),$=Math.min(258,le);me<=q&&--ue&&G!=se;){if(e[_+U]==e[_+U-me]){for(var X=0;X<$&&e[_+X]==e[_+X-me];++X);if(X>U){if(U=X,te=me,X>P)break;for(var Q=Math.min(me,X-2),ne=0,ae=0;ae<Q;++ae){var xe=_-me+ae&32767,ge=C[xe],he=xe-ge&32767;he>ne&&(ne=he,se=xe)}}}G=se,se=C[G],me+=G-se&32767}if(te){k[j++]=268435456|Cp[U]<<18|h2[te];var Se=Cp[U]&31,ke=h2[te]&31;T+=Wm[Se]+Vm[ke],++H[257+Se],++M[ke],E=_+U,++K}else k[j++]=e[_],++H[e[_]]}}for(_=Math.max(_,E);_<o;++_)k[j++]=e[_],++H[e[_]];h=m2(e,c,d,k,H,M,T,j,R,_-R,h),d||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=I,s.p=C,s.i=_,s.w=E)}else{for(var _=s.w||0;_<o+d;_+=65535){var Te=_+65535;Te>=o&&(c[h/8|0]=d,Te=o),h=Ly(c,h+1,e.subarray(_,Te))}s.i=o}return W_(l,0,r+Ay(h)+i)},Ey=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Y_=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Ri(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return G_(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},Py=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Z_=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Ey();i.p(t.dictionary),Py(e,2,i.d())}};function Fp(e,t){t||(t={});var n=Ey();n.p(e);var r=Y_(e,t,t.dictionary?6:2,4);return Z_(r,t),Py(r,r.length-4,n.d()),r}var K_=typeof TextDecoder<"u"&&new TextDecoder,X_=0;try{K_.decode(Cy,{stream:!0}),X_=1}catch{}function J_(e){if(Array.isArray(e))return e}function Q_(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function g2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e6(e,t){if(e){if(typeof e=="string")return g2(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g2(e,t):void 0}}function t6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2(e,t){return J_(e)||Q_(e,t)||e6(e,t)||t6()}function v2(e,t="utf8"){return new TextDecoder(t).decode(e)}const n6=new TextEncoder;function r6(e){return n6.encode(e)}const i6=1024*8,s6=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),r0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Gm{constructor(t=i6,n={}){Wt(this,"buffer");Wt(this,"byteLength");Wt(this,"byteOffset");Wt(this,"length");Wt(this,"offset");Wt(this,"lastWrittenByte");Wt(this,"littleEndian");Wt(this,"_data");Wt(this,"_mark");Wt(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,s=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof Gm)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=r0[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===s6&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const c=new r0[n](l.buffer);return this.offset+=r,c.reverse(),c}const o=new r0[n](s);return this.offset+=r,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return v2(this.readBytes(t))}decodeText(t=1,n="utf8"){return v2(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(r6(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const a6=4,y2=0,b2=1,o6=2;function kl(e){let t=e.length;for(;--t>=0;)e[t]=0}const l6=0,Fy=1,c6=2,u6=3,d6=258,Ym=29,fu=256,Qc=fu+1+Ym,rl=30,Zm=19,Ty=2*Qc+1,Ja=15,i0=16,f6=7,Km=256,Dy=16,Ry=17,Iy=18,Tp=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),zd=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),h6=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),My=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p6=512,_s=new Array((Qc+2)*2);kl(_s);const Pc=new Array(rl*2);kl(Pc);const eu=new Array(p6);kl(eu);const tu=new Array(d6-u6+1);kl(tu);const Xm=new Array(Ym);kl(Xm);const bf=new Array(rl);kl(bf);function s0(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let Oy,zy,By;function a0(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Uy=e=>e<256?eu[e]:eu[256+(e>>>7)],nu=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Rr=(e,t,n)=>{e.bi_valid>i0-n?(e.bi_buf|=t<<e.bi_valid&65535,nu(e,e.bi_buf),e.bi_buf=t>>i0-e.bi_valid,e.bi_valid+=n-i0):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Ki=(e,t,n)=>{Rr(e,n[t*2],n[t*2+1])},qy=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},m6=e=>{e.bi_valid===16?(nu(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},g6=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,h,b,y,p,S,C=0;for(y=0;y<=Ja;y++)e.bl_count[y]=0;for(n[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<Ty;d++)h=e.heap[d],y=n[n[h*2+1]*2+1]+1,y>c&&(y=c,C++),n[h*2+1]=y,!(h>r)&&(e.bl_count[y]++,p=0,h>=l&&(p=o[h-l]),S=n[h*2],e.opt_len+=S*(y+p),s&&(e.static_len+=S*(i[h*2+1]+p)));if(C!==0){do{for(y=c-1;e.bl_count[y]===0;)y--;e.bl_count[y]--,e.bl_count[y+1]+=2,e.bl_count[c]--,C-=2}while(C>0);for(y=c;y!==0;y--)for(h=e.bl_count[y];h!==0;)b=e.heap[--d],!(b>r)&&(n[b*2+1]!==y&&(e.opt_len+=(y-n[b*2+1])*n[b*2],n[b*2+1]=y),h--)}},Hy=(e,t,n)=>{const r=new Array(Ja+1);let i=0,s,o;for(s=1;s<=Ja;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=qy(r[l]++,l))}},x6=()=>{let e,t,n,r,i;const s=new Array(Ja+1);for(n=0,r=0;r<Ym-1;r++)for(Xm[r]=n,e=0;e<1<<Tp[r];e++)tu[n++]=r;for(tu[n-1]=r,i=0,r=0;r<16;r++)for(bf[r]=i,e=0;e<1<<zd[r];e++)eu[i++]=r;for(i>>=7;r<rl;r++)for(bf[r]=i<<7,e=0;e<1<<zd[r]-7;e++)eu[256+i++]=r;for(t=0;t<=Ja;t++)s[t]=0;for(e=0;e<=143;)_s[e*2+1]=8,e++,s[8]++;for(;e<=255;)_s[e*2+1]=9,e++,s[9]++;for(;e<=279;)_s[e*2+1]=7,e++,s[7]++;for(;e<=287;)_s[e*2+1]=8,e++,s[8]++;for(Hy(_s,Qc+1,s),e=0;e<rl;e++)Pc[e*2+1]=5,Pc[e*2]=qy(e,5);Oy=new s0(_s,Tp,fu+1,Qc,Ja),zy=new s0(Pc,zd,0,rl,Ja),By=new s0(new Array(0),h6,0,Zm,f6)},$y=e=>{let t;for(t=0;t<Qc;t++)e.dyn_ltree[t*2]=0;for(t=0;t<rl;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Zm;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Km*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Wy=e=>{e.bi_valid>8?nu(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},w2=(e,t,n,r)=>{const i=t*2,s=n*2;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},o0=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&w2(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!w2(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},N2=(e,t,n)=>{let r,i,s=0,o,l;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],r===0?Ki(e,i,t):(o=tu[i],Ki(e,o+fu+1,t),l=Tp[o],l!==0&&(i-=Xm[o],Rr(e,i,l)),r--,o=Uy(r),Ki(e,o,n),l=zd[o],l!==0&&(r-=bf[o],Rr(e,r,l)));while(s<e.sym_next);Ki(e,Km,t)},Dp=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,l,c=-1,d;for(e.heap_len=0,e.heap_max=Ty,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=c<2?++c:0,n[d*2]=1,e.depth[d]=0,e.opt_len--,i&&(e.static_len-=r[d*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)o0(e,n,o);d=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],o0(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,n[d*2]=n[o*2]+n[l*2],e.depth[d]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,n[o*2+1]=n[l*2+1]=d,e.heap[1]=d++,o0(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],g6(e,t),Hy(n,c,e.bl_count)},_2=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=t[(r+1)*2+1],!(++l<c&&s===o)&&(l<d?e.bl_tree[s*2]+=l:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[Dy*2]++):l<=10?e.bl_tree[Ry*2]++:e.bl_tree[Iy*2]++,l=0,i=s,o===0?(c=138,d=3):s===o?(c=6,d=3):(c=7,d=4))},j2=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),r=0;r<=n;r++)if(s=o,o=t[(r+1)*2+1],!(++l<c&&s===o)){if(l<d)do Ki(e,s,e.bl_tree);while(--l!==0);else s!==0?(s!==i&&(Ki(e,s,e.bl_tree),l--),Ki(e,Dy,e.bl_tree),Rr(e,l-3,2)):l<=10?(Ki(e,Ry,e.bl_tree),Rr(e,l-3,3)):(Ki(e,Iy,e.bl_tree),Rr(e,l-11,7));l=0,i=s,o===0?(c=138,d=3):s===o?(c=6,d=3):(c=7,d=4)}},v6=e=>{let t;for(_2(e,e.dyn_ltree,e.l_desc.max_code),_2(e,e.dyn_dtree,e.d_desc.max_code),Dp(e,e.bl_desc),t=Zm-1;t>=3&&e.bl_tree[My[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},y6=(e,t,n,r)=>{let i;for(Rr(e,t-257,5),Rr(e,n-1,5),Rr(e,r-4,4),i=0;i<r;i++)Rr(e,e.bl_tree[My[i]*2+1],3);j2(e,e.dyn_ltree,t-1),j2(e,e.dyn_dtree,n-1)},b6=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return y2;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return b2;for(n=32;n<fu;n++)if(e.dyn_ltree[n*2]!==0)return b2;return y2};let S2=!1;const w6=e=>{S2||(x6(),S2=!0),e.l_desc=new a0(e.dyn_ltree,Oy),e.d_desc=new a0(e.dyn_dtree,zy),e.bl_desc=new a0(e.bl_tree,By),e.bi_buf=0,e.bi_valid=0,$y(e)},Vy=(e,t,n,r)=>{Rr(e,(l6<<1)+(r?1:0),3),Wy(e),nu(e,n),nu(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},N6=e=>{Rr(e,Fy<<1,3),Ki(e,Km,_s),m6(e)},_6=(e,t,n,r)=>{let i,s,o=0;e.level>0?(e.strm.data_type===o6&&(e.strm.data_type=b6(e)),Dp(e,e.l_desc),Dp(e,e.d_desc),o=v6(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?Vy(e,t,n,r):e.strategy===a6||s===i?(Rr(e,(Fy<<1)+(r?1:0),3),N2(e,_s,Pc)):(Rr(e,(c6<<1)+(r?1:0),3),y6(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),N2(e,e.dyn_ltree,e.dyn_dtree)),$y(e),r&&Wy(e)},j6=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(tu[n]+fu+1)*2]++,e.dyn_dtree[Uy(t)*2]++),e.sym_next===e.sym_end);var S6=w6,k6=Vy,A6=_6,L6=j6,C6=N6,E6={_tr_init:S6,_tr_stored_block:k6,_tr_flush_block:A6,_tr_tally:L6,_tr_align:C6};const P6=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var ru=P6;const F6=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},T6=new Uint32Array(F6()),D6=(e,t,n,r)=>{const i=T6,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Vn=D6,vl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},hu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:R6,_tr_stored_block:Rp,_tr_flush_block:I6,_tr_tally:va,_tr_align:M6}=E6,{Z_NO_FLUSH:ya,Z_PARTIAL_FLUSH:O6,Z_FULL_FLUSH:z6,Z_FINISH:pi,Z_BLOCK:k2,Z_OK:nr,Z_STREAM_END:A2,Z_STREAM_ERROR:es,Z_DATA_ERROR:B6,Z_BUF_ERROR:l0,Z_DEFAULT_COMPRESSION:U6,Z_FILTERED:q6,Z_HUFFMAN_ONLY:xd,Z_RLE:H6,Z_FIXED:$6,Z_DEFAULT_STRATEGY:W6,Z_UNKNOWN:V6,Z_DEFLATED:$f}=hu,G6=9,Y6=15,Z6=8,K6=29,X6=256,Ip=X6+1+K6,J6=30,Q6=19,ej=2*Ip+1,tj=15,Dt=3,la=258,ts=la+Dt+1,nj=32,yl=42,Jm=57,Mp=69,Op=73,zp=91,Bp=103,Qa=113,yc=666,Sr=1,Al=2,uo=3,Ll=4,rj=3,eo=(e,t)=>(e.msg=vl[t],t),L2=e=>e*2-(e>4?9:0),sa=e=>{let t=e.length;for(;--t>=0;)e[t]=0},ij=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let sj=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,ba=sj;const Zr=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Qr=(e,t)=>{I6(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Zr(e.strm)},Bt=(e,t)=>{e.pending_buf[e.pending++]=t},hc=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Up=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=ru(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Vn(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Gy=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,s,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-ts?e.strstart-(e.w_size-ts):0,d=e.window,h=e.w_mask,b=e.prev,y=e.strstart+la;let p=d[r+o-1],S=d[r+o];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do if(i=t,!(d[i+o]!==S||d[i+o-1]!==p||d[i]!==d[r]||d[++i]!==d[r+1])){r+=2,i++;do;while(d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&r<y);if(s=la-(y-r),r=y-la,s>o){if(e.match_start=t,o=s,s>=l)break;p=d[r+o-1],S=d[r+o]}}while((t=b[t&h])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead},bl=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ts)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),ij(e),r+=t),e.strm.avail_in===0)break;if(n=Up(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Dt)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ba(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ba(e,e.ins_h,e.window[i+Dt-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Dt)););}while(e.lookahead<ts&&e.strm.avail_in!==0)},Yy=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,s,o=0,l=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==pi||t===ya||r!==i+e.strm.avail_in)))break;o=t===pi&&r===i+e.strm.avail_in?1:0,Rp(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Zr(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(Up(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Ll:t!==ya&&t!==pi&&e.strm.avail_in===0&&e.strstart===e.block_start?Al:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(Up(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=n||(i||t===pi)&&t!==ya&&e.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=t===pi&&e.strm.avail_in===0&&r===i?1:0,Rp(e,e.block_start,r,o),e.block_start+=r,Zr(e.strm)),o?uo:Sr)},c0=(e,t)=>{let n,r;for(;;){if(e.lookahead<ts){if(bl(e),e.lookahead<ts&&t===ya)return Sr;if(e.lookahead===0)break}if(n=0,e.lookahead>=Dt&&(e.ins_h=ba(e,e.ins_h,e.window[e.strstart+Dt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-ts&&(e.match_length=Gy(e,n)),e.match_length>=Dt)if(r=va(e,e.strstart-e.match_start,e.match_length-Dt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Dt){e.match_length--;do e.strstart++,e.ins_h=ba(e,e.ins_h,e.window[e.strstart+Dt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ba(e,e.ins_h,e.window[e.strstart+1]);else r=va(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Qr(e,!1),e.strm.avail_out===0))return Sr}return e.insert=e.strstart<Dt-1?e.strstart:Dt-1,t===pi?(Qr(e,!0),e.strm.avail_out===0?uo:Ll):e.sym_next&&(Qr(e,!1),e.strm.avail_out===0)?Sr:Al},Co=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<ts){if(bl(e),e.lookahead<ts&&t===ya)return Sr;if(e.lookahead===0)break}if(n=0,e.lookahead>=Dt&&(e.ins_h=ba(e,e.ins_h,e.window[e.strstart+Dt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Dt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ts&&(e.match_length=Gy(e,n),e.match_length<=5&&(e.strategy===q6||e.match_length===Dt&&e.strstart-e.match_start>4096)&&(e.match_length=Dt-1)),e.prev_length>=Dt&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Dt,r=va(e,e.strstart-1-e.prev_match,e.prev_length-Dt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ba(e,e.ins_h,e.window[e.strstart+Dt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Dt-1,e.strstart++,r&&(Qr(e,!1),e.strm.avail_out===0))return Sr}else if(e.match_available){if(r=va(e,0,e.window[e.strstart-1]),r&&Qr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Sr}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=va(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Dt-1?e.strstart:Dt-1,t===pi?(Qr(e,!0),e.strm.avail_out===0?uo:Ll):e.sym_next&&(Qr(e,!1),e.strm.avail_out===0)?Sr:Al},aj=(e,t)=>{let n,r,i,s;const o=e.window;for(;;){if(e.lookahead<=la){if(bl(e),e.lookahead<=la&&t===ya)return Sr;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Dt&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+la;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=la-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Dt?(n=va(e,1,e.match_length-Dt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=va(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Qr(e,!1),e.strm.avail_out===0))return Sr}return e.insert=0,t===pi?(Qr(e,!0),e.strm.avail_out===0?uo:Ll):e.sym_next&&(Qr(e,!1),e.strm.avail_out===0)?Sr:Al},oj=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(bl(e),e.lookahead===0)){if(t===ya)return Sr;break}if(e.match_length=0,n=va(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Qr(e,!1),e.strm.avail_out===0))return Sr}return e.insert=0,t===pi?(Qr(e,!0),e.strm.avail_out===0?uo:Ll):e.sym_next&&(Qr(e,!1),e.strm.avail_out===0)?Sr:Al};function Vi(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const bc=[new Vi(0,0,0,0,Yy),new Vi(4,4,8,4,c0),new Vi(4,5,16,8,c0),new Vi(4,6,32,32,c0),new Vi(4,4,16,16,Co),new Vi(8,16,32,32,Co),new Vi(8,16,128,128,Co),new Vi(8,32,128,256,Co),new Vi(32,128,258,1024,Co),new Vi(32,258,258,4096,Co)],lj=e=>{e.window_size=2*e.w_size,sa(e.head),e.max_lazy_match=bc[e.level].max_lazy,e.good_match=bc[e.level].good_length,e.nice_match=bc[e.level].nice_length,e.max_chain_length=bc[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Dt-1,e.match_available=0,e.ins_h=0};function cj(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ej*2),this.dyn_dtree=new Uint16Array((2*J6+1)*2),this.bl_tree=new Uint16Array((2*Q6+1)*2),sa(this.dyn_ltree),sa(this.dyn_dtree),sa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(tj+1),this.heap=new Uint16Array(2*Ip+1),sa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ip+1),sa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const pu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==yl&&t.status!==Jm&&t.status!==Mp&&t.status!==Op&&t.status!==zp&&t.status!==Bp&&t.status!==Qa&&t.status!==yc?1:0},Zy=e=>{if(pu(e))return eo(e,es);e.total_in=e.total_out=0,e.data_type=V6;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Jm:t.wrap?yl:Qa,e.adler=t.wrap===2?0:1,t.last_flush=-2,R6(t),nr},Ky=e=>{const t=Zy(e);return t===nr&&lj(e.state),t},uj=(e,t)=>pu(e)||e.state.wrap!==2?es:(e.state.gzhead=t,nr),Xy=(e,t,n,r,i,s)=>{if(!e)return es;let o=1;if(t===U6&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>G6||n!==$f||r<8||r>15||t<0||t>9||s<0||s>$6||r===8&&o!==1)return eo(e,es);r===8&&(r=9);const l=new cj;return e.state=l,l.strm=e,l.status=yl,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Dt-1)/Dt),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=s,l.method=n,Ky(e)},dj=(e,t)=>Xy(e,t,$f,Y6,Z6,W6),fj=(e,t)=>{if(pu(e)||t>k2||t<0)return e?eo(e,es):es;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===yc&&t!==pi)return eo(e,e.avail_out===0?l0:es);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Zr(e),e.avail_out===0)return n.last_flush=-1,nr}else if(e.avail_in===0&&L2(t)<=L2(r)&&t!==pi)return eo(e,l0);if(n.status===yc&&e.avail_in!==0)return eo(e,l0);if(n.status===yl&&n.wrap===0&&(n.status=Qa),n.status===yl){let i=$f+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=xd||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=nj),i+=31-i%31,hc(n,i),n.strstart!==0&&(hc(n,e.adler>>>16),hc(n,e.adler&65535)),e.adler=1,n.status=Qa,Zr(e),n.pending!==0)return n.last_flush=-1,nr}if(n.status===Jm){if(e.adler=0,Bt(n,31),Bt(n,139),Bt(n,8),n.gzhead)Bt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Bt(n,n.gzhead.time&255),Bt(n,n.gzhead.time>>8&255),Bt(n,n.gzhead.time>>16&255),Bt(n,n.gzhead.time>>24&255),Bt(n,n.level===9?2:n.strategy>=xd||n.level<2?4:0),Bt(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Bt(n,n.gzhead.extra.length&255),Bt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Vn(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Mp;else if(Bt(n,0),Bt(n,0),Bt(n,0),Bt(n,0),Bt(n,0),Bt(n,n.level===9?2:n.strategy>=xd||n.level<2?4:0),Bt(n,rj),n.status=Qa,Zr(e),n.pending!==0)return n.last_flush=-1,nr}if(n.status===Mp){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let l=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+l),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=Vn(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=l,Zr(e),n.pending!==0)return n.last_flush=-1,nr;i=0,s-=l}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(e.adler=Vn(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Op}if(n.status===Op){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vn(e.adler,n.pending_buf,n.pending-i,i)),Zr(e),n.pending!==0)return n.last_flush=-1,nr;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Bt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Vn(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=zp}if(n.status===zp){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vn(e.adler,n.pending_buf,n.pending-i,i)),Zr(e),n.pending!==0)return n.last_flush=-1,nr;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Bt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Vn(e.adler,n.pending_buf,n.pending-i,i))}n.status=Bp}if(n.status===Bp){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Zr(e),n.pending!==0))return n.last_flush=-1,nr;Bt(n,e.adler&255),Bt(n,e.adler>>8&255),e.adler=0}if(n.status=Qa,Zr(e),n.pending!==0)return n.last_flush=-1,nr}if(e.avail_in!==0||n.lookahead!==0||t!==ya&&n.status!==yc){let i=n.level===0?Yy(n,t):n.strategy===xd?oj(n,t):n.strategy===H6?aj(n,t):bc[n.level].func(n,t);if((i===uo||i===Ll)&&(n.status=yc),i===Sr||i===uo)return e.avail_out===0&&(n.last_flush=-1),nr;if(i===Al&&(t===O6?M6(n):t!==k2&&(Rp(n,0,0,!1),t===z6&&(sa(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Zr(e),e.avail_out===0))return n.last_flush=-1,nr}return t!==pi?nr:n.wrap<=0?A2:(n.wrap===2?(Bt(n,e.adler&255),Bt(n,e.adler>>8&255),Bt(n,e.adler>>16&255),Bt(n,e.adler>>24&255),Bt(n,e.total_in&255),Bt(n,e.total_in>>8&255),Bt(n,e.total_in>>16&255),Bt(n,e.total_in>>24&255)):(hc(n,e.adler>>>16),hc(n,e.adler&65535)),Zr(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?nr:A2)},hj=e=>{if(pu(e))return es;const t=e.state.status;return e.state=null,t===Qa?eo(e,B6):nr},pj=(e,t)=>{let n=t.length;if(pu(e))return es;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==yl||r.lookahead)return es;if(i===1&&(e.adler=ru(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(sa(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const s=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,bl(r);r.lookahead>=Dt;){let c=r.strstart,d=r.lookahead-(Dt-1);do r.ins_h=ba(r,r.ins_h,r.window[c+Dt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--d);r.strstart=c,r.lookahead=Dt-1,bl(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Dt-1,r.match_available=0,e.next_in=o,e.input=l,e.avail_in=s,r.wrap=i,nr};var mj=dj,gj=Xy,xj=Ky,vj=Zy,yj=uj,bj=fj,wj=hj,Nj=pj,_j="pako deflate (from Nodeca project)",Fc={deflateInit:mj,deflateInit2:gj,deflateReset:xj,deflateResetKeep:vj,deflateSetHeader:yj,deflate:bj,deflateEnd:wj,deflateSetDictionary:Nj,deflateInfo:_j};const jj=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Sj=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)jj(n,r)&&(e[r]=n[r])}}return e},kj=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let o=e[r];n.set(o,i),i+=o.length}return n},Wf={assign:Sj,flattenChunks:kj};let Jy=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Jy=!1}const iu=new Uint8Array(256);for(let e=0;e<256;e++)iu[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;iu[254]=iu[254]=1;var Aj=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,o=e.length,l=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),s=0,i=0;s<l;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const Lj=(e,t)=>{if(t<65534&&e.subarray&&Jy)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var Cj=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){s[i++]=o;continue}let l=iu[o];if(l>4){s[i++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<n;)o=o<<6|e[r++]&63,l--;if(l>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return Lj(s,i)},Ej=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+iu[e[n]]>t?n:t},su={string2buf:Aj,buf2string:Cj,utf8border:Ej};function Pj(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Qy=Pj;const eb=Object.prototype.toString,{Z_NO_FLUSH:Fj,Z_SYNC_FLUSH:Tj,Z_FULL_FLUSH:Dj,Z_FINISH:Rj,Z_OK:wf,Z_STREAM_END:Ij,Z_DEFAULT_COMPRESSION:Mj,Z_DEFAULT_STRATEGY:Oj,Z_DEFLATED:zj}=hu;function Qm(e){this.options=Wf.assign({level:Mj,method:zj,chunkSize:16384,windowBits:15,memLevel:8,strategy:Oj},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qy,this.strm.avail_out=0;let n=Fc.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==wf)throw new Error(vl[n]);if(t.header&&Fc.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=su.string2buf(t.dictionary):eb.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Fc.deflateSetDictionary(this.strm,r),n!==wf)throw new Error(vl[n]);this._dict_set=!0}}Qm.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Rj:Fj,typeof e=="string"?n.input=su.string2buf(e):eb.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===Tj||s===Dj)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Fc.deflate(n,s),i===Ij)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Fc.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===wf;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Qm.prototype.onData=function(e){this.chunks.push(e)};Qm.prototype.onEnd=function(e){e===wf&&(this.result=Wf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const vd=16209,Bj=16191;var Uj=function(t,n){let r,i,s,o,l,c,d,h,b,y,p,S,C,I,g,v,w,k,H,M,K,T,_,j;const E=t.state;r=t.next_in,_=t.input,i=r+(t.avail_in-5),s=t.next_out,j=t.output,o=s-(n-t.avail_out),l=s+(t.avail_out-257),c=E.dmax,d=E.wsize,h=E.whave,b=E.wnext,y=E.window,p=E.hold,S=E.bits,C=E.lencode,I=E.distcode,g=(1<<E.lenbits)-1,v=(1<<E.distbits)-1;e:do{S<15&&(p+=_[r++]<<S,S+=8,p+=_[r++]<<S,S+=8),w=C[p&g];t:for(;;){if(k=w>>>24,p>>>=k,S-=k,k=w>>>16&255,k===0)j[s++]=w&65535;else if(k&16){H=w&65535,k&=15,k&&(S<k&&(p+=_[r++]<<S,S+=8),H+=p&(1<<k)-1,p>>>=k,S-=k),S<15&&(p+=_[r++]<<S,S+=8,p+=_[r++]<<S,S+=8),w=I[p&v];n:for(;;){if(k=w>>>24,p>>>=k,S-=k,k=w>>>16&255,k&16){if(M=w&65535,k&=15,S<k&&(p+=_[r++]<<S,S+=8,S<k&&(p+=_[r++]<<S,S+=8)),M+=p&(1<<k)-1,M>c){t.msg="invalid distance too far back",E.mode=vd;break e}if(p>>>=k,S-=k,k=s-o,M>k){if(k=M-k,k>h&&E.sane){t.msg="invalid distance too far back",E.mode=vd;break e}if(K=0,T=y,b===0){if(K+=d-k,k<H){H-=k;do j[s++]=y[K++];while(--k);K=s-M,T=j}}else if(b<k){if(K+=d+b-k,k-=b,k<H){H-=k;do j[s++]=y[K++];while(--k);if(K=0,b<H){k=b,H-=k;do j[s++]=y[K++];while(--k);K=s-M,T=j}}}else if(K+=b-k,k<H){H-=k;do j[s++]=y[K++];while(--k);K=s-M,T=j}for(;H>2;)j[s++]=T[K++],j[s++]=T[K++],j[s++]=T[K++],H-=3;H&&(j[s++]=T[K++],H>1&&(j[s++]=T[K++]))}else{K=s-M;do j[s++]=j[K++],j[s++]=j[K++],j[s++]=j[K++],H-=3;while(H>2);H&&(j[s++]=j[K++],H>1&&(j[s++]=j[K++]))}}else if(k&64){t.msg="invalid distance code",E.mode=vd;break e}else{w=I[(w&65535)+(p&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){E.mode=Bj;break e}else{t.msg="invalid literal/length code",E.mode=vd;break e}else{w=C[(w&65535)+(p&(1<<k)-1)];continue t}break}}while(r<i&&s<l);H=S>>3,r-=H,S-=H<<3,p&=(1<<S)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<l?257+(l-s):257-(s-l),E.hold=p,E.bits=S};const Eo=15,C2=852,E2=592,P2=0,u0=1,F2=2,qj=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Hj=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),$j=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Wj=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Vj=(e,t,n,r,i,s,o,l)=>{const c=l.bits;let d=0,h=0,b=0,y=0,p=0,S=0,C=0,I=0,g=0,v=0,w,k,H,M,K,T=null,_;const j=new Uint16Array(Eo+1),E=new Uint16Array(Eo+1);let R=null,Z,G,se;for(d=0;d<=Eo;d++)j[d]=0;for(h=0;h<r;h++)j[t[n+h]]++;for(p=c,y=Eo;y>=1&&j[y]===0;y--);if(p>y&&(p=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(b=1;b<y&&j[b]===0;b++);for(p<b&&(p=b),I=1,d=1;d<=Eo;d++)if(I<<=1,I-=j[d],I<0)return-1;if(I>0&&(e===P2||y!==1))return-1;for(E[1]=0,d=1;d<Eo;d++)E[d+1]=E[d]+j[d];for(h=0;h<r;h++)t[n+h]!==0&&(o[E[t[n+h]]++]=h);if(e===P2?(T=R=o,_=20):e===u0?(T=qj,R=Hj,_=257):(T=$j,R=Wj,_=0),v=0,h=0,d=b,K=s,S=p,C=0,H=-1,g=1<<p,M=g-1,e===u0&&g>C2||e===F2&&g>E2)return 1;for(;;){Z=d-C,o[h]+1<_?(G=0,se=o[h]):o[h]>=_?(G=R[o[h]-_],se=T[o[h]-_]):(G=32+64,se=0),w=1<<d-C,k=1<<S,b=k;do k-=w,i[K+(v>>C)+k]=Z<<24|G<<16|se|0;while(k!==0);for(w=1<<d-1;v&w;)w>>=1;if(w!==0?(v&=w-1,v+=w):v=0,h++,--j[d]===0){if(d===y)break;d=t[n+o[h]]}if(d>p&&(v&M)!==H){for(C===0&&(C=p),K+=b,S=d-C,I=1<<S;S+C<y&&(I-=j[S+C],!(I<=0));)S++,I<<=1;if(g+=1<<S,e===u0&&g>C2||e===F2&&g>E2)return 1;H=v&M,i[H]=p<<24|S<<16|K-s|0}}return v!==0&&(i[K+v]=d-C<<24|64<<16|0),l.bits=p,0};var Tc=Vj;const Gj=0,tb=1,nb=2,{Z_FINISH:T2,Z_BLOCK:Yj,Z_TREES:yd,Z_OK:fo,Z_STREAM_END:Zj,Z_NEED_DICT:Kj,Z_STREAM_ERROR:yi,Z_DATA_ERROR:rb,Z_MEM_ERROR:ib,Z_BUF_ERROR:Xj,Z_DEFLATED:D2}=hu,Vf=16180,R2=16181,I2=16182,M2=16183,O2=16184,z2=16185,B2=16186,U2=16187,q2=16188,H2=16189,Nf=16190,bs=16191,d0=16192,$2=16193,f0=16194,W2=16195,V2=16196,G2=16197,Y2=16198,bd=16199,wd=16200,Z2=16201,K2=16202,X2=16203,J2=16204,Q2=16205,h0=16206,ex=16207,tx=16208,cn=16209,sb=16210,ab=16211,Jj=852,Qj=592,eS=15,tS=eS,nx=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function nS(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const mo=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Vf||t.mode>ab?1:0},ob=e=>{if(mo(e))return yi;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Vf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Jj),t.distcode=t.distdyn=new Int32Array(Qj),t.sane=1,t.back=-1,fo},lb=e=>{if(mo(e))return yi;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ob(e)},cb=(e,t)=>{let n;if(mo(e))return yi;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?yi:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,lb(e))},ub=(e,t)=>{if(!e)return yi;const n=new nS;e.state=n,n.strm=e,n.window=null,n.mode=Vf;const r=cb(e,t);return r!==fo&&(e.state=null),r},rS=e=>ub(e,tS);let rx=!0,p0,m0;const iS=e=>{if(rx){p0=new Int32Array(512),m0=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Tc(tb,e.lens,0,288,p0,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Tc(nb,e.lens,0,32,m0,0,e.work,{bits:5}),rx=!1}e.lencode=p0,e.lenbits=9,e.distcode=m0,e.distbits=5},db=(e,t,n,r)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},sS=(e,t)=>{let n,r,i,s,o,l,c,d,h,b,y,p,S,C,I=0,g,v,w,k,H,M,K,T;const _=new Uint8Array(4);let j,E;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(mo(e)||!e.output||!e.input&&e.avail_in!==0)return yi;n=e.state,n.mode===bs&&(n.mode=d0),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,r=e.input,l=e.avail_in,d=n.hold,h=n.bits,b=l,y=c,T=fo;e:for(;;)switch(n.mode){case Vf:if(n.wrap===0){n.mode=d0;break}for(;h<16;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}if(n.wrap&2&&d===35615){n.wbits===0&&(n.wbits=15),n.check=0,_[0]=d&255,_[1]=d>>>8&255,n.check=Vn(n.check,_,2,0),d=0,h=0,n.mode=R2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=cn;break}if((d&15)!==D2){e.msg="unknown compression method",n.mode=cn;break}if(d>>>=4,h-=4,K=(d&15)+8,n.wbits===0&&(n.wbits=K),K>15||K>n.wbits){e.msg="invalid window size",n.mode=cn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=d&512?H2:bs,d=0,h=0;break;case R2:for(;h<16;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}if(n.flags=d,(n.flags&255)!==D2){e.msg="unknown compression method",n.mode=cn;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=cn;break}n.head&&(n.head.text=d>>8&1),n.flags&512&&n.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,n.check=Vn(n.check,_,2,0)),d=0,h=0,n.mode=I2;case I2:for(;h<32;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}n.head&&(n.head.time=d),n.flags&512&&n.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,_[2]=d>>>16&255,_[3]=d>>>24&255,n.check=Vn(n.check,_,4,0)),d=0,h=0,n.mode=M2;case M2:for(;h<16;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}n.head&&(n.head.xflags=d&255,n.head.os=d>>8),n.flags&512&&n.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,n.check=Vn(n.check,_,2,0)),d=0,h=0,n.mode=O2;case O2:if(n.flags&1024){for(;h<16;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}n.length=d,n.head&&(n.head.extra_len=d),n.flags&512&&n.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,n.check=Vn(n.check,_,2,0)),d=0,h=0}else n.head&&(n.head.extra=null);n.mode=z2;case z2:if(n.flags&1024&&(p=n.length,p>l&&(p=l),p&&(n.head&&(K=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),K)),n.flags&512&&n.wrap&4&&(n.check=Vn(n.check,r,p,s)),l-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=B2;case B2:if(n.flags&2048){if(l===0)break e;p=0;do K=r[s+p++],n.head&&K&&n.length<65536&&(n.head.name+=String.fromCharCode(K));while(K&&p<l);if(n.flags&512&&n.wrap&4&&(n.check=Vn(n.check,r,p,s)),l-=p,s+=p,K)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=U2;case U2:if(n.flags&4096){if(l===0)break e;p=0;do K=r[s+p++],n.head&&K&&n.length<65536&&(n.head.comment+=String.fromCharCode(K));while(K&&p<l);if(n.flags&512&&n.wrap&4&&(n.check=Vn(n.check,r,p,s)),l-=p,s+=p,K)break e}else n.head&&(n.head.comment=null);n.mode=q2;case q2:if(n.flags&512){for(;h<16;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}if(n.wrap&4&&d!==(n.check&65535)){e.msg="header crc mismatch",n.mode=cn;break}d=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=bs;break;case H2:for(;h<32;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}e.adler=n.check=nx(d),d=0,h=0,n.mode=Nf;case Nf:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=d,n.bits=h,Kj;e.adler=n.check=1,n.mode=bs;case bs:if(t===Yj||t===yd)break e;case d0:if(n.last){d>>>=h&7,h-=h&7,n.mode=h0;break}for(;h<3;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}switch(n.last=d&1,d>>>=1,h-=1,d&3){case 0:n.mode=$2;break;case 1:if(iS(n),n.mode=bd,t===yd){d>>>=2,h-=2;break e}break;case 2:n.mode=V2;break;case 3:e.msg="invalid block type",n.mode=cn}d>>>=2,h-=2;break;case $2:for(d>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=cn;break}if(n.length=d&65535,d=0,h=0,n.mode=f0,t===yd)break e;case f0:n.mode=W2;case W2:if(p=n.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;i.set(r.subarray(s,s+p),o),l-=p,s+=p,c-=p,o+=p,n.length-=p;break}n.mode=bs;break;case V2:for(;h<14;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}if(n.nlen=(d&31)+257,d>>>=5,h-=5,n.ndist=(d&31)+1,d>>>=5,h-=5,n.ncode=(d&15)+4,d>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=cn;break}n.have=0,n.mode=G2;case G2:for(;n.have<n.ncode;){for(;h<3;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}n.lens[R[n.have++]]=d&7,d>>>=3,h-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},T=Tc(Gj,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,T){e.msg="invalid code lengths set",n.mode=cn;break}n.have=0,n.mode=Y2;case Y2:for(;n.have<n.nlen+n.ndist;){for(;I=n.lencode[d&(1<<n.lenbits)-1],g=I>>>24,v=I>>>16&255,w=I&65535,!(g<=h);){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}if(w<16)d>>>=g,h-=g,n.lens[n.have++]=w;else{if(w===16){for(E=g+2;h<E;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}if(d>>>=g,h-=g,n.have===0){e.msg="invalid bit length repeat",n.mode=cn;break}K=n.lens[n.have-1],p=3+(d&3),d>>>=2,h-=2}else if(w===17){for(E=g+3;h<E;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}d>>>=g,h-=g,K=0,p=3+(d&7),d>>>=3,h-=3}else{for(E=g+7;h<E;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}d>>>=g,h-=g,K=0,p=11+(d&127),d>>>=7,h-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=cn;break}for(;p--;)n.lens[n.have++]=K}}if(n.mode===cn)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=cn;break}if(n.lenbits=9,j={bits:n.lenbits},T=Tc(tb,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,T){e.msg="invalid literal/lengths set",n.mode=cn;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},T=Tc(nb,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,T){e.msg="invalid distances set",n.mode=cn;break}if(n.mode=bd,t===yd)break e;case bd:n.mode=wd;case wd:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=d,n.bits=h,Uj(e,y),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,r=e.input,l=e.avail_in,d=n.hold,h=n.bits,n.mode===bs&&(n.back=-1);break}for(n.back=0;I=n.lencode[d&(1<<n.lenbits)-1],g=I>>>24,v=I>>>16&255,w=I&65535,!(g<=h);){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}if(v&&!(v&240)){for(k=g,H=v,M=w;I=n.lencode[M+((d&(1<<k+H)-1)>>k)],g=I>>>24,v=I>>>16&255,w=I&65535,!(k+g<=h);){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}d>>>=k,h-=k,n.back+=k}if(d>>>=g,h-=g,n.back+=g,n.length=w,v===0){n.mode=Q2;break}if(v&32){n.back=-1,n.mode=bs;break}if(v&64){e.msg="invalid literal/length code",n.mode=cn;break}n.extra=v&15,n.mode=Z2;case Z2:if(n.extra){for(E=n.extra;h<E;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=K2;case K2:for(;I=n.distcode[d&(1<<n.distbits)-1],g=I>>>24,v=I>>>16&255,w=I&65535,!(g<=h);){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}if(!(v&240)){for(k=g,H=v,M=w;I=n.distcode[M+((d&(1<<k+H)-1)>>k)],g=I>>>24,v=I>>>16&255,w=I&65535,!(k+g<=h);){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}d>>>=k,h-=k,n.back+=k}if(d>>>=g,h-=g,n.back+=g,v&64){e.msg="invalid distance code",n.mode=cn;break}n.offset=w,n.extra=v&15,n.mode=X2;case X2:if(n.extra){for(E=n.extra;h<E;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=cn;break}n.mode=J2;case J2:if(c===0)break e;if(p=y-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=cn;break}p>n.wnext?(p-=n.wnext,S=n.wsize-p):S=n.wnext-p,p>n.length&&(p=n.length),C=n.window}else C=i,S=o-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do i[o++]=C[S++];while(--p);n.length===0&&(n.mode=wd);break;case Q2:if(c===0)break e;i[o++]=n.length,c--,n.mode=wd;break;case h0:if(n.wrap){for(;h<32;){if(l===0)break e;l--,d|=r[s++]<<h,h+=8}if(y-=c,e.total_out+=y,n.total+=y,n.wrap&4&&y&&(e.adler=n.check=n.flags?Vn(n.check,i,y,o-y):ru(n.check,i,y,o-y)),y=c,n.wrap&4&&(n.flags?d:nx(d))!==n.check){e.msg="incorrect data check",n.mode=cn;break}d=0,h=0}n.mode=ex;case ex:if(n.wrap&&n.flags){for(;h<32;){if(l===0)break e;l--,d+=r[s++]<<h,h+=8}if(n.wrap&4&&d!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=cn;break}d=0,h=0}n.mode=tx;case tx:T=Zj;break e;case cn:T=rb;break e;case sb:return ib;case ab:default:return yi}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=d,n.bits=h,(n.wsize||y!==e.avail_out&&n.mode<cn&&(n.mode<h0||t!==T2))&&db(e,e.output,e.next_out,y-e.avail_out),b-=e.avail_in,y-=e.avail_out,e.total_in+=b,e.total_out+=y,n.total+=y,n.wrap&4&&y&&(e.adler=n.check=n.flags?Vn(n.check,i,y,e.next_out-y):ru(n.check,i,y,e.next_out-y)),e.data_type=n.bits+(n.last?64:0)+(n.mode===bs?128:0)+(n.mode===bd||n.mode===f0?256:0),(b===0&&y===0||t===T2)&&T===fo&&(T=Xj),T},aS=e=>{if(mo(e))return yi;let t=e.state;return t.window&&(t.window=null),e.state=null,fo},oS=(e,t)=>{if(mo(e))return yi;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,fo):yi},lS=(e,t)=>{const n=t.length;let r,i,s;return mo(e)||(r=e.state,r.wrap!==0&&r.mode!==Nf)?yi:r.mode===Nf&&(i=1,i=ru(i,t,n,0),i!==r.check)?rb:(s=db(e,t,n,n),s?(r.mode=sb,ib):(r.havedict=1,fo))};var cS=lb,uS=cb,dS=ob,fS=rS,hS=ub,pS=sS,mS=aS,gS=oS,xS=lS,vS="pako inflate (from Nodeca project)",js={inflateReset:cS,inflateReset2:uS,inflateResetKeep:dS,inflateInit:fS,inflateInit2:hS,inflate:pS,inflateEnd:mS,inflateGetHeader:gS,inflateSetDictionary:xS,inflateInfo:vS};function yS(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bS=yS;const fb=Object.prototype.toString,{Z_NO_FLUSH:wS,Z_FINISH:NS,Z_OK:au,Z_STREAM_END:g0,Z_NEED_DICT:x0,Z_STREAM_ERROR:_S,Z_DATA_ERROR:ix,Z_MEM_ERROR:jS}=hu;function mu(e){this.options=Wf.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qy,this.strm.avail_out=0;let n=js.inflateInit2(this.strm,t.windowBits);if(n!==au)throw new Error(vl[n]);if(this.header=new bS,js.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=su.string2buf(t.dictionary):fb.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=js.inflateSetDictionary(this.strm,t.dictionary),n!==au)))throw new Error(vl[n])}mu.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?NS:wS,fb.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=js.inflate(n,o),s===x0&&i&&(s=js.inflateSetDictionary(n,i),s===au?s=js.inflate(n,o):s===ix&&(s=x0));n.avail_in>0&&s===g0&&n.state.wrap>0&&e[n.next_in]!==0;)js.inflateReset(n),s=js.inflate(n,o);switch(s){case _S:case ix:case x0:case jS:return this.onEnd(s),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||s===g0))if(this.options.to==="string"){let c=su.utf8border(n.output,n.next_out),d=n.next_out-c,h=su.buf2string(n.output,c);n.next_out=d,n.avail_out=r-d,d&&n.output.set(n.output.subarray(c,c+d),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===au&&l===0)){if(s===g0)return s=js.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};mu.prototype.onData=function(e){this.chunks.push(e)};mu.prototype.onEnd=function(e){e===au&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function e1(e,t){const n=new mu(t);if(n.push(e),n.err)throw n.msg||vl[n.err];return n.result}function SS(e,t){return t=t||{},t.raw=!0,e1(e,t)}var kS=mu,AS=e1,LS=SS,CS=e1,ES=hu,PS={Inflate:kS,inflate:AS,inflateRaw:LS,ungzip:CS,constants:ES};const{Inflate:FS,inflate:TS,inflateRaw:B8,ungzip:U8}=PS;var sx=FS,DS=TS;const hb=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;hb[e]=t}const ax=4294967295;function RS(e,t,n){let r=e;for(let i=0;i<n;i++)r=hb[(r^t[i])&255]^r>>>8;return r}function IS(e,t){return(RS(ax,e,t)^ax)>>>0}function ox(e,t,n){const r=e.readUint32(),i=IS(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function pb(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function mb(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function gb(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function xb(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-i]+n[s]>>1)&255}}function vb(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+MS(t[s-i],n[s],n[s-i])&255}}function MS(e,t,n){const r=e+t-n,i=Math.abs(r-e),s=Math.abs(r-t),o=Math.abs(r-n);return i<=s&&i<=o?e:s<=o?t:n}function OS(e,t,n,r,i,s){switch(e){case 0:pb(t,n,i);break;case 1:mb(t,n,i,s);break;case 2:gb(t,n,r,i);break;case 3:xb(t,n,r,i,s);break;case 4:vb(t,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const zS=new Uint16Array([255]),BS=new Uint8Array(zS.buffer),US=BS[0]===255;function qS(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*i,c=new Uint8Array(r*n*l);let d=0;for(let h=0;h<7;h++){const b=o[h],y=Math.ceil((n-b.x)/b.xStep),p=Math.ceil((r-b.y)/b.yStep);if(y<=0||p<=0)continue;const S=y*l,C=new Uint8Array(S);for(let I=0;I<p;I++){const g=t[d++],v=t.subarray(d,d+S);d+=S;const w=new Uint8Array(S);OS(g,v,w,C,S,l),C.set(w);for(let k=0;k<y;k++){const H=b.x+k*b.xStep,M=b.y+I*b.yStep;if(!(H>=n||M>=r))for(let K=0;K<l;K++)c[(M*n+H)*l+K]=w[k*l+K]}}}if(s===16){const h=new Uint16Array(c.buffer);if(US)for(let b=0;b<h.length;b++)h[b]=HS(h[b]);return h}else return c}function HS(e){return(e&255)<<8|e>>8&255}const $S=new Uint16Array([255]),WS=new Uint8Array($S.buffer),VS=WS[0]===255,GS=new Uint8Array(0);function lx(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,o=Math.ceil(s/8)*i,l=Math.ceil(s/8*i*n),c=new Uint8Array(r*l);let d=GS,h=0,b,y;for(let p=0;p<r;p++){switch(b=t.subarray(h+1,h+1+l),y=c.subarray(p*l,(p+1)*l),t[h]){case 0:pb(b,y,l);break;case 1:mb(b,y,l,o);break;case 2:gb(b,y,d,l);break;case 3:xb(b,y,d,l,o);break;case 4:vb(b,y,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}d=y,h+=l+1}if(s===16){const p=new Uint16Array(c.buffer);if(VS)for(let S=0;S<p.length;S++)p[S]=YS(p[S]);return p}else return c}function YS(e){return(e&255)<<8|e>>8&255}const Bd=Uint8Array.of(137,80,78,71,13,10,26,10);function cx(e){if(!ZS(e.readBytes(Bd.length)))throw new Error("wrong PNG signature")}function ZS(e){if(e.length<Bd.length)return!1;for(let t=0;t<Bd.length;t++)if(e[t]!==Bd[t])return!1;return!0}const KS="tEXt",XS=0,yb=new TextDecoder("latin1");function JS(e){if(ek(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const QS=/^[\u0000-\u00FF]*$/;function ek(e){if(!QS.test(e))throw new Error("invalid latin1 text")}function tk(e,t,n){const r=bb(t);e[r]=nk(t,n-r.length-1)}function bb(e){for(e.mark();e.readByte()!==XS;);const t=e.offset;e.reset();const n=yb.decode(e.readBytes(t-e.offset-1));return e.skip(1),JS(n),n}function nk(e,t){return yb.decode(e.readBytes(t))}const Yr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},v0={UNKNOWN:-1,DEFLATE:0},ux={UNKNOWN:-1,ADAPTIVE:0},y0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Nd={NONE:0,BACKGROUND:1,PREVIOUS:2},b0={SOURCE:0,OVER:1};class rk extends Gm{constructor(n,r={}){super(n);Wt(this,"_checkCrc");Wt(this,"_inflator");Wt(this,"_png");Wt(this,"_apng");Wt(this,"_end");Wt(this,"_hasPalette");Wt(this,"_palette");Wt(this,"_hasTransparency");Wt(this,"_transparency");Wt(this,"_compressionMethod");Wt(this,"_filterMethod");Wt(this,"_interlaceMethod");Wt(this,"_colorType");Wt(this,"_isAnimated");Wt(this,"_numberOfFrames");Wt(this,"_numberOfPlays");Wt(this,"_frames");Wt(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new sx,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=v0.UNKNOWN,this._filterMethod=ux.UNKNOWN,this._interlaceMethod=y0.UNKNOWN,this._colorType=Yr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(cx(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(cx(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case KS:tk(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?ox(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?ox(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=ik(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Yr.GREYSCALE:i=1;break;case Yr.TRUECOLOUR:i=3;break;case Yr.INDEXED_COLOUR:i=1;break;case Yr.GREYSCALE_ALPHA:i=2;break;case Yr.TRUECOLOUR_ALPHA:i=4;break;case Yr.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==v0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Yr.GREYSCALE:case Yr.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Yr.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Yr.UNKNOWN:case Yr.GREYSCALE_ALPHA:case Yr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=bb(this),i=this.readUint8();if(i!==v0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:DS(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=lx({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Nd.NONE:break;case Nd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*n.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case Nd.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,l)=>{const c=((o+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,d=(o*r.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(r.blendOp){case b0.SOURCE:for(let o=0;o<r.height;o++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:d}=s(o,l);for(let h=0;h<this._png.channels;h++)n.data[c+h]=r.data[d+h]}break;case b0.OVER:for(let o=0;o<r.height;o++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:d}=s(o,l);for(let h=0;h<this._png.channels;h++){const b=r.data[d+this._png.channels-1]/i,y=h%(this._png.channels-1)===0?1:r.data[d+h],p=Math.floor(b*y+(1-b)*n.data[c+h]);n.data[c+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==ux.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===y0.NO_INTERLACE)this._png.data=lx({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===y0.ADAM7)this._png.data=qS({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Nd.NONE,blendOp:b0.SOURCE,data:n}),this._inflator=new sx,this._writingDataChunks=!1}}function ik(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var dx;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(dx||(dx={}));function sk(e,t){return new rk(e,t).decode()}var ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function w0(){ut.console&&typeof ut.console.log=="function"&&ut.console.log.apply(ut.console,arguments)}var Qt={log:w0,warn:function(e){ut.console&&(typeof ut.console.warn=="function"?ut.console.warn.apply(ut.console,arguments):w0.call(null,arguments))},error:function(e){ut.console&&(typeof ut.console.error=="function"?ut.console.error.apply(ut.console,arguments):w0(e))}};function N0(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Ga(r.response,t,n)},r.onerror=function(){Qt.error("could not download file")},r.send()}function fx(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function _d(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ga=ut.saveAs||((typeof window>"u"?"undefined":Vt(window))!=="object"||window!==ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ut.URL||ut.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?fx(i.href)?N0(e,t,n):_d(i,i.target="_blank"):_d(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){_d(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(fx(e))N0(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){_d(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Vt(s)!=="object"&&(Qt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return N0(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(ut.HTMLElement)||ut.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Vt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(e)}else{var c=ut.URL||ut.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wb(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var Ud=ut.atob.bind(ut),hx=ut.btoa.bind(ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _0(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=fr(n,r,i,s,t[0],7,-680876936),s=fr(s,n,r,i,t[1],12,-389564586),i=fr(i,s,n,r,t[2],17,606105819),r=fr(r,i,s,n,t[3],22,-1044525330),n=fr(n,r,i,s,t[4],7,-176418897),s=fr(s,n,r,i,t[5],12,1200080426),i=fr(i,s,n,r,t[6],17,-1473231341),r=fr(r,i,s,n,t[7],22,-45705983),n=fr(n,r,i,s,t[8],7,1770035416),s=fr(s,n,r,i,t[9],12,-1958414417),i=fr(i,s,n,r,t[10],17,-42063),r=fr(r,i,s,n,t[11],22,-1990404162),n=fr(n,r,i,s,t[12],7,1804603682),s=fr(s,n,r,i,t[13],12,-40341101),i=fr(i,s,n,r,t[14],17,-1502002290),n=hr(n,r=fr(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=hr(s,n,r,i,t[6],9,-1069501632),i=hr(i,s,n,r,t[11],14,643717713),r=hr(r,i,s,n,t[0],20,-373897302),n=hr(n,r,i,s,t[5],5,-701558691),s=hr(s,n,r,i,t[10],9,38016083),i=hr(i,s,n,r,t[15],14,-660478335),r=hr(r,i,s,n,t[4],20,-405537848),n=hr(n,r,i,s,t[9],5,568446438),s=hr(s,n,r,i,t[14],9,-1019803690),i=hr(i,s,n,r,t[3],14,-187363961),r=hr(r,i,s,n,t[8],20,1163531501),n=hr(n,r,i,s,t[13],5,-1444681467),s=hr(s,n,r,i,t[2],9,-51403784),i=hr(i,s,n,r,t[7],14,1735328473),n=pr(n,r=hr(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=pr(s,n,r,i,t[8],11,-2022574463),i=pr(i,s,n,r,t[11],16,1839030562),r=pr(r,i,s,n,t[14],23,-35309556),n=pr(n,r,i,s,t[1],4,-1530992060),s=pr(s,n,r,i,t[4],11,1272893353),i=pr(i,s,n,r,t[7],16,-155497632),r=pr(r,i,s,n,t[10],23,-1094730640),n=pr(n,r,i,s,t[13],4,681279174),s=pr(s,n,r,i,t[0],11,-358537222),i=pr(i,s,n,r,t[3],16,-722521979),r=pr(r,i,s,n,t[6],23,76029189),n=pr(n,r,i,s,t[9],4,-640364487),s=pr(s,n,r,i,t[12],11,-421815835),i=pr(i,s,n,r,t[15],16,530742520),n=mr(n,r=pr(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=mr(s,n,r,i,t[7],10,1126891415),i=mr(i,s,n,r,t[14],15,-1416354905),r=mr(r,i,s,n,t[5],21,-57434055),n=mr(n,r,i,s,t[12],6,1700485571),s=mr(s,n,r,i,t[3],10,-1894986606),i=mr(i,s,n,r,t[10],15,-1051523),r=mr(r,i,s,n,t[1],21,-2054922799),n=mr(n,r,i,s,t[8],6,1873313359),s=mr(s,n,r,i,t[15],10,-30611744),i=mr(i,s,n,r,t[6],15,-1560198380),r=mr(r,i,s,n,t[13],21,1309151649),n=mr(n,r,i,s,t[4],6,-145523070),s=mr(s,n,r,i,t[11],10,-1120210379),i=mr(i,s,n,r,t[2],15,718787259),r=mr(r,i,s,n,t[9],21,-343485551),e[0]=ca(n,e[0]),e[1]=ca(r,e[1]),e[2]=ca(i,e[2]),e[3]=ca(s,e[3])}function Gf(e,t,n,r,i,s){return t=ca(ca(t,e),ca(r,s)),ca(t<<i|t>>>32-i,n)}function fr(e,t,n,r,i,s,o){return Gf(t&n|~t&r,e,t,i,s,o)}function hr(e,t,n,r,i,s,o){return Gf(t&r|n&~r,e,t,i,s,o)}function pr(e,t,n,r,i,s,o){return Gf(t^n^r,e,t,i,s,o)}function mr(e,t,n,r,i,s,o){return Gf(n^(t|~r),e,t,i,s,o)}function Nb(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)_0(r,ak(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(_0(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,_0(r,i),r}function ak(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var px="0123456789abcdef".split("");function ok(e){for(var t="",n=0;n<4;n++)t+=px[e>>8*n+4&15]+px[e>>8*n&15];return t}function lk(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function qp(e){return Nb(e).map(lk).join("")}var ck=function(e){for(var t=0;t<e.length;t++)e[t]=ok(e[t]);return e.join("")}(Nb("hello"))!="5d41402abc4b2a76b9719d911017c592";function ca(e,t){if(ck){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Hp(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+o.charCodeAt(c))%256,l[c]=l[d],l[d]=h}n=e,r=l}else l=r;var b=t.length,y=0,p=0,S="";for(c=0;c<b;c++)p=(p+(h=l[y=(y+1)%256]))%256,l[y]=l[p],l[p]=h,o=l[(l[y]+l[p])%256],S+=String.fromCharCode(t.charCodeAt(c)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mx={print:4,modify:8,copy:16,"annot-forms":32};function To(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(mx.perm!==void 0)throw new Error("Invalid permission: "+l);i+=mx[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=qp(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Hp(this.encryptionKey,this.padding)}function Do(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function gx(e){if(Vt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(l){ut.console&&Qt.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function _f(e){if(!(this instanceof _f))return new _f(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function _b(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ya(e,t,n,r,i){if(!(this instanceof Ya))return new Ya(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,_b.call(this,r,i)}function Go(e,t,n,r,i){if(!(this instanceof Go))return new Go(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,_b.call(this,r,i)}function rt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,c=16,d="S",h=null;Vt(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var b=e.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=gx;var S="1.3",C=p.__private__.getPdfVersion=function(){return S};p.__private__.setPdfVersion=function(m){S=m};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return I};var g=p.__private__.getPageFormat=function(m){return I[m]};i=i||"a4";var v="compat",w="advanced",k=v;function H(){this.saveGraphicsState(),z(new Oe(mt,0,0,-mt,0,Da()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),d="n",k=w}function M(){this.restoreGraphicsState(),d="S",k=v}var K=p.__private__.combineFontStyleAndFontWeight=function(m,A){if(m=="bold"&&A=="normal"||m=="bold"&&A==400||m=="normal"&&A=="italic"||m=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(m=A==400||A==="normal"?m==="italic"?"italic":"normal":A!=700&&A!=="bold"||m!=="normal"?(A==700?"bold":A)+""+m:"bold"),m};p.advancedAPI=function(m){var A=k===v;return A&&H.call(this),typeof m!="function"||(m(this),A&&M.call(this)),this},p.compatAPI=function(m){var A=k===w;return A&&M.call(this),typeof m!="function"||(m(this),A&&H.call(this)),this},p.isAdvancedAPI=function(){return k===w};var T,_=function(m){if(k!==w)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=p.roundToPrecision=p.__private__.roundToPrecision=function(m,A){var Y=t||A;if(isNaN(m)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(Y).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof c=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return j(m,c)}:c==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return j(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return j(m,16)};var E=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return j(m,2)},R=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return j(m,3)},Z=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return k===v?m*mt:k===w?m:void 0},G=function(m){return Z(function(A){return k===v?Da()-A:k===w?A:void 0}(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(t=parseInt(m,10))};var se,le="00000000000000000000000000000000",ae=p.__private__.getFileId=function(){return le},U=p.__private__.setFileId=function(m){return le=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Mn=new To(h.userPermissions,h.userPassword,h.ownerPassword,le)),le};p.setFileId=function(m){return U(m),this},p.getFileId=function(){return ae()};var te=p.__private__.convertDateToPDFDate=function(m){var A=m.getTimezoneOffset(),Y=A<0?"+":"-",J=Math.floor(Math.abs(A/60)),oe=Math.abs(A%60),Ne=[Y,$(J),"'",$(oe),"'"].join("");return["D:",m.getFullYear(),$(m.getMonth()+1),$(m.getDate()),$(m.getHours()),$(m.getMinutes()),$(m.getSeconds()),Ne].join("")},ue=p.__private__.convertPDFDateToDate=function(m){var A=parseInt(m.substr(2,4),10),Y=parseInt(m.substr(6,2),10)-1,J=parseInt(m.substr(8,2),10),oe=parseInt(m.substr(10,2),10),Ne=parseInt(m.substr(12,2),10),Ce=parseInt(m.substr(14,2),10);return new Date(A,Y,J,oe,Ne,Ce,0)},me=p.__private__.setCreationDate=function(m){var A;if(m===void 0&&(m=new Date),m instanceof Date)A=te(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=m}return se=A},P=p.__private__.getCreationDate=function(m){var A=se;return m==="jsDate"&&(A=ue(se)),A};p.setCreationDate=function(m){return me(m),this},p.getCreationDate=function(m){return P(m)};var q,$=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},X=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},Q=0,ne=[],xe=[],ge=0,he=[],Se=[],ke=!1,Te=xe;p.__private__.setCustomOutputDestination=function(m){ke=!0,Te=m};var je=function(m){ke||(Te=m)};p.__private__.resetCustomOutputDestination=function(){ke=!1,Te=xe};var z=p.__private__.out=function(m){return m=m.toString(),ge+=m.length+1,Te.push(m),Te},Pe=p.__private__.write=function(m){return z(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},We=p.__private__.getArrayBuffer=function(m){for(var A=m.length,Y=new ArrayBuffer(A),J=new Uint8Array(Y);A--;)J[A]=m.charCodeAt(A);return Y},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ve};var Le=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return Le=k===w?m/mt:m,this};var Ke,Me=p.__private__.getFontSize=p.getFontSize=function(){return k===v?Le:Le*mt},tt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return tt=m,this},p.__private__.getR2L=p.getR2L=function(){return tt};var Je,Pt=p.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Ke=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Ke=m}else Ke=parseInt(m,10)};p.__private__.getZoomMode=function(){return Ke};var bt,ot=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');Je=m};p.__private__.getPageMode=function(){return Je};var kt=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');bt=m};p.__private__.getLayoutMode=function(){return bt},p.__private__.setDisplayMode=p.setDisplayMode=function(m,A,Y){return Pt(m),kt(A),ot(Y),this};var Lt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(Lt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Lt[m]},p.__private__.getDocumentProperties=function(){return Lt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var A in Lt)Lt.hasOwnProperty(A)&&m[A]&&(Lt[A]=m[A]);return this},p.__private__.setDocumentProperty=function(m,A){if(Object.keys(Lt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Lt[m]=A};var Ge,mt,Qe,dn,Ft,wt={},Nt={},en=[],it={},Yt={},st={},dt={},Kt=null,_t=0,ie=[],ye=new gx(p),ve=e.hotfixes||[],lt={},Ut={},Re=[],Oe=function m(A,Y,J,oe,Ne,Ce){if(!(this instanceof m))return new m(A,Y,J,oe,Ne,Ce);isNaN(A)&&(A=1),isNaN(Y)&&(Y=0),isNaN(J)&&(J=0),isNaN(oe)&&(oe=1),isNaN(Ne)&&(Ne=0),isNaN(Ce)&&(Ce=0),this._matrix=[A,Y,J,oe,Ne,Ce]};Object.defineProperty(Oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Oe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Oe.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(m)},Oe.prototype.multiply=function(m){var A=m.sx*this.sx+m.shy*this.shx,Y=m.sx*this.shy+m.shy*this.sy,J=m.shx*this.sx+m.sy*this.shx,oe=m.shx*this.shy+m.sy*this.sy,Ne=m.tx*this.sx+m.ty*this.shx+this.tx,Ce=m.tx*this.shy+m.ty*this.sy+this.ty;return new Oe(A,Y,J,oe,Ne,Ce)},Oe.prototype.decompose=function(){var m=this.sx,A=this.shy,Y=this.shx,J=this.sy,oe=this.tx,Ne=this.ty,Ce=Math.sqrt(m*m+A*A),$e=(m/=Ce)*Y+(A/=Ce)*J;Y-=m*$e,J-=A*$e;var et=Math.sqrt(Y*Y+J*J);return $e/=et,m*(J/=et)<A*(Y/=et)&&(m=-m,A=-A,$e=-$e,Ce=-Ce),{scale:new Oe(Ce,0,0,et,0,0),translate:new Oe(1,0,0,1,oe,Ne),rotate:new Oe(m,A,-A,m,0,0),skew:new Oe(1,0,$e,1,0,0)}},Oe.prototype.toString=function(m){return this.join(" ")},Oe.prototype.inversed=function(){var m=this.sx,A=this.shy,Y=this.shx,J=this.sy,oe=this.tx,Ne=this.ty,Ce=1/(m*J-A*Y),$e=J*Ce,et=-A*Ce,ft=-Y*Ce,vt=m*Ce;return new Oe($e,et,ft,vt,-$e*oe-ft*Ne,-et*oe-vt*Ne)},Oe.prototype.applyToPoint=function(m){var A=m.x*this.sx+m.y*this.shx+this.tx,Y=m.x*this.shy+m.y*this.sy+this.ty;return new os(A,Y)},Oe.prototype.applyToRectangle=function(m){var A=this.applyToPoint(m),Y=this.applyToPoint(new os(m.x+m.w,m.y+m.h));return new Il(A.x,A.y,Y.x-A.x,Y.y-A.y)},Oe.prototype.clone=function(){var m=this.sx,A=this.shy,Y=this.shx,J=this.sy,oe=this.tx,Ne=this.ty;return new Oe(m,A,Y,J,oe,Ne)},p.Matrix=Oe;var pe=p.matrixMult=function(m,A){return A.multiply(m)},ct=new Oe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ct;var Xe=function(m,A){if(!Yt[m]){var Y=(A instanceof Ya?"Sh":"P")+(Object.keys(it).length+1).toString(10);A.id=Y,Yt[m]=Y,it[Y]=A,ye.publish("addPattern",A)}};p.ShadingPattern=Ya,p.TilingPattern=Go,p.addShadingPattern=function(m,A){return _("addShadingPattern()"),Xe(m,A),this},p.beginTilingPattern=function(m){_("beginTilingPattern()"),Ml(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,A){_("endTilingPattern()"),A.stream=Se[q].join(`
`),Xe(m,A),ye.publish("endTilingPattern",A),Re.pop().restore()};var ht,zt=p.__private__.newObject=function(){var m=fn();return Nn(m,!0),m},fn=p.__private__.newObjectDeferred=function(){return Q++,ne[Q]=function(){return ge},Q},Nn=function(m,A){return A=typeof A=="boolean"&&A,ne[m]=ge,A&&z(m+" 0 obj"),m},ii=p.__private__.newAdditionalObject=function(){var m={objId:fn(),content:""};return he.push(m),m},at=fn(),_n=fn(),hn=p.__private__.decodeColorString=function(m){var A=m.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length!==5||A[4]!=="k"&&A[4]!=="K"||(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var Y=parseFloat(A[0]);A=[Y,Y,Y,"r"]}for(var J="#",oe=0;oe<3;oe++)J+=("0"+Math.floor(255*parseFloat(A[oe])).toString(16)).slice(-2);return J},ar=p.__private__.encodeColorString=function(m){var A;typeof m=="string"&&(m={ch1:m});var Y=m.ch1,J=m.ch2,oe=m.ch3,Ne=m.ch4,Ce=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var $e=new wb(Y);if($e.ok)Y=$e.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var et=parseInt(Y.substr(1),16);Y=et>>16&255,J=et>>8&255,oe=255&et}if(J===void 0||Ne===void 0&&Y===J&&J===oe)A=typeof Y=="string"?Y+" "+Ce[0]:m.precision===2?E(Y/255)+" "+Ce[0]:R(Y/255)+" "+Ce[0];else if(Ne===void 0||Vt(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",Ce[1]].join(" ");A=typeof Y=="string"?[Y,J,oe,Ce[1]].join(" "):m.precision===2?[E(Y/255),E(J/255),E(oe/255),Ce[1]].join(" "):[R(Y/255),R(J/255),R(oe/255),Ce[1]].join(" ")}else A=typeof Y=="string"?[Y,J,oe,Ne,Ce[2]].join(" "):m.precision===2?[E(Y),E(J),E(oe),E(Ne),Ce[2]].join(" "):[R(Y),R(J),R(oe),R(Ne),Ce[2]].join(" ");return A},Zt=p.__private__.getFilters=function(){return o},jn=p.__private__.putStream=function(m){var A=(m=m||{}).data||"",Y=m.filters||Zt(),J=m.alreadyAppliedFilters||[],oe=m.addLength1||!1,Ne=A.length,Ce=m.objectId,$e=function(On){return On};if(h!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&($e=Mn.encryptor(Ce,0));var et={};Y===!0&&(Y=["FlateEncode"]);var ft=m.additionalKeyValues||[],vt=(et=rt.API.processDataByFilters!==void 0?rt.API.processDataByFilters(A,Y):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(J)?J.join(" "):J.toString());if(et.data.length!==0&&(ft.push({key:"Length",value:et.data.length}),oe===!0&&ft.push({key:"Length1",value:Ne})),vt.length!=0)if(vt.split("/").length-1==1)ft.push({key:"Filter",value:vt});else{ft.push({key:"Filter",value:"["+vt+"]"});for(var It=0;It<ft.length;It+=1)if(ft[It].key==="DecodeParms"){for(var pn=[],Dn=0;Dn<et.reverseChain.split("/").length-1;Dn+=1)pn.push("null");pn.push(ft[It].value),ft[It].value="["+pn.join(" ")+"]"}}z("<<");for(var tn=0;tn<ft.length;tn++)z("/"+ft[tn].key+" "+ft[tn].value);z(">>"),et.data.length!==0&&(z("stream"),z($e(et.data)),z("endstream"))},or=p.__private__.putPage=function(m){var A=m.number,Y=m.data,J=m.objId,oe=m.contentsObjId;Nn(J,!0),z("<</Type /Page"),z("/Parent "+m.rootDictionaryObjId+" 0 R"),z("/Resources "+m.resourceDictionaryObjId+" 0 R"),z("/MediaBox ["+parseFloat(T(m.mediaBox.bottomLeftX))+" "+parseFloat(T(m.mediaBox.bottomLeftY))+" "+T(m.mediaBox.topRightX)+" "+T(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&z("/CropBox ["+T(m.cropBox.bottomLeftX)+" "+T(m.cropBox.bottomLeftY)+" "+T(m.cropBox.topRightX)+" "+T(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&z("/BleedBox ["+T(m.bleedBox.bottomLeftX)+" "+T(m.bleedBox.bottomLeftY)+" "+T(m.bleedBox.topRightX)+" "+T(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&z("/TrimBox ["+T(m.trimBox.bottomLeftX)+" "+T(m.trimBox.bottomLeftY)+" "+T(m.trimBox.topRightX)+" "+T(m.trimBox.topRightY)+"]"),m.artBox!==null&&z("/ArtBox ["+T(m.artBox.bottomLeftX)+" "+T(m.artBox.bottomLeftY)+" "+T(m.artBox.topRightX)+" "+T(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&z("/UserUnit "+m.userUnit),ye.publish("putPage",{objId:J,pageContext:ie[A],pageNumber:A,page:Y}),z("/Contents "+oe+" 0 R"),z(">>"),z("endobj");var Ne=Y.join(`
`);return k===w&&(Ne+=`
Q`),Nn(oe,!0),jn({data:Ne,filters:Zt(),objectId:oe}),z("endobj"),J},Cr=p.__private__.putPages=function(){var m,A,Y=[];for(m=1;m<=_t;m++)ie[m].objId=fn(),ie[m].contentsObjId=fn();for(m=1;m<=_t;m++)Y.push(or({number:m,data:Se[m],objId:ie[m].objId,contentsObjId:ie[m].contentsObjId,mediaBox:ie[m].mediaBox,cropBox:ie[m].cropBox,bleedBox:ie[m].bleedBox,trimBox:ie[m].trimBox,artBox:ie[m].artBox,userUnit:ie[m].userUnit,rootDictionaryObjId:at,resourceDictionaryObjId:_n}));Nn(at,!0),z("<</Type /Pages");var J="/Kids [";for(A=0;A<_t;A++)J+=Y[A]+" 0 R ";z(J+"]"),z("/Count "+_t),z(">>"),z("endobj"),ye.publish("postPutPages")},si=function(m){ye.publish("putFont",{font:m,out:z,newObject:zt,putStream:jn}),m.isAlreadyPutted!==!0&&(m.objectNumber=zt(),z("<<"),z("/Type /Font"),z("/BaseFont /"+Do(m.postScriptName)),z("/Subtype /Type1"),typeof m.encoding=="string"&&z("/Encoding /"+m.encoding),z("/FirstChar 32"),z("/LastChar 255"),z(">>"),z("endobj"))},Et=function(m){m.objectNumber=zt();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[T(m.x),T(m.y),T(m.x+m.width),T(m.y+m.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var Y=m.pages[1].join(`
`);jn({data:Y,additionalKeyValues:A,objectId:m.objectNumber}),z("endobj")},Er=function(m,A){A||(A=21);var Y=zt(),J=function(Ce,$e){var et,ft=[],vt=1/($e-1);for(et=0;et<1;et+=vt)ft.push(et);if(ft.push(1),Ce[0].offset!=0){var It={offset:0,color:Ce[0].color};Ce.unshift(It)}if(Ce[Ce.length-1].offset!=1){var pn={offset:1,color:Ce[Ce.length-1].color};Ce.push(pn)}for(var Dn="",tn=0,On=0;On<ft.length;On++){for(et=ft[On];et>Ce[tn+1].offset;)tn++;var Rn=Ce[tn].offset,Kn=(et-Rn)/(Ce[tn+1].offset-Rn),us=Ce[tn].color,wi=Ce[tn+1].color;Dn+=X(Math.round((1-Kn)*us[0]+Kn*wi[0]).toString(16))+X(Math.round((1-Kn)*us[1]+Kn*wi[1]).toString(16))+X(Math.round((1-Kn)*us[2]+Kn*wi[2]).toString(16))}return Dn.trim()}(m.colors,A),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+A+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),jn({data:J,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),z("endobj"),m.objectNumber=zt(),z("<< /ShadingType "+m.type),z("/ColorSpace /DeviceRGB");var Ne="/Coords ["+T(parseFloat(m.coords[0]))+" "+T(parseFloat(m.coords[1]))+" ";m.type===2?Ne+=T(parseFloat(m.coords[2]))+" "+T(parseFloat(m.coords[3])):Ne+=T(parseFloat(m.coords[2]))+" "+T(parseFloat(m.coords[3]))+" "+T(parseFloat(m.coords[4]))+" "+T(parseFloat(m.coords[5])),z(Ne+="]"),m.matrix&&z("/Matrix ["+m.matrix.toString()+"]"),z("/Function "+Y+" 0 R"),z("/Extend [true true]"),z(">>"),z("endobj")},lr=function(m,A){var Y=fn(),J=zt();A.push({resourcesOid:Y,objectOid:J}),m.objectNumber=J;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+m.boundingBox.map(T).join(" ")+"]"}),oe.push({key:"XStep",value:T(m.xStep)}),oe.push({key:"YStep",value:T(m.yStep)}),oe.push({key:"Resources",value:Y+" 0 R"}),m.matrix&&oe.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),jn({data:m.stream,additionalKeyValues:oe,objectId:m.objectNumber}),z("endobj")},Rs=function(m){for(var A in m.objectNumber=zt(),z("<<"),m)switch(A){case"opacity":z("/ca "+E(m[A]));break;case"stroke-opacity":z("/CA "+E(m[A]))}z(">>"),z("endobj")},Oi=function(m){Nn(m.resourcesOid,!0),z("<<"),z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var A in z("/Font <<"),wt)wt.hasOwnProperty(A)&&(b===!1||b===!0&&y.hasOwnProperty(A))&&z("/"+A+" "+wt[A].objectNumber+" 0 R");z(">>")}(),function(){if(Object.keys(it).length>0){for(var A in z("/Shading <<"),it)it.hasOwnProperty(A)&&it[A]instanceof Ya&&it[A].objectNumber>=0&&z("/"+A+" "+it[A].objectNumber+" 0 R");ye.publish("putShadingPatternDict"),z(">>")}}(),function(A){if(Object.keys(it).length>0){for(var Y in z("/Pattern <<"),it)it.hasOwnProperty(Y)&&it[Y]instanceof p.TilingPattern&&it[Y].objectNumber>=0&&it[Y].objectNumber<A&&z("/"+Y+" "+it[Y].objectNumber+" 0 R");ye.publish("putTilingPatternDict"),z(">>")}}(m.objectOid),function(){if(Object.keys(st).length>0){var A;for(A in z("/ExtGState <<"),st)st.hasOwnProperty(A)&&st[A].objectNumber>=0&&z("/"+A+" "+st[A].objectNumber+" 0 R");ye.publish("putGStateDict"),z(">>")}}(),function(){for(var A in z("/XObject <<"),lt)lt.hasOwnProperty(A)&&lt[A].objectNumber>=0&&z("/"+A+" "+lt[A].objectNumber+" 0 R");ye.publish("putXobjectDict"),z(">>")}(),z(">>"),z("endobj")},Ca=function(m){Nt[m.fontName]=Nt[m.fontName]||{},Nt[m.fontName][m.fontStyle]=m.id},gu=function(m,A,Y,J,oe){var Ne={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:m,fontName:A,fontStyle:Y,encoding:J,isStandardFont:oe||!1,metadata:{}};return ye.publish("addFont",{font:Ne,instance:this}),wt[Ne.id]=Ne,Ca(Ne),Ne.id},ai=p.__private__.pdfEscape=p.pdfEscape=function(m,A){return function(Y,J){var oe,Ne,Ce,$e,et,ft,vt,It,pn;if(Ce=(J=J||{}).sourceEncoding||"Unicode",et=J.outputEncoding,(J.autoencode||et)&&wt[Ge].metadata&&wt[Ge].metadata[Ce]&&wt[Ge].metadata[Ce].encoding&&($e=wt[Ge].metadata[Ce].encoding,!et&&wt[Ge].encoding&&(et=wt[Ge].encoding),!et&&$e.codePages&&(et=$e.codePages[0]),typeof et=="string"&&(et=$e[et]),et)){for(vt=!1,ft=[],oe=0,Ne=Y.length;oe<Ne;oe++)(It=et[Y.charCodeAt(oe)])?ft.push(String.fromCharCode(It)):ft.push(Y[oe]),ft[oe].charCodeAt(0)>>8&&(vt=!0);Y=ft.join("")}for(oe=Y.length;vt===void 0&&oe!==0;)Y.charCodeAt(oe-1)>>8&&(vt=!0),oe--;if(!vt)return Y;for(ft=J.noBOM?[]:[254,255],oe=0,Ne=Y.length;oe<Ne;oe++){if((pn=(It=Y.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+Y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ft.push(pn),ft.push(It-(pn<<8))}return String.fromCharCode.apply(void 0,ft)}(m,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cl=p.__private__.beginPage=function(m){Se[++_t]=[],ie[_t]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},vu(_t),je(Se[q])},xu=function(m,A){var Y,J,oe;switch(n=A||n,typeof m=="string"&&(Y=g(m.toLowerCase()),Array.isArray(Y)&&(J=Y[0],oe=Y[1])),Array.isArray(m)&&(J=m[0]*mt,oe=m[1]*mt),isNaN(J)&&(J=i[0],oe=i[1]),(J>14400||oe>14400)&&(Qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),J=Math.min(14400,J),oe=Math.min(14400,oe)),i=[J,oe],n.substr(0,1)){case"l":oe>J&&(i=[oe,J]);break;case"p":J>oe&&(i=[oe,J])}Cl(i),pt(Fl),z(bo),Dl!==0&&z(Dl+" J"),Rl!==0&&z(Rl+" j"),ye.publish("addPage",{pageNumber:_t})},El=function(m){m>0&&m<=_t&&(Se.splice(m,1),ie.splice(m,1),_t--,q>_t&&(q=_t),this.setPage(q))},vu=function(m){m>0&&m<=_t&&(q=m)},yu=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Se.length-1},bu=function(m,A,Y){var J,oe=void 0;return Y=Y||{},m=m!==void 0?m:wt[Ge].fontName,A=A!==void 0?A:wt[Ge].fontStyle,J=m.toLowerCase(),Nt[J]!==void 0&&Nt[J][A]!==void 0?oe=Nt[J][A]:Nt[m]!==void 0&&Nt[m][A]!==void 0?oe=Nt[m][A]:Y.disableWarning===!1&&Qt.warn("Unable to look up font label for font '"+m+"', '"+A+"'. Refer to getFontList() for available fonts."),oe||Y.noFallback||(oe=Nt.times[A])==null&&(oe=Nt.times.normal),oe},zi=p.__private__.putInfo=function(){var m=zt(),A=function(J){return J};for(var Y in h!==null&&(A=Mn.encryptor(m,0)),z("<<"),z("/Producer ("+ai(A("jsPDF "+rt.version))+")"),Lt)Lt.hasOwnProperty(Y)&&Lt[Y]&&z("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+ai(A(Lt[Y]))+")");z("/CreationDate ("+ai(A(se))+")"),z(">>"),z("endobj")},xo=p.__private__.putCatalog=function(m){var A=(m=m||{}).rootDictionaryObjId||at;switch(zt(),z("<<"),z("/Type /Catalog"),z("/Pages "+A+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z("/OpenAction [3 0 R /Fit]");break;case"original":z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+Ke;Y.substr(Y.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&z("/OpenAction [3 0 R /XYZ null null "+E(Ke)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":z("/PageLayout /OneColumn");break;case"single":z("/PageLayout /SinglePage");break;case"two":case"twoleft":z("/PageLayout /TwoColumnLeft");break;case"tworight":z("/PageLayout /TwoColumnRight")}Je&&z("/PageMode /"+Je),ye.publish("putCatalog"),z(">>"),z("endobj")},Zf=p.__private__.putTrailer=function(){z("trailer"),z("<<"),z("/Size "+(Q+1)),z("/Root "+Q+" 0 R"),z("/Info "+(Q-1)+" 0 R"),h!==null&&z("/Encrypt "+Mn.oid+" 0 R"),z("/ID [ <"+le+"> <"+le+"> ]"),z(">>")},Tn=p.__private__.putHeader=function(){z("%PDF-"+S),z("%")},wu=p.__private__.putXRef=function(){var m="0000000000";z("xref"),z("0 "+(Q+1)),z("0000000000 65535 f ");for(var A=1;A<=Q;A++)typeof ne[A]=="function"?z((m+ne[A]()).slice(-10)+" 00000 n "):ne[A]!==void 0?z((m+ne[A]).slice(-10)+" 00000 n "):z("0000000000 00000 n ")},Bi=p.__private__.buildDocument=function(){var m;Q=0,ge=0,xe=[],ne=[],he=[],at=fn(),_n=fn(),je(xe),ye.publish("buildDocument"),Tn(),Cr(),function(){ye.publish("putAdditionalObjects");for(var Y=0;Y<he.length;Y++){var J=he[Y];Nn(J.objId,!0),z(J.content),z("endobj")}ye.publish("postPutAdditionalObjects")}(),m=[],function(){for(var Y in wt)wt.hasOwnProperty(Y)&&(b===!1||b===!0&&y.hasOwnProperty(Y))&&si(wt[Y])}(),function(){var Y;for(Y in st)st.hasOwnProperty(Y)&&Rs(st[Y])}(),function(){for(var Y in lt)lt.hasOwnProperty(Y)&&Et(lt[Y])}(),function(Y){var J;for(J in it)it.hasOwnProperty(J)&&(it[J]instanceof Ya?Er(it[J]):it[J]instanceof Go&&lr(it[J],Y))}(m),ye.publish("putResources"),m.forEach(Oi),Oi({resourcesOid:_n,objectOid:Number.MAX_SAFE_INTEGER}),ye.publish("postPutResources"),h!==null&&(Mn.oid=zt(),z("<<"),z("/Filter /Standard"),z("/V "+Mn.v),z("/R "+Mn.r),z("/U <"+Mn.toHexString(Mn.U)+">"),z("/O <"+Mn.toHexString(Mn.O)+">"),z("/P "+Mn.P),z(">>"),z("endobj")),zi(),xo();var A=ge;return wu(),Zf(),z("startxref"),z(""+A),z("%%EOF"),je(Se[q]),xe.join(`
`)},vo=p.__private__.getBlob=function(m){return new Blob([We(m)],{type:"application/pdf"})},Nu=p.output=p.__private__.output=(ht=function(m,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",m){case void 0:return Bi();case"save":p.save(A.filename);break;case"arraybuffer":return We(Bi());case"blob":return vo(Bi());case"bloburi":case"bloburl":if(ut.URL!==void 0&&typeof ut.URL.createObjectURL=="function")return ut.URL&&ut.URL.createObjectURL(vo(Bi()))||void 0;Qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",J=Bi();try{Y=hx(J)}catch{Y=hx(unescape(encodeURIComponent(J)))}return"data:application/pdf;filename="+A.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ut)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(oe=A.pdfObjectUrl,Ne="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",$e=ut.open();return $e!==null&&$e.document.write(Ce),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ut)==="[object Window]"){var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',ft=ut.open();if(ft!==null){ft.document.write(et);var vt=this;ft.document.documentElement.querySelector("#pdfViewer").onload=function(){ft.document.title=A.filename,ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(vt.output("bloburl"))}}return ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',pn=ut.open();if(pn!==null&&(pn.document.write(It),pn.document.title=A.filename),pn||typeof safari>"u")return pn;break;case"datauri":case"dataurl":return ut.document.location.href=this.output("datauristring",A);default:return null}},ht.foo=function(){try{return ht.apply(this,arguments)}catch(Y){var m=Y.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var A="Error in function "+m.split(`
`)[0].split("<")[0]+": "+Y.message;if(!ut.console)throw new Error(A);ut.console.error(A,Y),ut.alert&&alert(A)}},ht.foo.bar=ht,ht.foo),oi=function(m){return Array.isArray(ve)===!0&&ve.indexOf(m)>-1};switch(r){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=oi("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);mt=r}var Mn=null;me(),U();var rs=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ie[m].objId,pageNumber:m,pageContext:ie[m]}},_u=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in ie)if(ie[A].objId===m)break;return rs(A)},Kf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ie[q].objId,pageNumber:q,pageContext:ie[q]}};p.addPage=function(){return xu.apply(this,arguments),this},p.setPage=function(){return vu.apply(this,arguments),je.call(this,Se[q]),this},p.insertPage=function(m){return this.addPage(),this.movePage(q,m),this},p.movePage=function(m,A){var Y,J;if(m>A){Y=Se[m],J=ie[m];for(var oe=m;oe>A;oe--)Se[oe]=Se[oe-1],ie[oe]=ie[oe-1];Se[A]=Y,ie[A]=J,this.setPage(A)}else if(m<A){Y=Se[m],J=ie[m];for(var Ne=m;Ne<A;Ne++)Se[Ne]=Se[Ne+1],ie[Ne]=ie[Ne+1];Se[A]=Y,ie[A]=J,this.setPage(A)}return this},p.deletePage=function(){return El.apply(this,arguments),this},p.__private__.text=p.text=function(m,A,Y,J,oe){var Ne,Ce,$e,et,ft,vt,It,pn,Dn,tn=(J=J||{}).scope||this;if(typeof m=="number"&&typeof A=="number"&&(typeof Y=="string"||Array.isArray(Y))){var On=Y;Y=A,A=m,m=On}if(arguments[3]instanceof Oe==0?($e=arguments[4],et=arguments[5],Vt(It=arguments[3])==="object"&&It!==null||(typeof $e=="string"&&(et=$e,$e=null),typeof It=="string"&&(et=It,It=null),typeof It=="number"&&($e=It,It=null),J={flags:It,angle:$e,align:et})):(_("The transform parameter of text() with a Matrix value"),Dn=oe),isNaN(A)||isNaN(Y)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return tn;var Rn,Kn="",us=typeof J.lineHeightFactor=="number"?J.lineHeightFactor:Pa,wi=tn.internal.scaleFactor;function ds(qt){return qt=qt.split("	").join(Array(J.TabLen||9).join(" ")),ai(qt,It)}function zl(qt){for(var Xt,kn=qt.concat(),zn=[],ps=kn.length;ps--;)typeof(Xt=kn.shift())=="string"?zn.push(Xt):Array.isArray(qt)&&(Xt.length===1||Xt[1]===void 0&&Xt[2]===void 0)?zn.push(Xt[0]):zn.push([Xt[0],Xt[1],Xt[2]]);return zn}function No(qt,Xt){var kn;if(typeof qt=="string")kn=Xt(qt)[0];else if(Array.isArray(qt)){for(var zn,ps,Zl=qt.concat(),So=[],Du=Zl.length;Du--;)typeof(zn=Zl.shift())=="string"?So.push(Xt(zn)[0]):Array.isArray(zn)&&typeof zn[0]=="string"&&(ps=Xt(zn[0],zn[1],zn[2]),So.push([ps[0],ps[1],ps[2]]));kn=So}return kn}var Is=!1,Ra=!0;if(typeof m=="string")Is=!0;else if(Array.isArray(m)){var Ia=m.concat();Ce=[];for(var Ms,Xn=Ia.length;Xn--;)(typeof(Ms=Ia.shift())!="string"||Array.isArray(Ms)&&typeof Ms[0]!="string")&&(Ra=!1);Is=Ra}if(Is===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Ma=Le/tn.internal.scaleFactor,Oa=Ma*(us-1);switch(J.baseline){case"bottom":Y-=Oa;break;case"top":Y+=Ma-Oa;break;case"hanging":Y+=Ma-2*Oa;break;case"middle":Y+=Ma/2-Oa}if((vt=J.maxWidth||0)>0&&(typeof m=="string"?m=tn.splitTextToSize(m,vt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(qt,Xt){return qt.concat(tn.splitTextToSize(Xt,vt))},[]))),Ne={text:m,x:A,y:Y,options:J,mutex:{pdfEscape:ai,activeFontKey:Ge,fonts:wt,activeFontSize:Le}},ye.publish("preProcessText",Ne),m=Ne.text,$e=(J=Ne.options).angle,Dn instanceof Oe==0&&$e&&typeof $e=="number"){$e*=Math.PI/180,J.rotationDirection===0&&($e=-$e),k===w&&($e=-$e);var Bl=Math.cos($e),Ul=Math.sin($e);Dn=new Oe(Bl,Ul,-Ul,Bl,0,0)}else $e&&$e instanceof Oe&&(Dn=$e);k!==w||Dn||(Dn=ct),(ft=J.charSpace||as)!==void 0&&(Kn+=T(Z(ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pn=J.horizontalScale)!==void 0&&(Kn+=T(100*pn)+` Tz
`),J.lang;var br=-1,fs=J.renderingMode!==void 0?J.renderingMode:J.stroke,_o=tn.internal.getCurrentPageInfo().pageContext;switch(fs){case 0:case!1:case"fill":br=0;break;case 1:case!0:case"stroke":br=1;break;case 2:case"fillThenStroke":br=2;break;case 3:case"invisible":br=3;break;case 4:case"fillAndAddForClipping":br=4;break;case 5:case"strokeAndAddPathForClipping":br=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":br=6;break;case 7:case"addToPathForClipping":br=7}var Fu=_o.usedRenderingMode!==void 0?_o.usedRenderingMode:-1;br!==-1?Kn+=br+` Tr
`:Fu!==-1&&(Kn+=`0 Tr
`),br!==-1&&(_o.usedRenderingMode=br),et=J.align||"left";var li,za=Le*us,ql=tn.internal.pageSize.getWidth(),Hl=wt[Ge];ft=J.charSpace||as,vt=J.maxWidth||0,It=Object.assign({autoencode:!0,noBOM:!0},J.flags);var Os=[],Ba=function(qt){return tn.getStringUnitWidth(qt,{font:Hl,charSpace:ft,fontSize:Le,doKerning:!1})*Le/wi};if(Object.prototype.toString.call(m)==="[object Array]"){var Br;Ce=zl(m),et!=="left"&&(li=Ce.map(Ba));var Ur,zs=0;if(et==="right"){A-=li[0],m=[],Xn=Ce.length;for(var hs=0;hs<Xn;hs++)hs===0?(Ur=is(A),Br=ss(Y)):(Ur=Z(zs-li[hs]),Br=-za),m.push([Ce[hs],Ur,Br]),zs=li[hs]}else if(et==="center"){A-=li[0]/2,m=[],Xn=Ce.length;for(var Bs=0;Bs<Xn;Bs++)Bs===0?(Ur=is(A),Br=ss(Y)):(Ur=Z((zs-li[Bs])/2),Br=-za),m.push([Ce[Bs],Ur,Br]),zs=li[Bs]}else if(et==="left"){m=[],Xn=Ce.length;for(var $l=0;$l<Xn;$l++)m.push(Ce[$l])}else if(et==="justify"&&Hl.encoding==="Identity-H"){m=[],Xn=Ce.length,vt=vt!==0?vt:ql;for(var jo=0,Sn=0;Sn<Xn;Sn++)if(Br=Sn===0?ss(Y):-za,Ur=Sn===0?is(A):jo,Sn<Xn-1){var Tu=Z((vt-li[Sn])/(Ce[Sn].split(" ").length-1)),qi=Ce[Sn].split(" ");m.push([qi[0]+" ",Ur,Br]),jo=0;for(var Hi=1;Hi<qi.length;Hi++){var Wl=(Ba(qi[Hi-1]+" "+qi[Hi])-Ba(qi[Hi]))*wi+Tu;Hi==qi.length-1?m.push([qi[Hi],Wl,0]):m.push([qi[Hi]+" ",Wl,0]),jo-=Wl}}else m.push([Ce[Sn],Ur,Br]);m.push(["",jo,0])}else{if(et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Xn=Ce.length,vt=vt!==0?vt:ql,Sn=0;Sn<Xn;Sn++){Br=Sn===0?ss(Y):-za,Ur=Sn===0?is(A):0;var Vl=Ce[Sn].split(" ").length-1,Gl=Vl>0?(vt-li[Sn])/Vl:0;Sn<Xn-1?Os.push(T(Z(Gl))):Os.push(0),m.push([Ce[Sn],Ur,Br])}}}(typeof J.R2L=="boolean"?J.R2L:tt)===!0&&(m=No(m,function(qt,Xt,kn){return[qt.split("").reverse().join(""),Xt,kn]})),Ne={text:m,x:A,y:Y,options:J,mutex:{pdfEscape:ai,activeFontKey:Ge,fonts:wt,activeFontSize:Le}},ye.publish("postProcessText",Ne),m=Ne.text,Rn=Ne.mutex.isHex||!1;var Yl=wt[Ge].encoding;Yl!=="WinAnsiEncoding"&&Yl!=="StandardEncoding"||(m=No(m,function(qt,Xt,kn){return[ds(qt),Xt,kn]})),Ce=zl(m),m=[];for(var Us,qs,Hs,Ua=Array.isArray(Ce[0])?1:0,$s="",qa=function(qt,Xt,kn){var zn="";return kn instanceof Oe?(kn=typeof J.angle=="number"?pe(kn,new Oe(1,0,0,1,qt,Xt)):pe(new Oe(1,0,0,1,qt,Xt),kn),k===w&&(kn=pe(new Oe(1,0,0,-1,0,0),kn)),zn=kn.join(" ")+` Tm
`):zn=T(qt)+" "+T(Xt)+` Td
`,zn},ci=0;ci<Ce.length;ci++){switch($s="",Ua){case 1:Hs=(Rn?"<":"(")+Ce[ci][0]+(Rn?">":")"),Us=parseFloat(Ce[ci][1]),qs=parseFloat(Ce[ci][2]);break;case 0:Hs=(Rn?"<":"(")+Ce[ci]+(Rn?">":")"),Us=is(A),qs=ss(Y)}Os!==void 0&&Os[ci]!==void 0&&($s=Os[ci]+` Tw
`),ci===0?m.push($s+qa(Us,qs,Dn)+Hs):Ua===0?m.push($s+Hs):Ua===1&&m.push($s+qa(Us,qs,Dn)+Hs)}m=Ua===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var $i=`BT
/`;return $i+=Ge+" "+Le+` Tf
`,$i+=T(Le*us)+` TL
`,$i+=Fa+`
`,$i+=Kn,$i+=m,z($i+="ET"),y[Ge]=!0,tn};var Xf=p.__private__.clip=p.clip=function(m){return z(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Xf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return z("n"),this};var Ui=p.__private__.isValidStyle=function(m){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(A=!0),A};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return Ui(m)&&(d=m),this};var ju=p.__private__.getStyle=p.getStyle=function(m){var A=d;switch(m){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=m}return A},Su=p.close=function(){return z("h"),this};p.stroke=function(){return z("S"),this},p.fill=function(m){return yo("f",m),this},p.fillEvenOdd=function(m){return yo("f*",m),this},p.fillStroke=function(m){return yo("B",m),this},p.fillStrokeEvenOdd=function(m){return yo("B*",m),this};var yo=function(m,A){Vt(A)==="object"?Qf(A,m):z(m)},Ea=function(m){m===null||k===w&&m===void 0||(m=ju(m),z(m))};function Jf(m,A,Y,J,oe){var Ne=new Go(A||this.boundingBox,Y||this.xStep,J||this.yStep,this.gState,oe||this.matrix);Ne.stream=this.stream;var Ce=m+"$$"+this.cloneIndex+++"$$";return Xe(Ce,Ne),Ne}var Qf=function(m,A){var Y=Yt[m.key],J=it[Y];if(J instanceof Ya)z("q"),z(eh(A)),J.gState&&p.setGState(J.gState),z(m.matrix.toString()+" cm"),z("/"+Y+" sh"),z("Q");else if(J instanceof Go){var oe=new Oe(1,0,0,-1,0,Da());m.matrix&&(oe=oe.multiply(m.matrix||ct),Y=Jf.call(J,m.key,m.boundingBox,m.xStep,m.yStep,oe).id),z("q"),z("/Pattern cs"),z("/"+Y+" scn"),J.gState&&p.setGState(J.gState),z(A),z("Q")}},eh=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Pl=p.moveTo=function(m,A){return z(T(Z(m))+" "+T(G(A))+" m"),this},ku=p.lineTo=function(m,A){return z(T(Z(m))+" "+T(G(A))+" l"),this},bi=p.curveTo=function(m,A,Y,J,oe,Ne){return z([T(Z(m)),T(G(A)),T(Z(Y)),T(G(J)),T(Z(oe)),T(G(Ne)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,A,Y,J,oe){if(isNaN(m)||isNaN(A)||isNaN(Y)||isNaN(J)||!Ui(oe))throw new Error("Invalid arguments passed to jsPDF.line");return k===v?this.lines([[Y-m,J-A]],m,A,[1,1],oe||"S"):this.lines([[Y-m,J-A]],m,A,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,A,Y,J,oe,Ne){var Ce,$e,et,ft,vt,It,pn,Dn,tn,On,Rn,Kn;if(typeof m=="number"&&(Kn=Y,Y=A,A=m,m=Kn),J=J||[1,1],Ne=Ne||!1,isNaN(A)||isNaN(Y)||!Array.isArray(m)||!Array.isArray(J)||!Ui(oe)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pl(A,Y),Ce=J[0],$e=J[1],ft=m.length,On=A,Rn=Y,et=0;et<ft;et++)(vt=m[et]).length===2?(On=vt[0]*Ce+On,Rn=vt[1]*$e+Rn,ku(On,Rn)):(It=vt[0]*Ce+On,pn=vt[1]*$e+Rn,Dn=vt[2]*Ce+On,tn=vt[3]*$e+Rn,On=vt[4]*Ce+On,Rn=vt[5]*$e+Rn,bi(It,pn,Dn,tn,On,Rn));return Ne&&Su(),Ea(oe),this},p.path=function(m){for(var A=0;A<m.length;A++){var Y=m[A],J=Y.c;switch(Y.op){case"m":Pl(J[0],J[1]);break;case"l":ku(J[0],J[1]);break;case"c":bi.apply(this,J);break;case"h":Su()}}return this},p.__private__.rect=p.rect=function(m,A,Y,J,oe){if(isNaN(m)||isNaN(A)||isNaN(Y)||isNaN(J)||!Ui(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return k===v&&(J=-J),z([T(Z(m)),T(G(A)),T(Z(Y)),T(Z(J)),"re"].join(" ")),Ea(oe),this},p.__private__.triangle=p.triangle=function(m,A,Y,J,oe,Ne,Ce){if(isNaN(m)||isNaN(A)||isNaN(Y)||isNaN(J)||isNaN(oe)||isNaN(Ne)||!Ui(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-m,J-A],[oe-Y,Ne-J],[m-oe,A-Ne]],m,A,[1,1],Ce,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,A,Y,J,oe,Ne,Ce){if(isNaN(m)||isNaN(A)||isNaN(Y)||isNaN(J)||isNaN(oe)||isNaN(Ne)||!Ui(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*Y),Ne=Math.min(Ne,.5*J),this.lines([[Y-2*oe,0],[oe*$e,0,oe,Ne-Ne*$e,oe,Ne],[0,J-2*Ne],[0,Ne*$e,-oe*$e,Ne,-oe,Ne],[2*oe-Y,0],[-oe*$e,0,-oe,-Ne*$e,-oe,-Ne],[0,2*Ne-J],[0,-Ne*$e,oe*$e,-Ne,oe,-Ne]],m+oe,A,[1,1],Ce,!0),this},p.__private__.ellipse=p.ellipse=function(m,A,Y,J,oe){if(isNaN(m)||isNaN(A)||isNaN(Y)||isNaN(J)||!Ui(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*Y,Ce=4/3*(Math.SQRT2-1)*J;return Pl(m+Y,A),bi(m+Y,A-Ce,m+Ne,A-J,m,A-J),bi(m-Ne,A-J,m-Y,A-Ce,m-Y,A),bi(m-Y,A+Ce,m-Ne,A+J,m,A+J),bi(m+Ne,A+J,m+Y,A+Ce,m+Y,A),Ea(oe),this},p.__private__.circle=p.circle=function(m,A,Y,J){if(isNaN(m)||isNaN(A)||isNaN(Y)||!Ui(J))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,A,Y,Y,J)},p.setFont=function(m,A,Y){return Y&&(A=K(A,Y)),Ge=bu(m,A,{disableWarning:!1}),this};var th=p.__private__.getFont=p.getFont=function(){return wt[bu.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,A,Y={};for(m in Nt)if(Nt.hasOwnProperty(m))for(A in Y[m]=[],Nt[m])Nt[m].hasOwnProperty(A)&&Y[m].push(A);return Y},p.addFont=function(m,A,Y,J,oe){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(Y=K(Y,J)),gu.call(this,m,A,Y,oe=oe||"Identity-H")};var Pa,Fl=e.lineWidth||.200025,nh=p.__private__.getLineWidth=p.getLineWidth=function(){return Fl},pt=p.__private__.setLineWidth=p.setLineWidth=function(m){return Fl=m,z(T(Z(m))+" w"),this};p.__private__.setLineDash=rt.API.setLineDash=rt.API.setLineDashPattern=function(m,A){if(m=m||[],A=A||0,isNaN(A)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(Y){return T(Z(Y))}).join(" "),A=T(Z(A)),z("["+m+"] "+A+" d"),this};var rh=p.__private__.getLineHeight=p.getLineHeight=function(){return Le*Pa};p.__private__.getLineHeight=p.getLineHeight=function(){return Le*Pa};var ih=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Pa=m),this},sh=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Pa};ih(e.lineHeight);var is=p.__private__.getHorizontalCoordinate=function(m){return Z(m)},ss=p.__private__.getVerticalCoordinate=function(m){return k===w?m:ie[q].mediaBox.topRightY-ie[q].mediaBox.bottomLeftY-Z(m)},ah=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return T(is(m))},oh=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return T(ss(m))},bo=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return hn(bo)},p.__private__.setStrokeColor=p.setDrawColor=function(m,A,Y,J){return bo=ar({ch1:m,ch2:A,ch3:Y,ch4:J,pdfColorType:"draw",precision:2}),z(bo),this};var Tl=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return hn(Tl)},p.__private__.setFillColor=p.setFillColor=function(m,A,Y,J){return Tl=ar({ch1:m,ch2:A,ch3:Y,ch4:J,pdfColorType:"fill",precision:2}),z(Tl),this};var Fa=e.textColor||"0 g",lh=p.__private__.getTextColor=p.getTextColor=function(){return hn(Fa)};p.__private__.setTextColor=p.setTextColor=function(m,A,Y,J){return Fa=ar({ch1:m,ch2:A,ch3:Y,ch4:J,pdfColorType:"text",precision:3}),this};var as=e.charSpace,ch=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(as||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return as=m,this};var Dl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var A=p.CapJoinStyles[m];if(A===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dl=A,z(A+" J"),this};var Rl=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var A=p.CapJoinStyles[m];if(A===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rl=A,z(A+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return z(T(Z(m))+" M"),this},p.GState=_f,p.setGState=function(m){(m=typeof m=="string"?st[dt[m]]:Au(null,m)).equals(Kt)||(z("/"+m.id+" gs"),Kt=m)};var Au=function(m,A){if(!m||!dt[m]){var Y=!1;for(var J in st)if(st.hasOwnProperty(J)&&st[J].equals(A)){Y=!0;break}if(Y)A=st[J];else{var oe="GS"+(Object.keys(st).length+1).toString(10);st[oe]=A,A.id=oe}return m&&(dt[m]=A.id),ye.publish("addGState",A),A}};p.addGState=function(m,A){return Au(m,A),this},p.saveGraphicsState=function(){return z("q"),en.push({key:Ge,size:Le,color:Fa}),this},p.restoreGraphicsState=function(){z("Q");var m=en.pop();return Ge=m.key,Le=m.size,Fa=m.color,Kt=null,this},p.setCurrentTransformationMatrix=function(m){return z(m.toString()+" cm"),this},p.comment=function(m){return z("#"+m),this};var os=function(m,A){var Y=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(Ne){isNaN(Ne)||(Y=parseFloat(Ne))}});var J=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return J},set:function(Ne){isNaN(Ne)||(J=parseFloat(Ne))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(Ne){oe=Ne.toString()}}),this},Il=function(m,A,Y,J){os.call(this,m,A),this.type="rect";var oe=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ce){isNaN(Ce)||(oe=parseFloat(Ce))}});var Ne=J||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Ce){isNaN(Ce)||(Ne=parseFloat(Ce))}}),this},wo=function(){this.page=_t,this.currentPage=q,this.pages=Se.slice(0),this.pagesContext=ie.slice(0),this.x=Qe,this.y=dn,this.matrix=Ft,this.width=Ol(q),this.height=Cu(q),this.outputDestination=Te,this.id="",this.objectNumber=-1};wo.prototype.restore=function(){_t=this.page,q=this.currentPage,ie=this.pagesContext,Se=this.pages,Qe=this.x,dn=this.y,Ft=this.matrix,Lu(q,this.width),ls(q,this.height),Te=this.outputDestination};var Ml=function(m,A,Y,J,oe){Re.push(new wo),_t=q=0,Se=[],Qe=m,dn=A,Ft=oe,Cl([Y,J])};for(var Ta in p.beginFormObject=function(m,A,Y,J,oe){return Ml(m,A,Y,J,oe),this},p.endFormObject=function(m){return function(A){if(Ut[A])Re.pop().restore();else{var Y=new wo,J="Xo"+(Object.keys(lt).length+1).toString(10);Y.id=J,Ut[A]=J,lt[J]=Y,ye.publish("addFormObject",Y),Re.pop().restore()}}(m),this},p.doFormObject=function(m,A){var Y=lt[Ut[m]];return z("q"),z(A.toString()+" cm"),z("/"+Y.id+" Do"),z("Q"),this},p.getFormObject=function(m){var A=lt[Ut[m]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},p.save=function(m,A){return m=m||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(Ga(vo(Bi()),m),typeof Ga.unload=="function"&&ut.setTimeout&&setTimeout(Ga.unload,911),this):new Promise(function(Y,J){try{var oe=Ga(vo(Bi()),m);typeof Ga.unload=="function"&&ut.setTimeout&&setTimeout(Ga.unload,911),Y(oe)}catch(Ne){J(Ne.message)}})},rt.API)rt.API.hasOwnProperty(Ta)&&(Ta==="events"&&rt.API.events.length?function(m,A){var Y,J,oe;for(oe=A.length-1;oe!==-1;oe--)Y=A[oe][0],J=A[oe][1],m.subscribe.apply(m,[Y].concat(typeof J=="function"?[J]:J))}(ye,rt.API.events):p[Ta]=rt.API[Ta]);function Ol(m){return ie[m].mediaBox.topRightX-ie[m].mediaBox.bottomLeftX}function Lu(m,A){ie[m].mediaBox.topRightX=A+ie[m].mediaBox.bottomLeftX}function Cu(m){return ie[m].mediaBox.topRightY-ie[m].mediaBox.bottomLeftY}function ls(m,A){ie[m].mediaBox.topRightY=A+ie[m].mediaBox.bottomLeftY}var cs=p.getPageWidth=function(m){return Ol(m=m||q)/mt},Eu=p.setPageWidth=function(m,A){Lu(m,A*mt)},Da=p.getPageHeight=function(m){return Cu(m=m||q)/mt},Pu=p.setPageHeight=function(m,A){ls(m,A*mt)};return p.internal={pdfEscape:ai,getStyle:ju,getFont:th,getFontSize:Me,getCharSpace:ch,getTextColor:lh,getLineHeight:rh,getLineHeightFactor:sh,getLineWidth:nh,write:Pe,getHorizontalCoordinate:is,getVerticalCoordinate:ss,getCoordinateString:ah,getVerticalCoordinateString:oh,collections:{},newObject:zt,newAdditionalObject:ii,newObjectDeferred:fn,newObjectDeferredBegin:Nn,getFilters:Zt,putStream:jn,events:ye,scaleFactor:mt,pageSize:{getWidth:function(){return cs(q)},setWidth:function(m){Eu(q,m)},getHeight:function(){return Da(q)},setHeight:function(m){Pu(q,m)}},encryptionOptions:h,encryption:Mn,getEncryptor:function(m){return h!==null?Mn.encryptor(m,0):function(A){return A}},output:Nu,getNumberOfPages:yu,get pages(){return Se},out:z,f2:E,f3:R,getPageInfo:rs,getPageInfoByObjId:_u,getCurrentPageInfo:Kf,getPDFVersion:C,Point:os,Rectangle:Il,Matrix:Oe,hasHotfix:oi},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return cs(q)},set:function(m){Eu(q,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Da(q)},set:function(m){Pu(q,m)},enumerable:!0,configurable:!0}),(function(m){for(var A=0,Y=Ve.length;A<Y;A++){var J=gu.call(this,m[A][0],m[A][1],m[A][2],Ve[A][3],!0);b===!1&&(y[J]=!0);var oe=m[A][0].split("-");Ca({id:J,fontName:oe[0],fontStyle:oe[1]||""})}ye.publish("addFonts",{fonts:wt,dictionary:Nt})}).call(p,Ve),Ge="F1",xu(i,n),ye.publish("initialized"),p}To.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},To.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},To.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},To.prototype.processOwnerPassword=function(e,t){return Hp(qp(t).substr(0,5),e)},To.prototype.encryptor=function(e,t){var n=qp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Hp(n,r)}},_f.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Vt(e)!==Vt(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},rt.API={events:[]},rt.version="4.0.0";var bn=rt.API,t1=1,go=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Po=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gt=function(e){return e.toFixed(2)},ea=function(e){return e.toFixed(5)};bn.__acroform__={};var zr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},xx=function(e){return e*t1},Gi=function(e){var t=new Sb,n=He.internal.getHeight(e)||0,r=He.internal.getWidth(e)||0;return t.BBox=[0,0,Number(gt(r)),Number(gt(n))],t},uk=bn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},dk=bn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},fk=bn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},En=bn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fk(e,t-1)},Pn=bn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uk(e,t-1)},Fn=bn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dk(e,t-1)},hk=bn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+l)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(s)||0,[Number(gt(c.lowerLeft_X)),Number(gt(c.lowerLeft_Y)),Number(gt(c.upperRight_X)),Number(gt(c.upperRight_Y))]},pk=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=$p(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+gt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Gi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},$p=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=He.internal.getHeight(e)||0;o=o<0?-o:o;var l=He.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(E,R,Z){if(E+1<i.length){var G=R+" "+i[E+1][0];return jd(G,e,Z).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var d,h,b=jd("3",e,s).height,y=e.multiline?o-s:(o-b)/2,p=y+=2,S=0,C=0,I=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+jd(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var g="",v=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var k=!1;if(i[w].length!==1&&I!==i[w].length-1){if((b+2)*(v+2)+2>o)continue e;g+=i[w][I],k=!0,C=w,w--}else{g=(g+=i[w][I]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var H=parseInt(w),M=c(H,g,s),K=w>=i.length-1;if(M&&!K){g+=" ",I=0;continue}if(M||K){if(K)C=H;else if(e.multiline&&(b+2)*(v+2)+2>o)continue e}else{if(!e.multiline||(b+2)*(v+2)+2>o)continue e;C=H}}for(var T="",_=S;_<=C;_++){var j=i[_];if(e.multiline){if(_===C){T+=j[I]+" ",I=(I+1)%j.length;continue}if(_===S){T+=j[j.length-1]+" ";continue}}T+=j[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,h=jd(T,e,s).width,e.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;default:d=2}t+=gt(d)+" "+gt(p)+` Td
`,t+="("+go(T)+`) Tj
`,t+=-gt(d)+` 0 Td
`,p=-(s+2),h=0,S=k?C:C+1,v++,g=""}break}return r.text=t,r.fontSize=s,r},jd=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},mk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gk=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},xk=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ii.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(mk)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");t1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new kb,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&gk(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=hk(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=He.createDefaultAppearanceStream(l),Vt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=pk(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var b="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var p=l.appearanceStreamContent[y];if(b+="/"+y+" ",b+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var S=p[o];typeof S=="function"&&(S=S.call(i,l)),b+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=p)=="function"&&(S=S.call(i,l)),b+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);b+=">>"}c.push({key:"AP",value:`<<
`+b+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&function(C,I){for(var g in C)if(C.hasOwnProperty(g)){var v=g,w=C[g];I.internal.newObjectDeferredBegin(w.objId,!0),Vt(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete C[v]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},jb=bn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Vt(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+go(r(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},j0=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+go(r(e))+")"},Xi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xi.prototype.toString=function(){return this.objId+" 0 R"},Xi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Xi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:jb(i,this.objId,this.scope)}):i instanceof Xi?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var Sb=function(){Xi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};zr(Sb,Xi);var kb=function(){Xi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+go(n(e))+")"}},set:function(n){e=n}})};zr(kb,Xi);var Ii=function e(){Xi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!En(t,3)},set:function(g){g?this.F=Pn(t,3):this.F=Fn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof jf)return;s="FieldObject"+e.FieldNum++}var g=function(v){return v};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+go(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/t1:d},set:function(g){d=g}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(g){h=g}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof jf||this instanceof ro))return j0(b,this.objId,this.scope)},set:function(g){g=g.toString(),b=g}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Yn==0?j0(y,this.objId,this.scope):y},set:function(g){g=g.toString(),y=this instanceof Yn==0?g.substr(0,1)==="("?Po(g.substr(1,g.length-2)):Po(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yn==1?Po(y.substr(1,y.length-1)):y},set:function(g){g=g.toString(),y=this instanceof Yn==1?"/"+g:g}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Yn==0?j0(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof Yn==0?g.substr(0,1)==="("?Po(g.substr(1,g.length-2)):Po(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yn==1?Po(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Yn==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(g){g=!!g,C=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(g){S=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,1)},set:function(g){g?this.Ff=Pn(this.Ff,1):this.Ff=Fn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,2)},set:function(g){g?this.Ff=Pn(this.Ff,2):this.Ff=Fn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,3)},set:function(g){g?this.Ff=Pn(this.Ff,3):this.Ff=Fn(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');I=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(I){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};zr(Ii,Xi);var il=function(){Ii.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jb(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,l){l||(l=1);for(var c,d=[];c=o.exec(s);)d.push(c[l]);return d}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,18)},set:function(n){n?this.Ff=Pn(this.Ff,18):this.Ff=Fn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Pn(this.Ff,19):this.Ff=Fn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,20)},set:function(n){n?(this.Ff=Pn(this.Ff,20),t.sort()):this.Ff=Fn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,22)},set:function(n){n?this.Ff=Pn(this.Ff,22):this.Ff=Fn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,23)},set:function(n){n?this.Ff=Pn(this.Ff,23):this.Ff=Fn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,27)},set:function(n){n?this.Ff=Pn(this.Ff,27):this.Ff=Fn(this.Ff,27)}}),this.hasAppearanceStream=!1};zr(il,Ii);var sl=function(){il.call(this),this.fontName="helvetica",this.combo=!1};zr(sl,il);var al=function(){sl.call(this),this.combo=!0};zr(al,sl);var qd=function(){al.call(this),this.edit=!0};zr(qd,al);var Yn=function(){Ii.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,15)},set:function(n){n?this.Ff=Pn(this.Ff,15):this.Ff=Fn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,16)},set:function(n){n?this.Ff=Pn(this.Ff,16):this.Ff=Fn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,17)},set:function(n){n?this.Ff=Pn(this.Ff,17):this.Ff=Fn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,26)},set:function(n){n?this.Ff=Pn(this.Ff,26):this.Ff=Fn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+go(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Vt(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};zr(Yn,Ii);var Hd=function(){Yn.call(this),this.pushButton=!0};zr(Hd,Yn);var ol=function(){Yn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};zr(ol,Yn);var jf=function(){var e,t;Ii.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+go(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Vt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zr(jf,Ii),ol.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ol.prototype.createOption=function(e){var t=new jf;return t.Parent=this,t.optionName=e,this.Kids.push(t),vk.call(this.scope,t),t};var $d=function(){Yn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};zr($d,Yn);var ro=function(){Ii.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,13)},set:function(t){t?this.Ff=Pn(this.Ff,13):this.Ff=Fn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,21)},set:function(t){t?this.Ff=Pn(this.Ff,21):this.Ff=Fn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,23)},set:function(t){t?this.Ff=Pn(this.Ff,23):this.Ff=Fn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,24)},set:function(t){t?this.Ff=Pn(this.Ff,24):this.Ff=Fn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,25)},set:function(t){t?this.Ff=Pn(this.Ff,25):this.Ff=Fn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,26)},set:function(t){t?this.Ff=Pn(this.Ff,26):this.Ff=Fn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zr(ro,Ii);var Wd=function(){ro.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,14)},set:function(e){e?this.Ff=Pn(this.Ff,14):this.Ff=Fn(this.Ff,14)}}),this.password=!0};zr(Wd,ro);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Gi(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=$p(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+gt(He.internal.getWidth(e))+" "+gt(He.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+gt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Gi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=He.internal.getHeight(e),o=He.internal.getWidth(e),l=$p(e,e.caption);return i.push("1 g"),i.push("0 0 "+gt(o)+" "+gt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+gt(o-1)+" "+gt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+gt(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Gi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(He.internal.getWidth(e))+" "+gt(He.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=He.RadioButton.Circle.YesNormal,t.D[e]=He.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Gi(e);t.scope=e.scope;var n=[],r=He.internal.getWidth(e)<=He.internal.getHeight(e)?He.internal.getWidth(e)/4:He.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=He.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ea(He.internal.getWidth(e)/2)+" "+ea(He.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Gi(e);t.scope=e.scope;var n=[],r=He.internal.getWidth(e)<=He.internal.getHeight(e)?He.internal.getWidth(e)/4:He.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5)),o=Number((r*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ea(He.internal.getWidth(e)/2)+" "+ea(He.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ea(He.internal.getWidth(e)/2)+" "+ea(He.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Gi(e);t.scope=e.scope;var n=[],r=He.internal.getWidth(e)<=He.internal.getHeight(e)?He.internal.getWidth(e)/4:He.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ea(He.internal.getWidth(e)/2)+" "+ea(He.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=He.RadioButton.Cross.YesNormal,t.D[e]=He.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Gi(e);t.scope=e.scope;var n=[],r=He.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+gt(He.internal.getWidth(e)-2)+" "+gt(He.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(gt(r.x1.x)+" "+gt(r.x1.y)+" m"),n.push(gt(r.x2.x)+" "+gt(r.x2.y)+" l"),n.push(gt(r.x4.x)+" "+gt(r.x4.y)+" m"),n.push(gt(r.x3.x)+" "+gt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Gi(e);t.scope=e.scope;var n=He.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+gt(He.internal.getWidth(e))+" "+gt(He.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+gt(He.internal.getWidth(e)-2)+" "+gt(He.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(gt(n.x1.x)+" "+gt(n.x1.y)+" m"),r.push(gt(n.x2.x)+" "+gt(n.x2.y)+" l"),r.push(gt(n.x4.x)+" "+gt(n.x4.y)+" m"),r.push(gt(n.x3.x)+" "+gt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Gi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(He.internal.getWidth(e))+" "+gt(He.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};He.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=He.internal.getWidth(e),n=He.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},He.internal.getWidth=function(e){var t=0;return Vt(e)==="object"&&(t=xx(e.Rect[2])),t},He.internal.getHeight=function(e){var t=0;return Vt(e)==="object"&&(t=xx(e.Rect[3])),t};var vk=bn.addField=function(e){if(xk(this,e),!(e instanceof Ii))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};bn.AcroFormChoiceField=il,bn.AcroFormListBox=sl,bn.AcroFormComboBox=al,bn.AcroFormEditBox=qd,bn.AcroFormButton=Yn,bn.AcroFormPushButton=Hd,bn.AcroFormRadioButton=ol,bn.AcroFormCheckBox=$d,bn.AcroFormTextField=ro,bn.AcroFormPasswordField=Wd,bn.AcroFormAppearance=He,bn.AcroForm={ChoiceField:il,ListBox:sl,ComboBox:al,EditBox:qd,Button:Yn,PushButton:Hd,RadioButton:ol,CheckBox:$d,TextField:ro,PasswordField:Wd,Appearance:He},rt.AcroForm={ChoiceField:il,ListBox:sl,ComboBox:al,EditBox:qd,Button:Yn,PushButton:Hd,RadioButton:ol,CheckBox:$d,TextField:ro,PasswordField:Wd,Appearance:He};function Ab(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(E,R){var Z,G,se,le,ae,U=n;if((R=R||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(M(E))for(ae in r)for(se=r[ae],Z=0;Z<se.length;Z+=1){for(le=!0,G=0;G<se[Z].length;G+=1)if(se[Z][G]!==void 0&&se[Z][G]!==E[G]){le=!1;break}if(le===!0){U=ae;break}}else for(ae in r)for(se=r[ae],Z=0;Z<se.length;Z+=1){for(le=!0,G=0;G<se[Z].length;G+=1)if(se[Z][G]!==void 0&&se[Z][G]!==E.charCodeAt(G)){le=!1;break}if(le===!0){U=ae;break}}return U===n&&R!==n&&(U=R),U},s=function E(R){for(var Z=this.internal.write,G=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:R.width}),le.push({key:"Height",value:R.height}),R.colorSpace===g.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===g.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var ae="",U=0,te=R.transparency.length;U<te;U++)ae+=R.transparency[U]+" "+R.transparency[U]+" ";le.push({key:"Mask",value:"["+ae+"]"})}R.sMask!==void 0&&le.push({key:"SMask",value:R.objectId+1+" 0 R"});var ue=R.filter!==void 0?["/"+R.filter]:void 0;if(G({data:R.data,additionalKeyValues:le,alreadyAppliedFilters:ue,objectId:R.objectId}),Z("endobj"),"sMask"in R&&R.sMask!==void 0){var me,P=(me=R.sMaskBitsPerComponent)!==null&&me!==void 0?me:R.bitsPerComponent,q={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:R.sMask};"filter"in R&&(q.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(R.width),q.filter=R.filter),E.call(this,q)}if(R.colorSpace===g.INDEXED){var $=this.internal.newObject();G({data:T(new Uint8Array(R.palette)),objectId:$}),Z("endobj")}},o=function(){var E=this.internal.collections[t+"images"];for(var R in E)s.call(this,E[R])},l=function(){var E,R=this.internal.collections[t+"images"],Z=this.internal.write;for(var G in R)Z("/I"+(E=R[G]).index,E.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var E=this.internal.collections[t+"images"];return c.call(this),E},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},b=function(E){return typeof e["process"+E.toUpperCase()]=="function"},y=function(E){return Vt(E)==="object"&&E.nodeType===1},p=function(E,R){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var Z=""+E.getAttribute("src");if(Z.indexOf("data:image/")===0)return Ud(unescape(Z).split("base64,").pop());var G=e.loadFile(Z,!0);if(G!==void 0)return G}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var se;switch(R){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;default:se="image/jpeg"}return Ud(E.toDataURL(se,1).split("base64,").pop())}},S=function(E){var R=this.internal.collections[t+"images"];if(R){for(var Z in R)if(E===R[Z].alias)return R[Z]}},C=function(E,R,Z){return E||R||(E=-96,R=-96),E<0&&(E=-1*Z.width*72/E/this.internal.scaleFactor),R<0&&(R=-1*Z.height*72/R/this.internal.scaleFactor),E===0&&(E=R*Z.width/Z.height),R===0&&(R=E*Z.height/Z.width),[E,R]},I=function(E,R,Z,G,se,le){var ae=C.call(this,Z,G,se),U=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,ue=d.call(this);if(Z=ae[0],G=ae[1],ue[se.index]=se,le){le*=Math.PI/180;var me=Math.cos(le),P=Math.sin(le),q=function(X){return X.toFixed(4)},$=[q(me),q(P),q(-1*P),q(me),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,U(E),te(R+G),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([U(Z),"0","0",U(G),"0","0","cm"].join(" "))):this.internal.write([U(Z),"0","0",U(G),U(E),te(R+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var R,Z,G=0;if(typeof E=="string")for(Z=E.length,R=0;R<Z;R++)G=(G<<5)-G+E.charCodeAt(R),G|=0;else if(M(E))for(Z=E.byteLength/2,R=0;R<Z;R++)G=(G<<5)-G+E[R],G|=0;return G},k=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var R=!0;return E.length===0&&(R=!1),E.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(R=!1),R},H=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var R=E.indexOf(",");return R<0?null:E.substring(0,R).trim().endsWith("base64")?E.substring(R+1):null};e.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},K=e.__addimage__.binaryStringToUint8Array=function(E){for(var R=E.length,Z=new Uint8Array(R),G=0;G<R;G++)Z[G]=E.charCodeAt(G);return Z},T=e.__addimage__.arrayBufferToBinaryString=function(E){for(var R="",Z=M(E)?E:new Uint8Array(E),G=0;G<Z.length;G+=8192)R+=String.fromCharCode.apply(null,Z.subarray(G,G+8192));return R};e.addImage=function(){var E,R,Z,G,se,le,ae,U,te;if(typeof arguments[1]=="number"?(R=n,Z=arguments[1],G=arguments[2],se=arguments[3],le=arguments[4],ae=arguments[5],U=arguments[6],te=arguments[7]):(R=arguments[1],Z=arguments[2],G=arguments[3],se=arguments[4],le=arguments[5],ae=arguments[6],U=arguments[7],te=arguments[8]),Vt(E=arguments[0])==="object"&&!y(E)&&"imageData"in E){var ue=E;E=ue.imageData,R=ue.format||R||n,Z=ue.x||Z||0,G=ue.y||G||0,se=ue.w||ue.width||se,le=ue.h||ue.height||le,ae=ue.alias||ae,U=ue.compression||U,te=ue.rotation||ue.angle||te}var me=this.internal.getFilters();if(U===void 0&&me.indexOf("FlateEncode")!==-1&&(U="SLOW"),isNaN(Z)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var P=_.call(this,E,R,ae,U);return I.call(this,Z,G,se,le,P,te),this};var _=function(E,R,Z,G){var se,le,ae;if(typeof E=="string"&&i(E)===n){E=unescape(E);var U=j(E,!1);(U!==""||(U=e.loadFile(E,!0))!==void 0)&&(E=U)}if(y(E)&&(E=p(E,R)),R=i(E,R),!b(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((ae=Z)==null||ae.length===0)&&(Z=function(te){return typeof te=="string"||M(te)?w(te):M(te.data)?w(te.data):null}(E)),(se=S.call(this,Z))||(E instanceof Uint8Array||R==="RGBA"||(le=E,E=K(E)),se=this["process"+R.toUpperCase()](E,h.call(this),Z,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:v.NONE}(G),le)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},j=e.__addimage__.convertBase64ToBinaryString=function(E,R){R=typeof R!="boolean"||R;var Z,G="";if(typeof E=="string"){var se;Z=(se=H(E))!==null&&se!==void 0?se:E;try{G=Ud(Z)}catch(le){if(R)throw k(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(E){var R,Z,G="";if(y(E)&&(E=p(E)),typeof E=="string"&&i(E)===n&&((G=j(E,!1))===""&&(G=e.loadFile(E)||""),E=G),Z=i(E),!b(Z))throw new Error("addImage does not support files of type '"+Z+"', please ensure that a plugin for '"+Z+"' support is added.");if(E instanceof Uint8Array||(E=K(E)),!(R=this["process"+Z.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=Z,R}})(rt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};rt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,h=!1,b=0;b<d.length&&!h;b++)switch((r=d[b]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){r=d[y];var p=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(C.objId),v=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+p(g(r.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(g(v))+") >>",C.content=s;var w=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+w,r.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(C.objId,"0 R",I.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var H=this.annotations._nameMap[r.options.name];r.options.pageNumber=H.page,r.options.top=H.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var M=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+M+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:d(r),w:c(n+i),h:d(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,l,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var h=this.splitTextToSize(n,l).length;o=Math.ceil(d*h)}else l=c,o=d;return this.text(n,r,i,s),i+=.2*d,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-d,l,o,s),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(C){return t[C.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},l=e.__arabicParser__.isArabicEndLetter=function(C){return o(C)&&s(C)&&t[C.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(C){return o(C)&&i.indexOf(C.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return o(C)&&s(C)&&t[C.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(C){return o(C)&&s(C)&&t[C.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(C){return o(C)&&s(C)&&t[C.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(C){return o(C)&&s(C)&&t[C.charCodeAt(0)].length==4},b=e.__arabicParser__.resolveLigatures=function(C){var I=0,g=n,v="",w=0;for(I=0;I<C.length;I+=1)g[C.charCodeAt(I)]!==void 0?(w++,typeof(g=g[C.charCodeAt(I)])=="number"&&(v+=String.fromCharCode(g),g=n,w=0),I===C.length-1&&(g=n,v+=C.charAt(I-(w-1)),I-=w-1,w=0)):(g=n,v+=C.charAt(I-w),I-=w,w=0);return v};e.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&r[C.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(C,I,g){return o(C)?s(C)===!1?-1:!d(C)||!o(I)&&!o(g)||!o(g)&&l(I)||l(C)&&!o(I)||l(C)&&c(I)||l(C)&&l(I)?0:h(C)&&o(I)&&!l(I)&&o(g)&&d(g)?3:l(C)||!o(g)?1:2:-1},p=function(C){var I=0,g=0,v=0,w="",k="",H="",M=(C=C||"").split("\\s+"),K=[];for(I=0;I<M.length;I+=1){for(K.push(""),g=0;g<M[I].length;g+=1)w=M[I][g],k=M[I][g-1],H=M[I][g+1],o(w)?(v=y(w,k,H),K[I]+=v!==-1?String.fromCharCode(t[w.charCodeAt(0)][v]):w):K[I]+=w;K[I]=b(K[I])}return K.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var C,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(I)){var v=0;for(g=[],v=0;v<I.length;v+=1)Array.isArray(I[v])?g.push([p(I[v][0]),I[v][1],I[v][2]]):g.push([p(I[v])]);C=g}else C=p(I);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};e.events.push(["preProcessText",S])}(rt.API),rt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(C){c=C}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(C){y=C}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(C){p=C}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(C){S=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),b=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,p=0,S=0,C=0,I=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=d.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,k){return w.concat(I.splitTextToSize(k,g))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)p<(C=this.getStringUnitWidth(c[v],{font:b})*h)&&(p=C);return p!==0&&(S=c.length),{w:p/=y,h:Math.max((S*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,b=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=b.top,p&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,h,b,y){if(r.call(this),!h)throw new Error("No data for PDF table.");var p,S,C,I,g=[],v=[],w=[],k={},H={},M=[],K=[],T=(y=y||{}).autoSize||!1,_=y.printHeaders!==!1,j=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,E=y.margins||Object.assign({width:this.getPageWidth()},t),R=typeof y.padding=="number"?y.padding:3,Z=y.headerBackgroundColor||"#c8c8c8",G=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=Z,this.internal.__cell__.headerTextColor=G,this.setFontSize(j),b==null)v=g=Object.keys(h[0]),w=g.map(function(){return"left"});else if(Array.isArray(b)&&Vt(b[0])==="object")for(g=b.map(function(ue){return ue.name}),v=b.map(function(ue){return ue.prompt||ue.name||""}),w=b.map(function(ue){return ue.align||"left"}),p=0;p<b.length;p+=1)H[b[p].name]=.7499990551181103*b[p].width;else Array.isArray(b)&&typeof b[0]=="string"&&(v=g=b,w=g.map(function(){return"left"}));if(T||Array.isArray(b)&&typeof b[0]=="string")for(p=0;p<g.length;p+=1){for(k[I=g[p]]=h.map(function(ue){return ue[I]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(v[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=k[I],this.setFont(void 0,"normal"),C=0;C<S.length;C+=1)M.push(this.getTextDimensions(S[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[I]=Math.max.apply(null,M)+R+R,M=[]}if(_){var se={};for(p=0;p<g.length;p+=1)se[g[p]]={},se[g[p]].text=v[p],se[g[p]].align=w[p];var le=l.call(this,se,H);K=g.map(function(ue){return new s(c,d,H[ue],le,se[ue].text,void 0,se[ue].align)}),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var ae=b.reduce(function(ue,me){return ue[me.name]=me.align,ue},{});for(p=0;p<h.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:h[p]},this);var U=l.call(this,h[p],H);for(C=0;C<g.length;C+=1){var te=h[p][g[C]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:C,data:te},this),o.call(this,new s(c,d,H[g[C]],U,te,p+2,ae[g[C]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(p){var S=c[p];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,d[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*b/y+h+h},this).reduce(function(p,S){return Math.max(p,S)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,y.push(h)),h.lineNumber=c;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(S)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(rt.API);var Lb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Cb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Wp=Ab(Cb),Eb=[100,200,300,400,500,600,700,800,900],yk=Ab(Eb);function S0(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Lb[s=s||"normal"]?s:"normal"}(e.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof Wp[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function vx(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var bk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function bx(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function wx(e){return e.trimLeft()}function wk(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Nk(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Sd,Nx,_x,Fo,kd,jx,Sx,kx,k0=["times"];function Ax(e,t,n,r,i){var s=4,o=Cx;switch(i){case rt.API.image_compression.FAST:s=1,o=Lx;break;case rt.API.image_compression.MEDIUM:s=6,o=Ex;break;case rt.API.image_compression.SLOW:s=9,o=Px}e=function(c,d,h,b){for(var y,p=c.length/d,S=new Uint8Array(c.length+p),C=[_k,Lx,Cx,Ex,Px],I=0;I<p;I+=1){var g=I*d,v=c.subarray(g,g+d);if(b)S.set(b(v,h,y),g+I);else{for(var w=C.length,k=[],H=0;H<w;H+=1)k[H]=C[H](v,h,y);var M=Sk(k.concat());S.set(k[M],g+I)}y=v}return S}(e,t,Math.ceil(n*r/8),o);var l=Fp(e,{level:s});return rt.API.__addimage__.arrayBufferToBinaryString(l)}function _k(e){var t=Array.apply([],e);return t.unshift(0),t}function Lx(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=e[i-t]||0;r[i+1]=e[i]-s+256&255}return r}function Cx(e,t,n){var r=e.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=e[s]-o+256&255}return i}function Ex(e,t,n){var r=e.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=e[s-t]||0,l=n&&n[s]||0;i[s+1]=e[s]+256-(o+l>>>1)&255}return i}function Px(e,t,n){var r=e.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=jk(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);i[s+1]=e[s]-o+256&255}return i}function jk(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=i&&r<=s?e:i<=s?t:n}function Sk(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function A0(e,t,n){var r=t*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return Pb(e,i)>>s&o}function Fx(e,t,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),l=(1<<r)-1,c=(t&l)<<o;(function(d,h,b){if(h+1<d.byteLength)d.setUint16(h,b,!1);else{var y=b>>8&255;d.setUint8(h,y)}})(e,s,Pb(e,s)&~(l<<o)&65535|c)}function Pb(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function kk(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var d=!0,h=[],b=0,y=null,p=0,S=null;for(this.width=n,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var C=e[t++];b=e[t++]|e[t++]<<8,y=e[t++],1&C||(y=null),p=C>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var I=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,k=e[t++],H=k>>6&1,M=1<<1+(7&k),K=l,T=c,_=!1;k>>7&&(_=!0,K=t,T=M,t+=3*M);var j=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}h.push({x:I,y:g,width:v,height:w,has_local_palette:_,palette_offset:K,palette_size:T,data_offset:j,data_length:t-j,transparent_index:y,interlaced:!!H,delay:b,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return S},this.frameInfo=function(R){if(R<0||R>=h.length)throw new Error("Frame index out of range.");return h[R]},this.decodeAndBlitFrameBGRA=function(R,Z){var G=this.frameInfo(R),se=G.width*G.height,le=new Uint8Array(se);Tx(e,G.data_offset,le,se);var ae=G.palette_offset,U=G.transparent_index;U===null&&(U=256);var te=G.width,ue=n-te,me=te,P=4*(G.y*n+G.x),q=4*((G.y+G.height)*n+G.x),$=P,X=4*ue;G.interlaced===!0&&(X+=4*n*7);for(var Q=8,ne=0,xe=le.length;ne<xe;++ne){var ge=le[ne];if(me===0&&(me=te,($+=X)>=q&&(X=4*ue+4*n*(Q-1),$=P+(te+ue)*(Q<<1),Q>>=1)),ge===U)$+=4;else{var he=e[ae+3*ge],Se=e[ae+3*ge+1],ke=e[ae+3*ge+2];Z[$++]=ke,Z[$++]=Se,Z[$++]=he,Z[$++]=255}--me}},this.decodeAndBlitFrameRGBA=function(R,Z){var G=this.frameInfo(R),se=G.width*G.height,le=new Uint8Array(se);Tx(e,G.data_offset,le,se);var ae=G.palette_offset,U=G.transparent_index;U===null&&(U=256);var te=G.width,ue=n-te,me=te,P=4*(G.y*n+G.x),q=4*((G.y+G.height)*n+G.x),$=P,X=4*ue;G.interlaced===!0&&(X+=4*n*7);for(var Q=8,ne=0,xe=le.length;ne<xe;++ne){var ge=le[ne];if(me===0&&(me=te,($+=X)>=q&&(X=4*ue+4*n*(Q-1),$=P+(te+ue)*(Q<<1),Q>>=1)),ge===U)$+=4;else{var he=e[ae+3*ge],Se=e[ae+3*ge+1],ke=e[ae+3*ge+2];Z[$++]=he,Z[$++]=Se,Z[$++]=ke,Z[$++]=255}--me}}}function Tx(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,l=o+1,c=i+1,d=(1<<c)-1,h=0,b=0,y=0,p=e[t++],S=new Int32Array(4096),C=null;;){for(;h<16&&p!==0;)b|=e[t++]<<h,h+=8,p===1?p=e[t++]:--p;if(h<c)break;var I=b&d;if(b>>=c,h-=c,I!==s){if(I===o)break;for(var g=I<l?I:C,v=0,w=g;w>s;)w=S[w]>>8,++v;var k=w;if(y+v+(g!==I?1:0)>r)return void Qt.log("Warning, gif stream longer than expected.");n[y++]=k;var H=y+=v;for(g!==I&&(n[y++]=k),w=g;v--;)w=S[w],n[--H]=255&w,w>>=8;C!==null&&l<4096&&(S[l++]=C<<8|k,l>=d+1&&c<12&&(++c,d=d<<1|1)),C=I}else l=o+1,d=(1<<(c=i+1))-1,C=null}return y!==r&&Qt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function L0(e){var t,n,r,i,s,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),b=new Array(65535),y=new Array(65535),p=new Array(64),S=new Array(64),C=[],I=0,g=7,v=new Array(64),w=new Array(64),k=new Array(64),H=new Array(256),M=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(P,q){for(var $=0,X=0,Q=new Array,ne=1;ne<=16;ne++){for(var xe=1;xe<=P[ne];xe++)Q[q[X]]=[],Q[q[X]][0]=$,Q[q[X]][1]=ne,X++,$++;$*=2}return Q}function ae(P){for(var q=P[0],$=P[1]-1;$>=0;)q&1<<$&&(I|=1<<g),$--,--g<0&&(I==255?(U(255),U(0)):U(I),g=7,I=0)}function U(P){C.push(P)}function te(P){U(P>>8&255),U(255&P)}function ue(P,q,$,X,Q){for(var ne,xe=Q[0],ge=Q[240],he=function(Le,Ke){var Me,tt,Je,Pt,bt,ot,kt,Lt,Ge,mt,Qe=0;for(Ge=0;Ge<8;++Ge){Me=Le[Qe],tt=Le[Qe+1],Je=Le[Qe+2],Pt=Le[Qe+3],bt=Le[Qe+4],ot=Le[Qe+5],kt=Le[Qe+6];var dn=Me+(Lt=Le[Qe+7]),Ft=Me-Lt,wt=tt+kt,Nt=tt-kt,en=Je+ot,it=Je-ot,Yt=Pt+bt,st=Pt-bt,dt=dn+Yt,Kt=dn-Yt,_t=wt+en,ie=wt-en;Le[Qe]=dt+_t,Le[Qe+4]=dt-_t;var ye=.707106781*(ie+Kt);Le[Qe+2]=Kt+ye,Le[Qe+6]=Kt-ye;var ve=.382683433*((dt=st+it)-(ie=Nt+Ft)),lt=.5411961*dt+ve,Ut=1.306562965*ie+ve,Re=.707106781*(_t=it+Nt),Oe=Ft+Re,pe=Ft-Re;Le[Qe+5]=pe+lt,Le[Qe+3]=pe-lt,Le[Qe+1]=Oe+Ut,Le[Qe+7]=Oe-Ut,Qe+=8}for(Qe=0,Ge=0;Ge<8;++Ge){Me=Le[Qe],tt=Le[Qe+8],Je=Le[Qe+16],Pt=Le[Qe+24],bt=Le[Qe+32],ot=Le[Qe+40],kt=Le[Qe+48];var ct=Me+(Lt=Le[Qe+56]),Xe=Me-Lt,ht=tt+kt,zt=tt-kt,fn=Je+ot,Nn=Je-ot,ii=Pt+bt,at=Pt-bt,_n=ct+ii,hn=ct-ii,ar=ht+fn,Zt=ht-fn;Le[Qe]=_n+ar,Le[Qe+32]=_n-ar;var jn=.707106781*(Zt+hn);Le[Qe+16]=hn+jn,Le[Qe+48]=hn-jn;var or=.382683433*((_n=at+Nn)-(Zt=zt+Xe)),Cr=.5411961*_n+or,si=1.306562965*Zt+or,Et=.707106781*(ar=Nn+zt),Er=Xe+Et,lr=Xe-Et;Le[Qe+40]=lr+Cr,Le[Qe+24]=lr-Cr,Le[Qe+8]=Er+si,Le[Qe+56]=Er-si,Qe++}for(Ge=0;Ge<64;++Ge)mt=Le[Ge]*Ke[Ge],p[Ge]=mt>0?mt+.5|0:mt-.5|0;return p}(P,q),Se=0;Se<64;++Se)S[K[Se]]=he[Se];var ke=S[0]-$;$=S[0],ke==0?ae(X[0]):(ae(X[y[ne=32767+ke]]),ae(b[ne]));for(var Te=63;Te>0&&S[Te]==0;)Te--;if(Te==0)return ae(xe),$;for(var je,z=1;z<=Te;){for(var Pe=z;S[z]==0&&z<=Te;)++z;var We=z-Pe;if(We>=16){je=We>>4;for(var Ve=1;Ve<=je;++Ve)ae(ge);We&=15}ne=32767+S[z],ae(Q[(We<<4)+y[ne]]),ae(b[ne]),z++}return Te!=63&&ae(xe),$}function me(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(q){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var Q=o(($[X]*q+50)/100);Q=Math.min(Math.max(Q,1),255),l[K[X]]=Q}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ge=o((ne[xe]*q+50)/100);ge=Math.min(Math.max(ge,1),255),c[K[xe]]=ge}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,ke=0;ke<8;ke++)for(var Te=0;Te<8;Te++)d[Se]=1/(l[K[Se]]*he[ke]*he[Te]*8),h[Se]=1/(c[K[Se]]*he[ke]*he[Te]*8),Se++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,q){q&&me(q),C=new Array,I=0,g=7,te(65496),te(65504),te(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),te(1),te(1),U(0),U(0),function(){te(65499),te(132),U(0);for(var tt=0;tt<64;tt++)U(l[tt]);U(1);for(var Je=0;Je<64;Je++)U(c[Je])}(),function(tt,Je){te(65472),te(17),U(8),te(Je),te(tt),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}(P.width,P.height),function(){te(65476),te(418),U(0);for(var tt=0;tt<16;tt++)U(T[tt+1]);for(var Je=0;Je<=11;Je++)U(_[Je]);U(16);for(var Pt=0;Pt<16;Pt++)U(j[Pt+1]);for(var bt=0;bt<=161;bt++)U(E[bt]);U(1);for(var ot=0;ot<16;ot++)U(R[ot+1]);for(var kt=0;kt<=11;kt++)U(Z[kt]);U(17);for(var Lt=0;Lt<16;Lt++)U(G[Lt+1]);for(var Ge=0;Ge<=161;Ge++)U(se[Ge])}(),te(65498),te(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var $=0,X=0,Q=0;I=0,g=7,this.encode.displayName="_encode_";for(var ne,xe,ge,he,Se,ke,Te,je,z,Pe=P.data,We=P.width,Ve=P.height,Le=4*We,Ke=0;Ke<Ve;){for(ne=0;ne<Le;){for(Se=Le*Ke+ne,Te=-1,je=0,z=0;z<64;z++)ke=Se+(je=z>>3)*Le+(Te=4*(7&z)),Ke+je>=Ve&&(ke-=Le*(Ke+1+je-Ve)),ne+Te>=Le&&(ke-=ne+Te-Le+4),xe=Pe[ke++],ge=Pe[ke++],he=Pe[ke++],v[z]=(M[xe]+M[ge+256|0]+M[he+512|0]>>16)-128,w[z]=(M[xe+768|0]+M[ge+1024|0]+M[he+1280|0]>>16)-128,k[z]=(M[xe+1280|0]+M[ge+1536|0]+M[he+1792|0]>>16)-128;$=ue(v,d,$,t,r),X=ue(w,h,X,n,i),Q=ue(k,h,Q,n,i),ne+=32}Ke+=8}if(g>=0){var Me=[];Me[1]=g+1,Me[0]=(1<<g+1)-1,ae(Me)}return te(65497),new Uint8Array(C)},e=e||50,function(){for(var P=String.fromCharCode,q=0;q<256;q++)H[q]=P(q)}(),t=le(T,_),n=le(R,Z),r=le(j,E),i=le(G,se),function(){for(var P=1,q=2,$=1;$<=15;$++){for(var X=P;X<q;X++)y[32767+X]=$,b[32767+X]=[],b[32767+X][1]=$,b[32767+X][0]=X;for(var Q=-(q-1);Q<=-P;Q++)y[32767+Q]=$,b[32767+Q]=[],b[32767+Q][1]=$,b[32767+Q][0]=q-1+Q;P<<=1,q<<=1}}(),function(){for(var P=0;P<256;P++)M[P]=19595*P,M[P+256|0]=38470*P,M[P+512|0]=7471*P+32768,M[P+768|0]=-11059*P,M[P+1024|0]=-21709*P,M[P+1280|0]=32768*P+8421375,M[P+1536|0]=-27439*P,M[P+1792|0]=-5329*P}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ai(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Dx(e){function t(_){if(!_)throw Error("assert :P")}function n(_,j,E){for(var R=0;4>R;R++)if(_[j+R]!=E.charCodeAt(R))return!0;return!1}function r(_,j,E,R,Z){for(var G=0;G<Z;G++)_[j+G]=E[R+G]}function i(_,j,E,R){for(var Z=0;Z<R;Z++)_[j+Z]=E}function s(_){return new Int32Array(_)}function o(_,j){for(var E=[],R=0;R<_;R++)E.push(new j);return E}function l(_,j){var E=[];return function R(Z,G,se){for(var le=se[G],ae=0;ae<le&&(Z.push(se.length>G+1?[]:new j),!(se.length<G+1));ae++)R(Z[ae],G+1,se)}(E,0,_),E}var c=function(){var _=this;function j(u,f){for(var x=1<<f-1>>>0;u&x;)x>>>=1;return x?(u&x-1)+x:u}function E(u,f,x,N,L){t(!(N%x));do u[f+(N-=x)]=L;while(0<N)}function R(u,f,x,N,L){if(t(2328>=L),512>=L)var F=s(512);else if((F=s(L))==null)return 0;return function(D,O,B,W,ee,fe){var V,re,ce=O,be=1<<B,de=s(16),we=s(16);for(t(ee!=0),t(W!=null),t(D!=null),t(0<B),re=0;re<ee;++re){if(15<W[re])return 0;++de[W[re]]}if(de[0]==ee)return 0;for(we[1]=0,V=1;15>V;++V){if(de[V]>1<<V)return 0;we[V+1]=we[V]+de[V]}for(re=0;re<ee;++re)V=W[re],0<W[re]&&(fe[we[V]++]=re);if(we[15]==1)return(W=new Z).g=0,W.value=fe[0],E(D,ce,1,be,W),be;var _e,Fe=-1,Ee=be-1,nt=0,Be=1,jt=1,Ye=1<<B;for(re=0,V=1,ee=2;V<=B;++V,ee<<=1){if(Be+=jt<<=1,0>(jt-=de[V]))return 0;for(;0<de[V];--de[V])(W=new Z).g=V,W.value=fe[re++],E(D,ce+nt,ee,Ye,W),nt=j(nt,V)}for(V=B+1,ee=2;15>=V;++V,ee<<=1){if(Be+=jt<<=1,0>(jt-=de[V]))return 0;for(;0<de[V];--de[V]){if(W=new Z,(nt&Ee)!=Fe){for(ce+=Ye,_e=1<<(Fe=V)-B;15>Fe&&!(0>=(_e-=de[Fe]));)++Fe,_e<<=1;be+=Ye=1<<(_e=Fe-B),D[O+(Fe=nt&Ee)].g=_e+B,D[O+Fe].value=ce-O-Fe}W.g=V-B,W.value=fe[re++],E(D,ce+(nt>>B),ee,Ye,W),nt=j(nt,V)}}return Be!=2*we[15]-1?0:be}(u,f,x,N,L,F)}function Z(){this.value=this.g=0}function G(){this.value=this.g=0}function se(){this.G=o(5,Z),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ba,G)}function le(u,f,x,N){t(u!=null),t(f!=null),t(2147483648>N),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=x,u.Jd=f,u.Yc=x+N,u.Zc=4<=N?x+N-4+1:x,xe(u)}function ae(u,f){for(var x=0;0<f--;)x|=he(u,128)<<f;return x}function U(u,f){var x=ae(u,f);return ge(u)?-x:x}function te(u,f,x,N){var L,F=0;for(t(u!=null),t(f!=null),t(4294967288>N),u.Sb=N,u.Ra=0,u.u=0,u.h=0,4<N&&(N=4),L=0;L<N;++L)F+=f[x+L]<<8*L;u.Ra=F,u.bb=N,u.oa=f,u.pa=x}function ue(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<zs-8>>>0,++u.bb,u.u-=8;X(u)&&(u.h=1,u.u=0)}function me(u,f){if(t(0<=f),!u.h&&f<=Ur){var x=$(u)&Br[f];return u.u+=f,ue(u),x}return u.h=1,u.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(u){return u.Ra>>>(u.u&zs-1)>>>0}function X(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>zs}function Q(u,f){u.u=f,u.h=X(u)}function ne(u){u.u>=hs&&(t(u.u>=hs),ue(u))}function xe(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ge(u){return ae(u,1)}function he(u,f){var x=u.Ca;0>u.b&&xe(u);var N=u.b,L=x*f>>>8,F=(u.I>>>N>L)+0;for(F?(x-=L,u.I-=L+1<<N>>>0):x=L+1,N=x,L=0;256<=N;)L+=8,N>>=8;return N=7^L+Bs[N],u.b-=N,u.Ca=(x<<N)-1,F}function Se(u,f,x){u[f+0]=x>>24&255,u[f+1]=x>>16&255,u[f+2]=x>>8&255,u[f+3]=255&x}function ke(u,f){return u[f+0]|u[f+1]<<8}function Te(u,f){return ke(u,f)|u[f+2]<<16}function je(u,f){return ke(u,f)|ke(u,f+2)<<16}function z(u,f){var x=1<<f;return t(u!=null),t(0<f),u.X=s(x),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function Pe(u,f){t(u!=null),t(f!=null),t(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function We(){this.X=[],this.Xa=this.Mb=0}function Ve(u,f,x,N){t(x!=null),t(N!=null);var L=x[0],F=N[0];return L==0&&(L=(u*F+f/2)/f),F==0&&(F=(f*L+u/2)/u),0>=L||0>=F?0:(x[0]=L,N[0]=F,1)}function Le(u,f){return u+(1<<f)-1>>>f}function Ke(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function Me(u,f){_[f]=function(x,N,L,F,D,O,B){var W;for(W=0;W<D;++W){var ee=_[u](O[B+W-1],L,F+W);O[B+W]=Ke(x[N+W],ee)}}}function tt(){this.ud=this.hd=this.jd=0}function Je(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function Pt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function bt(u,f){return Pt(u+(u-f+.5>>1))}function ot(u,f,x){return Math.abs(f-x)-Math.abs(u-x)}function kt(u,f,x,N,L,F,D){for(N=F[D-1],x=0;x<L;++x)F[D+x]=N=Ke(u[f+x],N)}function Lt(u,f,x,N,L){var F;for(F=0;F<x;++F){var D=u[f+F],O=D>>8&255,B=16711935&(B=(B=16711935&D)+((O<<16)+O));N[L+F]=(4278255360&D)+B>>>0}}function Ge(u,f){f.jd=255&u,f.hd=u>>8&255,f.ud=u>>16&255}function mt(u,f,x,N,L,F){var D;for(D=0;D<N;++D){var O=f[x+D],B=O>>>8,W=O,ee=255&(ee=(ee=O>>>16)+((u.jd<<24>>24)*(B<<24>>24)>>>5));W=255&(W=(W+=(u.hd<<24>>24)*(B<<24>>24)>>>5)+((u.ud<<24>>24)*(ee<<24>>24)>>>5)),L[F+D]=(4278255360&O)+(ee<<16)+W}}function Qe(u,f,x,N,L){_[f]=function(F,D,O,B,W,ee,fe,V,re){for(B=fe;B<V;++B)for(fe=0;fe<re;++fe)W[ee++]=L(O[N(F[D++])])},_[u]=function(F,D,O,B,W,ee,fe){var V=8>>F.b,re=F.Ea,ce=F.K[0],be=F.w;if(8>V)for(F=(1<<F.b)-1,be=(1<<V)-1;D<O;++D){var de,we=0;for(de=0;de<re;++de)de&F||(we=N(B[W++])),ee[fe++]=L(ce[we&be]),we>>=V}else _["VP8LMapColor"+x](B,W,ce,be,ee,fe,D,O,re)}}function dn(u,f,x,N,L){for(x=f+x;f<x;){var F=u[f++];N[L++]=F>>16&255,N[L++]=F>>8&255,N[L++]=255&F}}function Ft(u,f,x,N,L){for(x=f+x;f<x;){var F=u[f++];N[L++]=F>>16&255,N[L++]=F>>8&255,N[L++]=255&F,N[L++]=F>>24&255}}function wt(u,f,x,N,L){for(x=f+x;f<x;){var F=(D=u[f++])>>16&240|D>>12&15,D=240&D|D>>28&15;N[L++]=F,N[L++]=D}}function Nt(u,f,x,N,L){for(x=f+x;f<x;){var F=(D=u[f++])>>16&248|D>>13&7,D=D>>5&224|D>>3&31;N[L++]=F,N[L++]=D}}function en(u,f,x,N,L){for(x=f+x;f<x;){var F=u[f++];N[L++]=255&F,N[L++]=F>>8&255,N[L++]=F>>16&255}}function it(u,f,x,N,L,F){if(F==0)for(x=f+x;f<x;)Se(N,((F=u[f++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),L+=32;else r(N,L,u,f,x)}function Yt(u,f){_[f][0]=_[u+"0"],_[f][1]=_[u+"1"],_[f][2]=_[u+"2"],_[f][3]=_[u+"3"],_[f][4]=_[u+"4"],_[f][5]=_[u+"5"],_[f][6]=_[u+"6"],_[f][7]=_[u+"7"],_[f][8]=_[u+"8"],_[f][9]=_[u+"9"],_[f][10]=_[u+"10"],_[f][11]=_[u+"11"],_[f][12]=_[u+"12"],_[f][13]=_[u+"13"],_[f][14]=_[u+"0"],_[f][15]=_[u+"0"]}function st(u){return u==fh||u==hh||u==Bu||u==ph}function dt(){this.eb=[],this.size=this.A=this.fb=0}function Kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new dt,this.f.kb=new Kt,this.sd=null}function ie(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ye(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ve(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function lt(u,f){var x=u.T,N=f.ba.f.RGBA,L=N.eb,F=N.fb+u.ka*N.A,D=di[f.ba.S],O=u.y,B=u.O,W=u.f,ee=u.N,fe=u.ea,V=u.W,re=f.cc,ce=f.dc,be=f.Mc,de=f.Nc,we=u.ka,_e=u.ka+u.T,Fe=u.U,Ee=Fe+1>>1;for(we==0?D(O,B,null,null,W,ee,fe,V,W,ee,fe,V,L,F,null,null,Fe):(D(f.ec,f.fc,O,B,re,ce,be,de,W,ee,fe,V,L,F-N.A,L,F,Fe),++x);we+2<_e;we+=2)re=W,ce=ee,be=fe,de=V,ee+=u.Rc,V+=u.Rc,F+=2*N.A,D(O,(B+=2*u.fa)-u.fa,O,B,re,ce,be,de,W,ee,fe,V,L,F-N.A,L,F,Fe);return B+=u.fa,u.j+_e<u.o?(r(f.ec,f.fc,O,B,Fe),r(f.cc,f.dc,W,ee,Ee),r(f.Mc,f.Nc,fe,V,Ee),x--):1&_e||D(O,B,null,null,W,ee,fe,V,W,ee,fe,V,L,F+N.A,null,null,Fe),x}function Ut(u,f,x){var N=u.F,L=[u.J];if(N!=null){var F=u.U,D=f.ba.S,O=D==zu||D==Bu;f=f.ba.f.RGBA;var B=[0],W=u.ka;B[0]=u.T,u.Kb&&(W==0?--B[0]:(--W,L[0]-=u.width),u.j+u.ka+u.T==u.o&&(B[0]=u.o-u.j-W));var ee=f.eb;W=f.fb+W*f.A,u=c1(N,L[0],u.width,F,B,ee,W+(O?0:3),f.A),t(x==B),u&&st(D)&&Kl(ee,W,O,F,B,f.A)}return 0}function Re(u){var f=u.ma,x=f.ba.S,N=11>x,L=x==Mu||x==Ou||x==zu||x==dh||x==12||st(x);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!ql(f.Oa,u,L?11:12))return 0;if(L&&st(x)&&zl(),u.da)alert("todo:use_scaling");else{if(N){if(f.Ib=ve,u.Kb){if(x=u.U+1>>1,f.memory=s(u.U+2*x),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+x,f.Ib=lt,zl()}}else alert("todo:EmitYUV");L&&(f.Jb=Ut,N&&wi())}if(N&&!k1){for(u=0;256>u;++u)uw[u]=89858*(u-128)+qu>>Uu,hw[u]=-22014*(u-128)+qu,fw[u]=-45773*(u-128),dw[u]=113618*(u-128)+qu>>Uu;for(u=Jl;u<xh;++u)f=76283*(u-16)+qu>>Uu,pw[u-Jl]=zi(f,255),mw[u-Jl]=zi(f+8>>4,15);k1=1}return 1}function Oe(u){var f=u.ma,x=u.U,N=u.T;return t(!(1&u.ka)),0>=x||0>=N?0:(x=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,x),f.Dc+=x,1)}function pe(u){u.ma.memory=null}function ct(u,f,x,N){return me(u,8)!=47?0:(f[0]=me(u,14)+1,x[0]=me(u,14)+1,N[0]=me(u,1),me(u,3)!=0?0:!u.h)}function Xe(u,f){if(4>u)return u+1;var x=u-2>>1;return(2+(1&u)<<x)+me(f,x)+1}function ht(u,f){return 120<f?f-120:1<=(x=((x=Kb[f-1])>>4)*u+(8-(15&x)))?x:1;var x}function zt(u,f,x){var N=$(x),L=u[f+=255&N].g-8;return 0<L&&(Q(x,x.u+8),N=$(x),f+=u[f].value,f+=N&(1<<L)-1),Q(x,x.u+u[f].g),u[f].value}function fn(u,f,x){return x.g+=u.g,x.value+=u.value<<f>>>0,t(8>=x.g),u.g}function Nn(u,f,x){var N=u.xc;return t((f=N==0?0:u.vc[u.md*(x>>N)+(f>>N)])<u.Wb),u.Ya[f]}function ii(u,f,x,N){var L=u.ab,F=u.c*f,D=u.C;f=D+f;var O=x,B=N;for(N=u.Ta,x=u.Ua;0<L--;){var W=u.gc[L],ee=D,fe=f,V=O,re=B,ce=(B=N,O=x,W.Ea);switch(t(ee<fe),t(fe<=W.nc),W.hc){case 2:Sn(V,re,(fe-ee)*ce,B,O);break;case 0:var be=ee,de=fe,we=B,_e=O,Fe=(Ye=W).Ea;be==0&&($l(V,re,null,null,1,we,_e),kt(V,re+1,0,0,Fe-1,we,_e+1),re+=Fe,_e+=Fe,++be);for(var Ee=1<<Ye.b,nt=Ee-1,Be=Le(Fe,Ye.b),jt=Ye.K,Ye=Ye.w+(be>>Ye.b)*Be;be<de;){var Tt=jt,Bn=Ye,St=1;for(jo(V,re,we,_e-Fe,1,we,_e);St<Fe;){var Ze=(St&~nt)+Ee;Ze>Fe&&(Ze=Fe),(0,Vl[Tt[Bn++]>>8&15])(V,re+ +St,we,_e+St-Fe,Ze-St,we,_e+St),St=Ze}re+=Fe,_e+=Fe,++be&nt||(Ye+=Be)}fe!=W.nc&&r(B,O-ce,B,O+(fe-ee-1)*ce,ce);break;case 1:for(ce=V,de=re,Fe=(V=W.Ea)-(_e=V&~(we=(re=1<<W.b)-1)),be=Le(V,W.b),Ee=W.K,W=W.w+(ee>>W.b)*be;ee<fe;){for(nt=Ee,Be=W,jt=new tt,Ye=de+_e,Tt=de+V;de<Ye;)Ge(nt[Be++],jt),Gl(jt,ce,de,re,B,O),de+=re,O+=re;de<Tt&&(Ge(nt[Be++],jt),Gl(jt,ce,de,Fe,B,O),de+=Fe,O+=Fe),++ee&we||(W+=be)}break;case 3:if(V==B&&re==O&&0<W.b){for(de=B,V=ce=O+(fe-ee)*ce-(_e=(fe-ee)*Le(W.Ea,W.b)),re=B,we=O,be=[],_e=(Fe=_e)-1;0<=_e;--_e)be[_e]=re[we+_e];for(_e=Fe-1;0<=_e;--_e)de[V+_e]=be[_e];Tu(W,ee,fe,B,ce,B,O)}else Tu(W,ee,fe,V,re,B,O)}O=N,B=x}B!=x&&r(N,x,O,B,F)}function at(u,f){var x=u.V,N=u.Ba+u.c*u.C,L=f-u.C;if(t(f<=u.l.o),t(16>=L),0<L){var F=u.l,D=u.Ta,O=u.Ua,B=F.width;if(ii(u,L,x,N),L=O=[O],t((x=u.C)<(N=f)),t(F.v<F.va),N>F.o&&(N=F.o),x<F.j){var W=F.j-x;x=F.j,L[0]+=W*B}if(x>=N?x=0:(L[0]+=4*F.v,F.ka=x-F.j,F.U=F.va-F.v,F.T=N-x,x=1),x){if(O=O[0],11>(x=u.ca).S){var ee=x.f.RGBA,fe=(N=x.S,L=F.U,F=F.T,W=ee.eb,ee.A),V=F;for(ee=ee.fb+u.Ma*ee.A;0<V--;){var re=D,ce=O,be=L,de=W,we=ee;switch(N){case Iu:Yl(re,ce,be,de,we);break;case Mu:Us(re,ce,be,de,we);break;case fh:Us(re,ce,be,de,we),Kl(de,we,0,be,1,0);break;case g1:Ua(re,ce,be,de,we);break;case Ou:it(re,ce,be,de,we,1);break;case hh:it(re,ce,be,de,we,1),Kl(de,we,0,be,1,0);break;case zu:it(re,ce,be,de,we,0);break;case Bu:it(re,ce,be,de,we,0),Kl(de,we,1,be,1,0);break;case dh:qs(re,ce,be,de,we);break;case ph:qs(re,ce,be,de,we),l1(de,we,be,1,0);break;case x1:Hs(re,ce,be,de,we);break;default:t(0)}O+=B,ee+=fe}u.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=x.height)}}u.C=f,t(u.C<=u.i)}function _n(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var x=u.Ya[f].G,N=u.Ya[f].H;if(0<x[1][N[1]+0].g||0<x[2][N[2]+0].g||0<x[3][N[3]+0].g)return 0}return 1}function hn(u,f,x,N,L,F){if(u.Z!=0){var D=u.qd,O=u.rd;for(t(Vs[u.Z]!=null);f<x;++f)Vs[u.Z](D,O,N,L,N,L,F),D=N,O=L,L+=F;u.qd=D,u.rd=O}}function ar(u,f){var x=u.l.ma,N=x.Z==0||x.Z==1?u.l.j:u.C;if(N=u.C<N?N:u.C,t(f<=u.l.o),f>N){var L=u.l.width,F=x.ca,D=x.tb+L*N,O=u.V,B=u.Ba+u.c*N,W=u.gc;t(u.ab==1),t(W[0].hc==3),Hi(W[0],N,f,O,B,F,D),hn(x,N,f,F,D,L)}u.C=u.Ma=f}function Zt(u,f,x,N,L,F,D){var O=u.$/N,B=u.$%N,W=u.m,ee=u.s,fe=x+u.$,V=fe;L=x+N*L;var re=x+N*F,ce=280+ee.ua,be=u.Pb?O:16777216,de=0<ee.ua?ee.Wa:null,we=ee.wc,_e=fe<re?Nn(ee,B,O):null;t(u.C<F),t(re<=L);var Fe=!1;e:for(;;){for(;Fe||fe<re;){var Ee=0;if(O>=be){var nt=fe-x;t((be=u).Pb),be.wd=be.m,be.xd=nt,0<be.s.ua&&Pe(be.s.Wa,be.s.vb),be=O+Jb}if(B&we||(_e=Nn(ee,B,O)),t(_e!=null),_e.Qb&&(f[fe]=_e.qb,Fe=!0),!Fe)if(ne(W),_e.jc){Ee=W,nt=f;var Be=fe,jt=_e.pd[$(Ee)&Ba-1];t(_e.jc),256>jt.g?(Q(Ee,Ee.u+jt.g),nt[Be]=jt.value,Ee=0):(Q(Ee,Ee.u+jt.g-256),t(256<=jt.value),Ee=jt.value),Ee==0&&(Fe=!0)}else Ee=zt(_e.G[0],_e.H[0],W);if(W.h)break;if(Fe||256>Ee){if(!Fe)if(_e.nd)f[fe]=(_e.qb|Ee<<8)>>>0;else{if(ne(W),Fe=zt(_e.G[1],_e.H[1],W),ne(W),nt=zt(_e.G[2],_e.H[2],W),Be=zt(_e.G[3],_e.H[3],W),W.h)break;f[fe]=(Be<<24|Fe<<16|Ee<<8|nt)>>>0}if(Fe=!1,++fe,++B>=N&&(B=0,++O,D!=null&&O<=F&&!(O%16)&&D(u,O),de!=null))for(;V<fe;)Ee=f[V++],de.X[(506832829*Ee&4294967295)>>>de.Mb]=Ee}else if(280>Ee){if(Ee=Xe(Ee-256,W),nt=zt(_e.G[4],_e.H[4],W),ne(W),nt=ht(N,nt=Xe(nt,W)),W.h)break;if(fe-x<nt||L-fe<Ee)break e;for(Be=0;Be<Ee;++Be)f[fe+Be]=f[fe+Be-nt];for(fe+=Ee,B+=Ee;B>=N;)B-=N,++O,D!=null&&O<=F&&!(O%16)&&D(u,O);if(t(fe<=L),B&we&&(_e=Nn(ee,B,O)),de!=null)for(;V<fe;)Ee=f[V++],de.X[(506832829*Ee&4294967295)>>>de.Mb]=Ee}else{if(!(Ee<ce))break e;for(Fe=Ee-280,t(de!=null);V<fe;)Ee=f[V++],de.X[(506832829*Ee&4294967295)>>>de.Mb]=Ee;Ee=fe,t(!(Fe>>>(nt=de).Xa)),f[Ee]=nt.X[Fe],Fe=!0}Fe||t(W.h==X(W))}if(u.Pb&&W.h&&fe<L)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Pe(u.s.vb,u.s.Wa);else{if(W.h)break e;D!=null&&D(u,O>F?F:O),u.a=0,u.$=fe-x}return 1}return u.a=3,0}function jn(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,t(u!=null)}function or(){var u=new ft;return u==null?null:(u.a=0,u.xb=b1,Yt("Predictor","VP8LPredictors"),Yt("Predictor","VP8LPredictors_C"),Yt("PredictorAdd","VP8LPredictorsAdd"),Yt("PredictorAdd","VP8LPredictorsAdd_C"),Sn=Lt,Gl=mt,Yl=dn,Us=Ft,qs=wt,Hs=Nt,Ua=en,_.VP8LMapColor32b=qi,_.VP8LMapColor8b=Wl,u)}function Cr(u,f,x,N,L){var F=1,D=[u],O=[f],B=N.m,W=N.s,ee=null,fe=0;e:for(;;){if(x)for(;F&&me(B,1);){var V=D,re=O,ce=N,be=1,de=ce.m,we=ce.gc[ce.ab],_e=me(de,2);if(ce.Oc&1<<_e)F=0;else{switch(ce.Oc|=1<<_e,we.hc=_e,we.Ea=V[0],we.nc=re[0],we.K=[null],++ce.ab,t(4>=ce.ab),_e){case 0:case 1:we.b=me(de,3)+2,be=Cr(Le(we.Ea,we.b),Le(we.nc,we.b),0,ce,we.K),we.K=we.K[0];break;case 3:var Fe,Ee=me(de,8)+1,nt=16<Ee?0:4<Ee?1:2<Ee?2:3;if(V[0]=Le(we.Ea,nt),we.b=nt,Fe=be=Cr(Ee,1,0,ce,we.K)){var Be,jt=Ee,Ye=we,Tt=1<<(8>>Ye.b),Bn=s(Tt);if(Bn==null)Fe=0;else{var St=Ye.K[0],Ze=Ye.w;for(Bn[0]=Ye.K[0][0],Be=1;Be<1*jt;++Be)Bn[Be]=Ke(St[Ze+Be],Bn[Be-1]);for(;Be<4*Tt;++Be)Bn[Be]=0;Ye.K[0]=null,Ye.K[0]=Bn,Fe=1}}be=Fe;break;case 2:break;default:t(0)}F=be}}if(D=D[0],O=O[0],F&&me(B,1)&&!(F=1<=(fe=me(B,4))&&11>=fe)){N.a=3;break e}var Ie;if(Ie=F)t:{var An,xt,Rt,sn=N,Jn=D,wr=O,vn=fe,cr=x,Nr=sn.m,Un=sn.s,Mt=[null],Ht=1,yn=0,$t=Xb[vn];n:for(;;){if(cr&&me(Nr,1)){var Qn=me(Nr,3)+2,_i=Le(Jn,Qn),Ln=Le(wr,Qn),Pr=_i*Ln;if(!Cr(_i,Ln,0,sn,Mt))break n;for(Mt=Mt[0],Un.xc=Qn,An=0;An<Pr;++An){var Jt=Mt[An]>>8&65535;Mt[An]=Jt,Jt>=Ht&&(Ht=Jt+1)}}if(Nr.h)break n;for(xt=0;5>xt;++xt){var qn=v1[xt];!xt&&0<vn&&(qn+=1<<vn),yn<qn&&(yn=qn)}var Hr=o(Ht*$t,Z),_r=Ht,$r=o(_r,se);if($r==null)var Wr=null;else t(65536>=_r),Wr=$r;var Fr=s(yn);if(Wr==null||Fr==null||Hr==null){sn.a=1;break n}var Vr=Hr;for(An=Rt=0;An<Ht;++An){var nn=Wr[An],Gr=nn.G,ji=nn.H,Ha=0,gs=1,er=0;for(xt=0;5>xt;++xt){qn=v1[xt],Gr[xt]=Vr,ji[xt]=Rt,!xt&&0<vn&&(qn+=1<<vn);i:{var $u,vh=qn,Wu=sn,Ql=Fr,vw=Vr,yw=Rt,yh=0,Gs=Wu.m,bw=me(Gs,1);if(i(Ql,0,0,vh),bw){var ww=me(Gs,1)+1,Nw=me(Gs,1),C1=me(Gs,Nw==0?1:8);Ql[C1]=1,ww==2&&(Ql[C1=me(Gs,8)]=1);var Vu=1}else{var E1=s(19),P1=me(Gs,4)+4;if(19<P1){Wu.a=3;var Gu=0;break i}for($u=0;$u<P1;++$u)E1[Zb[$u]]=me(Gs,3);var bh=void 0,ec=void 0,F1=Wu,_w=E1,Yu=vh,T1=Ql,wh=0,Ys=F1.m,D1=8,R1=o(128,Z);r:for(;R(R1,0,7,_w,19);){if(me(Ys,1)){var jw=2+2*me(Ys,3);if((bh=2+me(Ys,jw))>Yu)break r}else bh=Yu;for(ec=0;ec<Yu&&bh--;){ne(Ys);var I1=R1[0+(127&$(Ys))];Q(Ys,Ys.u+I1.g);var ko=I1.value;if(16>ko)T1[ec++]=ko,ko!=0&&(D1=ko);else{var Sw=ko==16,M1=ko-16,kw=Gb[M1],O1=me(Ys,Vb[M1])+kw;if(ec+O1>Yu)break r;for(var Aw=Sw?D1:0;0<O1--;)T1[ec++]=Aw}}wh=1;break r}wh||(F1.a=3),Vu=wh}(Vu=Vu&&!Gs.h)&&(yh=R(vw,yw,8,Ql,vh)),Vu&&yh!=0?Gu=yh:(Wu.a=3,Gu=0)}if(Gu==0)break n;if(gs&&Yb[xt]==1&&(gs=Vr[Rt].g==0),Ha+=Vr[Rt].g,Rt+=Gu,3>=xt){var tc,Nh=Fr[0];for(tc=1;tc<qn;++tc)Fr[tc]>Nh&&(Nh=Fr[tc]);er+=Nh}}if(nn.nd=gs,nn.Qb=0,gs&&(nn.qb=(Gr[3][ji[3]+0].value<<24|Gr[1][ji[1]+0].value<<16|Gr[2][ji[2]+0].value)>>>0,Ha==0&&256>Gr[0][ji[0]+0].value&&(nn.Qb=1,nn.qb+=Gr[0][ji[0]+0].value<<8)),nn.jc=!nn.Qb&&6>er,nn.jc){var Zu,xs=nn;for(Zu=0;Zu<Ba;++Zu){var Zs=Zu,Ks=xs.pd[Zs],Ku=xs.G[0][xs.H[0]+Zs];256<=Ku.value?(Ks.g=Ku.g+256,Ks.value=Ku.value):(Ks.g=0,Ks.value=0,Zs>>=fn(Ku,8,Ks),Zs>>=fn(xs.G[1][xs.H[1]+Zs],16,Ks),Zs>>=fn(xs.G[2][xs.H[2]+Zs],0,Ks),fn(xs.G[3][xs.H[3]+Zs],24,Ks))}}}Un.vc=Mt,Un.Wb=Ht,Un.Ya=Wr,Un.yc=Hr,Ie=1;break t}Ie=0}if(!(F=Ie)){N.a=3;break e}if(0<fe){if(W.ua=1<<fe,!z(W.Wa,fe)){N.a=1,F=0;break e}}else W.ua=0;var _h=N,z1=D,Lw=O,jh=_h.s,Sh=jh.xc;if(_h.c=z1,_h.i=Lw,jh.md=Le(z1,Sh),jh.wc=Sh==0?-1:(1<<Sh)-1,x){N.xb=sw;break e}if((ee=s(D*O))==null){N.a=1,F=0;break e}F=(F=Zt(N,ee,0,D,O,O,null))&&!B.h;break e}return F?(L!=null?L[0]=ee:(t(ee==null),t(x)),N.$=0,x||jn(W)):jn(W),F}function si(u,f){var x=u.c*u.i,N=x+f+16*f;return t(u.c<=f),u.V=s(N),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+x+f,1)}function Et(u,f){var x=u.C,N=f-x,L=u.V,F=u.Ba+u.c*x;for(t(f<=u.l.o);0<N;){var D=16<N?16:N,O=u.l.ma,B=u.l.width,W=B*D,ee=O.ca,fe=O.tb+B*x,V=u.Ta,re=u.Ua;ii(u,D,L,F),u1(V,re,ee,fe,W),hn(O,x,x+D,ee,fe,B),N-=D,L+=D*u.c,x+=D}t(x==f),u.C=u.Ma=f}function Er(){this.ub=this.yd=this.td=this.Rb=0}function lr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Rs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Oi(){this.Yb=function(){var u=[];return function f(x,N,L){for(var F=L[N],D=0;D<F&&(x.push(L.length>N+1?[]:0),!(L.length<N+1));D++)f(x[D],N+1,L)}(u,0,[3,11]),u}()}function Ca(){this.jb=s(3),this.Wc=l([4,8],Oi),this.Xc=l([4,17],Oi)}function gu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ai(){this.ld=this.La=this.dd=this.tc=0}function Cl(){this.Na=this.la=0}function xu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function El(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vu(){this.uc=this.M=this.Nb=0,this.wa=Array(new ai),this.Y=0,this.ya=Array(new El),this.aa=0,this.l=new xo}function yu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function bu(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new Er,this.Kc=new lr,this.ed=new gu,this.Qa=new Rs,this.Ic=this.$c=this.Aa=0,this.D=new vu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,P),this.ia=0,this.pb=o(4,xu),this.Pa=new Ca,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yu),this.Hd=0,this.rb=Array(new Cl),this.sb=0,this.wa=Array(new ai),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new El),this.L=this.aa=0,this.gd=l([4,2],ai),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zi(u,f){return 0>u?0:u>f?f:u}function xo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zf(){var u=new bu;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Xl||(Xl=vo)),u}function Tn(u,f,x){return u.a==0&&(u.a=f,u.sc=x,u.cb=0),0}function wu(u,f,x){return 3<=x&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function Bi(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return Tn(u,2,"null VP8Io passed to VP8GetHeaders()");var x=f.data,N=f.w,L=f.ha;if(4>L)return Tn(u,7,"Truncated header.");var F=x[N+0]|x[N+1]<<8|x[N+2]<<16,D=u.Od;if(D.Rb=!(1&F),D.td=F>>1&7,D.yd=F>>4&1,D.ub=F>>5,3<D.td)return Tn(u,3,"Incorrect keyframe parameters.");if(!D.yd)return Tn(u,4,"Frame not displayable.");N+=3,L-=3;var O=u.Kc;if(D.Rb){if(7>L)return Tn(u,7,"cannot parse picture header");if(!wu(x,N,L))return Tn(u,3,"Bad code word");O.c=16383&(x[N+4]<<8|x[N+3]),O.Td=x[N+4]>>6,O.i=16383&(x[N+6]<<8|x[N+5]),O.Ud=x[N+6]>>6,N+=7,L-=7,u.za=O.c+15>>4,u.Ub=O.i+15>>4,f.width=O.c,f.height=O.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((F=u.Pa).jb,0,255,F.jb.length),t((F=u.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,i(F.Zb,0,0,F.Zb.length),i(F.Lb,0,0,F.Lb)}if(D.ub>L)return Tn(u,7,"bad partition length");le(F=u.m,x,N,D.ub),N+=D.ub,L-=D.ub,D.Rb&&(O.Ld=ge(F),O.Kd=ge(F)),O=u.Qa;var B,W=u.Pa;if(t(F!=null),t(O!=null),O.Cb=ge(F),O.Cb){if(O.Bb=ge(F),ge(F)){for(O.Fb=ge(F),B=0;4>B;++B)O.Zb[B]=ge(F)?U(F,7):0;for(B=0;4>B;++B)O.Lb[B]=ge(F)?U(F,6):0}if(O.Bb)for(B=0;3>B;++B)W.jb[B]=ge(F)?ae(F,8):255}else O.Bb=0;if(F.Ka)return Tn(u,3,"cannot parse segment header");if((O=u.ed).zd=ge(F),O.Tb=ae(F,6),O.wb=ae(F,3),O.Pc=ge(F),O.Pc&&ge(F)){for(W=0;4>W;++W)ge(F)&&(O.vd[W]=U(F,6));for(W=0;4>W;++W)ge(F)&&(O.od[W]=U(F,6))}if(u.L=O.Tb==0?0:O.zd?1:2,F.Ka)return Tn(u,3,"cannot parse filter header");var ee=L;if(L=B=N,N=B+ee,O=ee,u.Xb=(1<<ae(u.m,2))-1,ee<3*(W=u.Xb))x=7;else{for(B+=3*W,O-=3*W,ee=0;ee<W;++ee){var fe=x[L+0]|x[L+1]<<8|x[L+2]<<16;fe>O&&(fe=O),le(u.Jc[+ee],x,B,fe),B+=fe,O-=fe,L+=3}le(u.Jc[+W],x,B,O),x=B<N?0:5}if(x!=0)return Tn(u,x,"cannot parse partitions");for(x=ae(B=u.m,7),L=ge(B)?U(B,4):0,N=ge(B)?U(B,4):0,O=ge(B)?U(B,4):0,W=ge(B)?U(B,4):0,B=ge(B)?U(B,4):0,ee=u.Qa,fe=0;4>fe;++fe){if(ee.Cb){var V=ee.Zb[fe];ee.Fb||(V+=x)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}V=x}var re=u.pb[fe];re.Sc[0]=mh[zi(V+L,127)],re.Sc[1]=gh[zi(V+0,127)],re.Eb[0]=2*mh[zi(V+N,127)],re.Eb[1]=101581*gh[zi(V+O,127)]>>16,8>re.Eb[1]&&(re.Eb[1]=8),re.Qc[0]=mh[zi(V+W,117)],re.Qc[1]=gh[zi(V+B,127)],re.lc=V+B}if(!D.Rb)return Tn(u,4,"Not a key frame.");for(ge(F),D=u.Pa,x=0;4>x;++x){for(L=0;8>L;++L)for(N=0;3>N;++N)for(O=0;11>O;++O)W=he(F,rw[x][L][N][O])?ae(F,8):tw[x][L][N][O],D.Wc[x][L].Yb[N][O]=W;for(L=0;17>L;++L)D.Xc[x][L]=D.Wc[x][iw[L]]}return u.kc=ge(F),u.kc&&(u.Bd=ae(F,8)),u.cb=1}function vo(u,f,x,N,L,F,D){var O=f[L].Yb[x];for(x=0;16>L;++L){if(!he(u,O[x+0]))return L;for(;!he(u,O[x+1]);)if(O=f[++L].Yb[0],x=0,L==16)return 16;var B=f[L+1].Yb;if(he(u,O[x+2])){var W=u,ee=0;if(he(W,(V=O)[(fe=x)+3]))if(he(W,V[fe+6])){for(O=0,fe=2*(ee=he(W,V[fe+8]))+(V=he(W,V[fe+9+ee])),ee=0,V=Qb[fe];V[O];++O)ee+=ee+he(W,V[O]);ee+=3+(8<<fe)}else he(W,V[fe+7])?(ee=7+2*he(W,165),ee+=he(W,145)):ee=5+he(W,159);else ee=he(W,V[fe+4])?3+he(W,V[fe+5]):2;O=B[2]}else ee=1,O=B[1];B=D+ew[L],0>(W=u).b&&xe(W);var fe,V=W.b,re=(fe=W.Ca>>1)-(W.I>>V)>>31;--W.b,W.Ca+=re,W.Ca|=1,W.I-=(fe+1&re)<<V,F[B]=((ee^re)-re)*N[(0<L)+0]}return 16}function Nu(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function oi(u,f,x,N,L){L=u[f+x+32*N]+(L>>3),u[f+x+32*N]=-256&L?0>L?0:255:L}function Mn(u,f,x,N,L,F){oi(u,f,0,x,N+L),oi(u,f,1,x,N+F),oi(u,f,2,x,N-F),oi(u,f,3,x,N-L)}function rs(u){return(20091*u>>16)+u}function _u(u,f,x,N){var L,F=0,D=s(16);for(L=0;4>L;++L){var O=u[f+0]+u[f+8],B=u[f+0]-u[f+8],W=(35468*u[f+4]>>16)-rs(u[f+12]),ee=rs(u[f+4])+(35468*u[f+12]>>16);D[F+0]=O+ee,D[F+1]=B+W,D[F+2]=B-W,D[F+3]=O-ee,F+=4,f++}for(L=F=0;4>L;++L)O=(u=D[F+0]+4)+D[F+8],B=u-D[F+8],W=(35468*D[F+4]>>16)-rs(D[F+12]),oi(x,N,0,0,O+(ee=rs(D[F+4])+(35468*D[F+12]>>16))),oi(x,N,1,0,B+W),oi(x,N,2,0,B-W),oi(x,N,3,0,O-ee),F++,N+=32}function Kf(u,f,x,N){var L=u[f+0]+4,F=35468*u[f+4]>>16,D=rs(u[f+4]),O=35468*u[f+1]>>16;Mn(x,N,0,L+D,u=rs(u[f+1]),O),Mn(x,N,1,L+F,u,O),Mn(x,N,2,L-F,u,O),Mn(x,N,3,L-D,u,O)}function Xf(u,f,x,N,L){_u(u,f,x,N),L&&_u(u,f+16,x,N+4)}function Ui(u,f,x,N){qa(u,f+0,x,N,1),qa(u,f+32,x,N+128,1)}function ju(u,f,x,N){var L;for(u=u[f+0]+4,L=0;4>L;++L)for(f=0;4>f;++f)oi(x,N,f,L,u)}function Su(u,f,x,N){u[f+0]&&qt(u,f+0,x,N),u[f+16]&&qt(u,f+16,x,N+4),u[f+32]&&qt(u,f+32,x,N+128),u[f+48]&&qt(u,f+48,x,N+128+4)}function yo(u,f,x,N){var L,F=s(16);for(L=0;4>L;++L){var D=u[f+0+L]+u[f+12+L],O=u[f+4+L]+u[f+8+L],B=u[f+4+L]-u[f+8+L],W=u[f+0+L]-u[f+12+L];F[0+L]=D+O,F[8+L]=D-O,F[4+L]=W+B,F[12+L]=W-B}for(L=0;4>L;++L)D=(u=F[0+4*L]+3)+F[3+4*L],O=F[1+4*L]+F[2+4*L],B=F[1+4*L]-F[2+4*L],W=u-F[3+4*L],x[N+0]=D+O>>3,x[N+16]=W+B>>3,x[N+32]=D-O>>3,x[N+48]=W-B>>3,N+=64}function Ea(u,f,x){var N,L=f-32,F=qr,D=255-u[L-1];for(N=0;N<x;++N){var O,B=F,W=D+u[f-1];for(O=0;O<x;++O)u[f+O]=B[W+u[L+O]];f+=32}}function Jf(u,f){Ea(u,f,4)}function Qf(u,f){Ea(u,f,8)}function eh(u,f){Ea(u,f,16)}function Pl(u,f){var x;for(x=0;16>x;++x)r(u,f+32*x,u,f-32,16)}function ku(u,f){var x;for(x=16;0<x;--x)i(u,f,u[f-1],16),f+=32}function bi(u,f,x){var N;for(N=0;16>N;++N)i(f,x+32*N,u,16)}function th(u,f){var x,N=16;for(x=0;16>x;++x)N+=u[f-1+32*x]+u[f+x-32];bi(N>>5,u,f)}function Pa(u,f){var x,N=8;for(x=0;16>x;++x)N+=u[f-1+32*x];bi(N>>4,u,f)}function Fl(u,f){var x,N=8;for(x=0;16>x;++x)N+=u[f+x-32];bi(N>>4,u,f)}function nh(u,f){bi(128,u,f)}function pt(u,f,x){return u+2*f+x+2>>2}function rh(u,f){var x,N=f-32;for(N=new Uint8Array([pt(u[N-1],u[N+0],u[N+1]),pt(u[N+0],u[N+1],u[N+2]),pt(u[N+1],u[N+2],u[N+3]),pt(u[N+2],u[N+3],u[N+4])]),x=0;4>x;++x)r(u,f+32*x,N,0,N.length)}function ih(u,f){var x=u[f-1],N=u[f-1+32],L=u[f-1+64],F=u[f-1+96];Se(u,f+0,16843009*pt(u[f-1-32],x,N)),Se(u,f+32,16843009*pt(x,N,L)),Se(u,f+64,16843009*pt(N,L,F)),Se(u,f+96,16843009*pt(L,F,F))}function sh(u,f){var x,N=4;for(x=0;4>x;++x)N+=u[f+x-32]+u[f-1+32*x];for(N>>=3,x=0;4>x;++x)i(u,f+32*x,N,4)}function is(u,f){var x=u[f-1+0],N=u[f-1+32],L=u[f-1+64],F=u[f-1-32],D=u[f+0-32],O=u[f+1-32],B=u[f+2-32],W=u[f+3-32];u[f+0+96]=pt(N,L,u[f-1+96]),u[f+1+96]=u[f+0+64]=pt(x,N,L),u[f+2+96]=u[f+1+64]=u[f+0+32]=pt(F,x,N),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=pt(D,F,x),u[f+3+64]=u[f+2+32]=u[f+1+0]=pt(O,D,F),u[f+3+32]=u[f+2+0]=pt(B,O,D),u[f+3+0]=pt(W,B,O)}function ss(u,f){var x=u[f+1-32],N=u[f+2-32],L=u[f+3-32],F=u[f+4-32],D=u[f+5-32],O=u[f+6-32],B=u[f+7-32];u[f+0+0]=pt(u[f+0-32],x,N),u[f+1+0]=u[f+0+32]=pt(x,N,L),u[f+2+0]=u[f+1+32]=u[f+0+64]=pt(N,L,F),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=pt(L,F,D),u[f+3+32]=u[f+2+64]=u[f+1+96]=pt(F,D,O),u[f+3+64]=u[f+2+96]=pt(D,O,B),u[f+3+96]=pt(O,B,B)}function ah(u,f){var x=u[f-1+0],N=u[f-1+32],L=u[f-1+64],F=u[f-1-32],D=u[f+0-32],O=u[f+1-32],B=u[f+2-32],W=u[f+3-32];u[f+0+0]=u[f+1+64]=F+D+1>>1,u[f+1+0]=u[f+2+64]=D+O+1>>1,u[f+2+0]=u[f+3+64]=O+B+1>>1,u[f+3+0]=B+W+1>>1,u[f+0+96]=pt(L,N,x),u[f+0+64]=pt(N,x,F),u[f+0+32]=u[f+1+96]=pt(x,F,D),u[f+1+32]=u[f+2+96]=pt(F,D,O),u[f+2+32]=u[f+3+96]=pt(D,O,B),u[f+3+32]=pt(O,B,W)}function oh(u,f){var x=u[f+0-32],N=u[f+1-32],L=u[f+2-32],F=u[f+3-32],D=u[f+4-32],O=u[f+5-32],B=u[f+6-32],W=u[f+7-32];u[f+0+0]=x+N+1>>1,u[f+1+0]=u[f+0+64]=N+L+1>>1,u[f+2+0]=u[f+1+64]=L+F+1>>1,u[f+3+0]=u[f+2+64]=F+D+1>>1,u[f+0+32]=pt(x,N,L),u[f+1+32]=u[f+0+96]=pt(N,L,F),u[f+2+32]=u[f+1+96]=pt(L,F,D),u[f+3+32]=u[f+2+96]=pt(F,D,O),u[f+3+64]=pt(D,O,B),u[f+3+96]=pt(O,B,W)}function bo(u,f){var x=u[f-1+0],N=u[f-1+32],L=u[f-1+64],F=u[f-1+96];u[f+0+0]=x+N+1>>1,u[f+2+0]=u[f+0+32]=N+L+1>>1,u[f+2+32]=u[f+0+64]=L+F+1>>1,u[f+1+0]=pt(x,N,L),u[f+3+0]=u[f+1+32]=pt(N,L,F),u[f+3+32]=u[f+1+64]=pt(L,F,F),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=F}function Tl(u,f){var x=u[f-1+0],N=u[f-1+32],L=u[f-1+64],F=u[f-1+96],D=u[f-1-32],O=u[f+0-32],B=u[f+1-32],W=u[f+2-32];u[f+0+0]=u[f+2+32]=x+D+1>>1,u[f+0+32]=u[f+2+64]=N+x+1>>1,u[f+0+64]=u[f+2+96]=L+N+1>>1,u[f+0+96]=F+L+1>>1,u[f+3+0]=pt(O,B,W),u[f+2+0]=pt(D,O,B),u[f+1+0]=u[f+3+32]=pt(x,D,O),u[f+1+32]=u[f+3+64]=pt(N,x,D),u[f+1+64]=u[f+3+96]=pt(L,N,x),u[f+1+96]=pt(F,L,N)}function Fa(u,f){var x;for(x=0;8>x;++x)r(u,f+32*x,u,f-32,8)}function lh(u,f){var x;for(x=0;8>x;++x)i(u,f,u[f-1],8),f+=32}function as(u,f,x){var N;for(N=0;8>N;++N)i(f,x+32*N,u,8)}function ch(u,f){var x,N=8;for(x=0;8>x;++x)N+=u[f+x-32]+u[f-1+32*x];as(N>>4,u,f)}function Dl(u,f){var x,N=4;for(x=0;8>x;++x)N+=u[f+x-32];as(N>>3,u,f)}function Rl(u,f){var x,N=4;for(x=0;8>x;++x)N+=u[f-1+32*x];as(N>>3,u,f)}function Au(u,f){as(128,u,f)}function os(u,f,x){var N=u[f-x],L=u[f+0],F=3*(L-N)+uh[1020+u[f-2*x]-u[f+x]],D=Ru[112+(F+4>>3)];u[f-x]=qr[255+N+Ru[112+(F+3>>3)]],u[f+0]=qr[255+L-D]}function Il(u,f,x,N){var L=u[f+0],F=u[f+x];return ui[255+u[f-2*x]-u[f-x]]>N||ui[255+F-L]>N}function wo(u,f,x,N){return 4*ui[255+u[f-x]-u[f+0]]+ui[255+u[f-2*x]-u[f+x]]<=N}function Ml(u,f,x,N,L){var F=u[f-3*x],D=u[f-2*x],O=u[f-x],B=u[f+0],W=u[f+x],ee=u[f+2*x],fe=u[f+3*x];return 4*ui[255+O-B]+ui[255+D-W]>N?0:ui[255+u[f-4*x]-F]<=L&&ui[255+F-D]<=L&&ui[255+D-O]<=L&&ui[255+fe-ee]<=L&&ui[255+ee-W]<=L&&ui[255+W-B]<=L}function Ta(u,f,x,N){var L=2*N+1;for(N=0;16>N;++N)wo(u,f+N,x,L)&&os(u,f+N,x)}function Ol(u,f,x,N){var L=2*N+1;for(N=0;16>N;++N)wo(u,f+N*x,1,L)&&os(u,f+N*x,1)}function Lu(u,f,x,N){var L;for(L=3;0<L;--L)Ta(u,f+=4*x,x,N)}function Cu(u,f,x,N){var L;for(L=3;0<L;--L)Ol(u,f+=4,x,N)}function ls(u,f,x,N,L,F,D,O){for(F=2*F+1;0<L--;){if(Ml(u,f,x,F,D))if(Il(u,f,x,O))os(u,f,x);else{var B=u,W=f,ee=x,fe=B[W-2*ee],V=B[W-ee],re=B[W+0],ce=B[W+ee],be=B[W+2*ee],de=27*(_e=uh[1020+3*(re-V)+uh[1020+fe-ce]])+63>>7,we=18*_e+63>>7,_e=9*_e+63>>7;B[W-3*ee]=qr[255+B[W-3*ee]+_e],B[W-2*ee]=qr[255+fe+we],B[W-ee]=qr[255+V+de],B[W+0]=qr[255+re-de],B[W+ee]=qr[255+ce-we],B[W+2*ee]=qr[255+be-_e]}f+=N}}function cs(u,f,x,N,L,F,D,O){for(F=2*F+1;0<L--;){if(Ml(u,f,x,F,D))if(Il(u,f,x,O))os(u,f,x);else{var B=u,W=f,ee=x,fe=B[W-ee],V=B[W+0],re=B[W+ee],ce=Ru[112+(4+(be=3*(V-fe))>>3)],be=Ru[112+(be+3>>3)],de=ce+1>>1;B[W-2*ee]=qr[255+B[W-2*ee]+de],B[W-ee]=qr[255+fe+be],B[W+0]=qr[255+V-ce],B[W+ee]=qr[255+re-de]}f+=N}}function Eu(u,f,x,N,L,F){ls(u,f,x,1,16,N,L,F)}function Da(u,f,x,N,L,F){ls(u,f,1,x,16,N,L,F)}function Pu(u,f,x,N,L,F){var D;for(D=3;0<D;--D)cs(u,f+=4*x,x,1,16,N,L,F)}function m(u,f,x,N,L,F){var D;for(D=3;0<D;--D)cs(u,f+=4,1,x,16,N,L,F)}function A(u,f,x,N,L,F,D,O){ls(u,f,L,1,8,F,D,O),ls(x,N,L,1,8,F,D,O)}function Y(u,f,x,N,L,F,D,O){ls(u,f,1,L,8,F,D,O),ls(x,N,1,L,8,F,D,O)}function J(u,f,x,N,L,F,D,O){cs(u,f+4*L,L,1,8,F,D,O),cs(x,N+4*L,L,1,8,F,D,O)}function oe(u,f,x,N,L,F,D,O){cs(u,f+4,1,L,8,F,D,O),cs(x,N+4,1,L,8,F,D,O)}function Ne(){this.ba=new _t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ye,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ce(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $e(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function et(){this.ua=0,this.Wa=new We,this.vb=new We,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new Z}function ft(){this.xb=this.a=0,this.l=new xo,this.ca=new _t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new et,this.ab=0,this.gc=o(4,$e),this.Oc=0}function vt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function It(u,f,x,N,L,F,D){for(u=u==null?0:u[f+0],f=0;f<D;++f)L[F+f]=u+x[N+f]&255,u=L[F+f]}function pn(u,f,x,N,L,F,D){var O;if(u==null)It(null,null,x,N,L,F,D);else for(O=0;O<D;++O)L[F+O]=u[f+O]+x[N+O]&255}function Dn(u,f,x,N,L,F,D){if(u==null)It(null,null,x,N,L,F,D);else{var O,B=u[f+0],W=B,ee=B;for(O=0;O<D;++O)W=ee+(B=u[f+O])-W,ee=x[N+O]+(-256&W?0>W?0:255:W)&255,W=B,L[F+O]=ee}}function tn(u,f,x,N){var L=f.width,F=f.o;if(t(u!=null&&f!=null),0>x||0>=N||x+N>F)return null;if(!u.Cc){if(u.ga==null){var D;if(u.ga=new vt,(D=u.ga==null)||(D=f.width*f.o,t(u.Gb.length==0),u.Gb=s(D),u.Uc=0,u.Gb==null?D=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,D=1),D=!D),!D){D=u.ga;var O=u.Fa,B=u.P,W=u.qc,ee=u.mb,fe=u.nb,V=B+1,re=W-1,ce=D.l;if(t(O!=null&&ee!=null&&f!=null),Vs[0]=null,Vs[1]=It,Vs[2]=pn,Vs[3]=Dn,D.ca=ee,D.tb=fe,D.c=f.width,D.i=f.height,t(0<D.c&&0<D.i),1>=W)f=0;else if(D.$a=3&O[B+0],D.Z=O[B+0]>>2&3,D.Lc=O[B+0]>>4&3,B=O[B+0]>>6&3,0>D.$a||1<D.$a||4<=D.Z||1<D.Lc||B)f=0;else if(ce.put=Oe,ce.ac=Re,ce.bc=pe,ce.ma=D,ce.width=f.width,ce.height=f.height,ce.Da=f.Da,ce.v=f.v,ce.va=f.va,ce.j=f.j,ce.o=f.o,D.$a)e:{t(D.$a==1),f=or();t:for(;;){if(f==null){f=0;break e}if(t(D!=null),D.mc=f,f.c=D.c,f.i=D.i,f.l=D.l,f.l.ma=D,f.l.width=D.c,f.l.height=D.i,f.a=0,te(f.m,O,V,re),!Cr(D.c,D.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&_n(f.s)?(D.ic=1,O=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(O),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(D.ic=0,f=si(f,D.c)),!f))break t;f=1;break e}D.mc=null,f=0}else f=re>=D.c*D.i;D=!f}if(D)return null;u.ga.Lc!=1?u.Ga=0:N=F-x}t(u.ga!=null),t(x+N<=F);e:{if(f=(O=u.ga).c,F=O.l.o,O.$a==0){if(V=u.rc,re=u.Vc,ce=u.Fa,B=u.P+1+x*f,W=u.mb,ee=u.nb+x*f,t(B<=u.P+u.qc),O.Z!=0)for(t(Vs[O.Z]!=null),D=0;D<N;++D)Vs[O.Z](V,re,ce,B,W,ee,f),V=W,re=ee,ee+=f,B+=f;else for(D=0;D<N;++D)r(W,ee,ce,B,f),V=W,re=ee,ee+=f,B+=f;u.rc=V,u.Vc=re}else{if(t(O.mc!=null),f=x+N,t((D=O.mc)!=null),t(f<=D.i),D.C>=f)f=1;else if(O.ic||wi(),O.ic){O=D.V,V=D.Ba,re=D.c;var be=D.i,de=(ce=1,B=D.$/re,W=D.$%re,ee=D.m,fe=D.s,D.$),we=re*be,_e=re*f,Fe=fe.wc,Ee=de<_e?Nn(fe,W,B):null;t(de<=we),t(f<=be),t(_n(fe));t:for(;;){for(;!ee.h&&de<_e;){if(W&Fe||(Ee=Nn(fe,W,B)),t(Ee!=null),ne(ee),256>(be=zt(Ee.G[0],Ee.H[0],ee)))O[V+de]=be,++de,++W>=re&&(W=0,++B<=f&&!(B%16)&&ar(D,B));else{if(!(280>be)){ce=0;break t}be=Xe(be-256,ee);var nt,Be=zt(Ee.G[4],Ee.H[4],ee);if(ne(ee),!(de>=(Be=ht(re,Be=Xe(Be,ee)))&&we-de>=be)){ce=0;break t}for(nt=0;nt<be;++nt)O[V+de+nt]=O[V+de+nt-Be];for(de+=be,W+=be;W>=re;)W-=re,++B<=f&&!(B%16)&&ar(D,B);de<_e&&W&Fe&&(Ee=Nn(fe,W,B))}t(ee.h==X(ee))}ar(D,B>f?f:B);break t}!ce||ee.h&&de<we?(ce=0,D.a=ee.h?5:3):D.$=de,f=ce}else f=Zt(D,D.V,D.Ba,D.c,D.i,f,Et);if(!f){N=0;break e}}x+N>=F&&(u.Cc=1),N=1}if(!N)return null;if(u.Cc&&((N=u.ga)!=null&&(N.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+x*L}function On(u,f,x,N,L,F){for(;0<L--;){var D,O=u,B=f+(x?1:0),W=u,ee=f+(x?0:3);for(D=0;D<N;++D){var fe=W[ee+4*D];fe!=255&&(fe*=32897,O[B+4*D+0]=O[B+4*D+0]*fe>>23,O[B+4*D+1]=O[B+4*D+1]*fe>>23,O[B+4*D+2]=O[B+4*D+2]*fe>>23)}f+=F}}function Rn(u,f,x,N,L){for(;0<N--;){var F;for(F=0;F<x;++F){var D=u[f+2*F+0],O=15&(W=u[f+2*F+1]),B=4369*O,W=(240&W|W>>4)*B>>16;u[f+2*F+0]=(240&D|D>>4)*B>>16&240|(15&D|D<<4)*B>>16>>4&15,u[f+2*F+1]=240&W|O}f+=L}}function Kn(u,f,x,N,L,F,D,O){var B,W,ee=255;for(W=0;W<L;++W){for(B=0;B<N;++B){var fe=u[f+B];F[D+4*B]=fe,ee&=fe}f+=x,D+=O}return ee!=255}function us(u,f,x,N,L){var F;for(F=0;F<L;++F)x[N+F]=u[f+F]>>8}function wi(){Kl=On,l1=Rn,c1=Kn,u1=us}function ds(u,f,x){_[u]=function(N,L,F,D,O,B,W,ee,fe,V,re,ce,be,de,we,_e,Fe){var Ee,nt=Fe-1>>1,Be=O[B+0]|W[ee+0]<<16,jt=fe[V+0]|re[ce+0]<<16;t(N!=null);var Ye=3*Be+jt+131074>>2;for(f(N[L+0],255&Ye,Ye>>16,be,de),F!=null&&(Ye=3*jt+Be+131074>>2,f(F[D+0],255&Ye,Ye>>16,we,_e)),Ee=1;Ee<=nt;++Ee){var Tt=O[B+Ee]|W[ee+Ee]<<16,Bn=fe[V+Ee]|re[ce+Ee]<<16,St=Be+Tt+jt+Bn+524296,Ze=St+2*(Tt+jt)>>3;Ye=Ze+Be>>1,Be=(St=St+2*(Be+Bn)>>3)+Tt>>1,f(N[L+2*Ee-1],255&Ye,Ye>>16,be,de+(2*Ee-1)*x),f(N[L+2*Ee-0],255&Be,Be>>16,be,de+(2*Ee-0)*x),F!=null&&(Ye=St+jt>>1,Be=Ze+Bn>>1,f(F[D+2*Ee-1],255&Ye,Ye>>16,we,_e+(2*Ee-1)*x),f(F[D+2*Ee+0],255&Be,Be>>16,we,_e+(2*Ee+0)*x)),Be=Tt,jt=Bn}1&Fe||(Ye=3*Be+jt+131074>>2,f(N[L+Fe-1],255&Ye,Ye>>16,be,de+(Fe-1)*x),F!=null&&(Ye=3*jt+Be+131074>>2,f(F[D+Fe-1],255&Ye,Ye>>16,we,_e+(Fe-1)*x)))}}function zl(){di[Iu]=aw,di[Mu]=w1,di[g1]=ow,di[Ou]=N1,di[zu]=_1,di[dh]=j1,di[x1]=lw,di[fh]=w1,di[hh]=N1,di[Bu]=_1,di[ph]=j1}function No(u){return u&~cw?0>u?0:255:u>>S1}function Is(u,f){return No((19077*u>>8)+(26149*f>>8)-14234)}function Ra(u,f,x){return No((19077*u>>8)-(6419*f>>8)-(13320*x>>8)+8708)}function Ia(u,f){return No((19077*u>>8)+(33050*f>>8)-17685)}function Ms(u,f,x,N,L){N[L+0]=Is(u,x),N[L+1]=Ra(u,f,x),N[L+2]=Ia(u,f)}function Xn(u,f,x,N,L){N[L+0]=Ia(u,f),N[L+1]=Ra(u,f,x),N[L+2]=Is(u,x)}function Ma(u,f,x,N,L){var F=Ra(u,f,x);f=F<<3&224|Ia(u,f)>>3,N[L+0]=248&Is(u,x)|F>>5,N[L+1]=f}function Oa(u,f,x,N,L){var F=240&Ia(u,f)|15;N[L+0]=240&Is(u,x)|Ra(u,f,x)>>4,N[L+1]=F}function Bl(u,f,x,N,L){N[L+0]=255,Ms(u,f,x,N,L+1)}function Ul(u,f,x,N,L){Xn(u,f,x,N,L),N[L+3]=255}function br(u,f,x,N,L){Ms(u,f,x,N,L),N[L+3]=255}function fs(u,f,x){_[u]=function(N,L,F,D,O,B,W,ee,fe){for(var V=ee+(-2&fe)*x;ee!=V;)f(N[L+0],F[D+0],O[B+0],W,ee),f(N[L+1],F[D+0],O[B+0],W,ee+x),L+=2,++D,++B,ee+=2*x;1&fe&&f(N[L+0],F[D+0],O[B+0],W,ee)}}function _o(u,f,x){return x==0?u==0?f==0?6:5:f==0?4:0:x}function Fu(u,f,x,N,L){switch(u>>>30){case 3:qa(f,x,N,L,0);break;case 2:ci(f,x,N,L);break;case 1:qt(f,x,N,L)}}function li(u,f){var x,N,L=f.M,F=f.Nb,D=u.oc,O=u.pc+40,B=u.oc,W=u.pc+584,ee=u.oc,fe=u.pc+600;for(x=0;16>x;++x)D[O+32*x-1]=129;for(x=0;8>x;++x)B[W+32*x-1]=129,ee[fe+32*x-1]=129;for(0<L?D[O-1-32]=B[W-1-32]=ee[fe-1-32]=129:(i(D,O-32-1,127,21),i(B,W-32-1,127,9),i(ee,fe-32-1,127,9)),N=0;N<u.za;++N){var V=f.ya[f.aa+N];if(0<N){for(x=-1;16>x;++x)r(D,O+32*x-4,D,O+32*x+12,4);for(x=-1;8>x;++x)r(B,W+32*x-4,B,W+32*x+4,4),r(ee,fe+32*x-4,ee,fe+32*x+4,4)}var re=u.Gd,ce=u.Hd+N,be=V.ad,de=V.Hc;if(0<L&&(r(D,O-32,re[ce].y,0,16),r(B,W-32,re[ce].f,0,8),r(ee,fe-32,re[ce].ea,0,8)),V.Za){var we=D,_e=O-32+16;for(0<L&&(N>=u.za-1?i(we,_e,re[ce].y[15],4):r(we,_e,re[ce+1].y,0,4)),x=0;4>x;x++)we[_e+128+x]=we[_e+256+x]=we[_e+384+x]=we[_e+0+x];for(x=0;16>x;++x,de<<=2)we=D,_e=O+A1[x],Ni[V.Ob[x]](we,_e),Fu(de,be,16*+x,we,_e)}else if(we=_o(N,L,V.Ob[0]),Ws[we](D,O),de!=0)for(x=0;16>x;++x,de<<=2)Fu(de,be,16*+x,D,O+A1[x]);for(x=V.Gc,we=_o(N,L,V.Dd),ms[we](B,W),ms[we](ee,fe),de=be,we=B,_e=W,255&(V=0|x)&&(170&V?$i(de,256,we,_e):Xt(de,256,we,_e)),V=ee,de=fe,255&(x>>=8)&&(170&x?$i(be,320,V,de):Xt(be,320,V,de)),L<u.Ub-1&&(r(re[ce].y,0,D,O+480,16),r(re[ce].f,0,B,W+224,8),r(re[ce].ea,0,ee,fe+224,8)),x=8*F*u.B,re=u.sa,ce=u.ta+16*N+16*F*u.R,be=u.qa,V=u.ra+8*N+x,de=u.Ha,we=u.Ia+8*N+x,x=0;16>x;++x)r(re,ce+x*u.R,D,O+32*x,16);for(x=0;8>x;++x)r(be,V+x*u.B,B,W+32*x,8),r(de,we+x*u.B,ee,fe+32*x,8)}}function za(u,f,x,N,L,F,D,O,B){var W=[0],ee=[0],fe=0,V=B!=null?B.kd:0,re=B??new Ce;if(u==null||12>x)return 7;re.data=u,re.w=f,re.ha=x,f=[f],x=[x],re.gb=[re.gb];e:{var ce=f,be=x,de=re.gb;if(t(u!=null),t(be!=null),t(de!=null),de[0]=0,12<=be[0]&&!n(u,ce[0],"RIFF")){if(n(u,ce[0]+8,"WEBP")){de=3;break e}var we=je(u,ce[0]+4);if(12>we||4294967286<we){de=3;break e}if(V&&we>be[0]-8){de=7;break e}de[0]=we,ce[0]+=12,be[0]-=12}de=0}if(de!=0)return de;for(we=0<re.gb[0],x=x[0];;){e:{var _e=u;be=f,de=x;var Fe=W,Ee=ee,nt=ce=[0];if((Ye=fe=[fe])[0]=0,8>de[0])de=7;else{if(!n(_e,be[0],"VP8X")){if(je(_e,be[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var Be=je(_e,be[0]+8),jt=1+Te(_e,be[0]+12);if(2147483648<=jt*(_e=1+Te(_e,be[0]+15))){de=3;break e}nt!=null&&(nt[0]=Be),Fe!=null&&(Fe[0]=jt),Ee!=null&&(Ee[0]=_e),be[0]+=18,de[0]-=18,Ye[0]=1}de=0}}if(fe=fe[0],ce=ce[0],de!=0)return de;if(be=!!(2&ce),!we&&fe)return 3;if(F!=null&&(F[0]=!!(16&ce)),D!=null&&(D[0]=be),O!=null&&(O[0]=0),D=W[0],ce=ee[0],fe&&be&&B==null){de=0;break}if(4>x){de=7;break}if(we&&fe||!we&&!fe&&!n(u,f[0],"ALPH")){x=[x],re.na=[re.na],re.P=[re.P],re.Sa=[re.Sa];e:{Be=u,de=f,we=x;var Ye=re.gb;Fe=re.na,Ee=re.P,nt=re.Sa,jt=22,t(Be!=null),t(we!=null),_e=de[0];var Tt=we[0];for(t(Fe!=null),t(nt!=null),Fe[0]=null,Ee[0]=null,nt[0]=0;;){if(de[0]=_e,we[0]=Tt,8>Tt){de=7;break e}var Bn=je(Be,_e+4);if(4294967286<Bn){de=3;break e}var St=8+Bn+1&-2;if(jt+=St,0<Ye&&jt>Ye){de=3;break e}if(!n(Be,_e,"VP8 ")||!n(Be,_e,"VP8L")){de=0;break e}if(Tt[0]<St){de=7;break e}n(Be,_e,"ALPH")||(Fe[0]=Be,Ee[0]=_e+8,nt[0]=Bn),_e+=St,Tt-=St}}if(x=x[0],re.na=re.na[0],re.P=re.P[0],re.Sa=re.Sa[0],de!=0)break}x=[x],re.Ja=[re.Ja],re.xa=[re.xa];e:if(Ye=u,de=f,we=x,Fe=re.gb[0],Ee=re.Ja,nt=re.xa,Be=de[0],_e=!n(Ye,Be,"VP8 "),jt=!n(Ye,Be,"VP8L"),t(Ye!=null),t(we!=null),t(Ee!=null),t(nt!=null),8>we[0])de=7;else{if(_e||jt){if(Ye=je(Ye,Be+4),12<=Fe&&Ye>Fe-12){de=3;break e}if(V&&Ye>we[0]-8){de=7;break e}Ee[0]=Ye,de[0]+=8,we[0]-=8,nt[0]=jt}else nt[0]=5<=we[0]&&Ye[Be+0]==47&&!(Ye[Be+4]>>5),Ee[0]=we[0];de=0}if(x=x[0],re.Ja=re.Ja[0],re.xa=re.xa[0],f=f[0],de!=0)break;if(4294967286<re.Ja)return 3;if(O==null||be||(O[0]=re.xa?2:1),D=[D],ce=[ce],re.xa){if(5>x){de=7;break}O=D,V=ce,be=F,u==null||5>x?u=0:5<=x&&u[f+0]==47&&!(u[f+4]>>5)?(we=[0],Ye=[0],Fe=[0],te(Ee=new q,u,f,x),ct(Ee,we,Ye,Fe)?(O!=null&&(O[0]=we[0]),V!=null&&(V[0]=Ye[0]),be!=null&&(be[0]=Fe[0]),u=1):u=0):u=0}else{if(10>x){de=7;break}O=ce,u==null||10>x||!wu(u,f+3,x-3)?u=0:(V=u[f+0]|u[f+1]<<8|u[f+2]<<16,be=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&V||3<(V>>1&7)||!(V>>4&1)||V>>5>=re.Ja||!be||!u?u=0:(D&&(D[0]=be),O&&(O[0]=u),u=1))}if(!u||(D=D[0],ce=ce[0],fe&&(W[0]!=D||ee[0]!=ce)))return 3;B!=null&&(B[0]=re,B.offset=f-B.w,t(4294967286>f-B.w),t(B.offset==B.ha-x));break}return de==0||de==7&&fe&&B==null?(F!=null&&(F[0]|=re.na!=null&&0<re.na.length),N!=null&&(N[0]=D),L!=null&&(L[0]=ce),0):de}function ql(u,f,x){var N=f.width,L=f.height,F=0,D=0,O=N,B=L;if(f.Da=u!=null&&0<u.Da,f.Da&&(O=u.cd,B=u.bd,F=u.v,D=u.j,11>x||(F&=-2,D&=-2),0>F||0>D||0>=O||0>=B||F+O>N||D+B>L))return 0;if(f.v=F,f.j=D,f.va=F+O,f.o=D+B,f.U=O,f.T=B,f.da=u!=null&&0<u.da,f.da){if(!Ve(O,B,x=[u.ib],F=[u.hb]))return 0;f.ib=x[0],f.hb=F[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*N/4&&f.hb<3*L/4,f.Kb=0),1}function Hl(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function Os(u,f,x,N){if(N==null||0>=u||0>=f)return 2;if(x!=null){if(x.Da){var L=x.cd,F=x.bd,D=-2&x.v,O=-2&x.j;if(0>D||0>O||0>=L||0>=F||D+L>u||O+F>f)return 2;u=L,f=F}if(x.da){if(!Ve(u,f,L=[x.ib],F=[x.hb]))return 2;u=L[0],f=F[0]}}N.width=u,N.height=f;e:{var B=N.width,W=N.height;if(u=N.S,0>=B||0>=W||!(u>=Iu&&13>u))u=2;else{if(0>=N.Rd&&N.sd==null){D=F=L=f=0;var ee=(O=B*L1[u])*W;if(11>u||(F=(W+1)/2*(f=(B+1)/2),u==12&&(D=(L=B)*W)),(W=s(ee+2*F+D))==null){u=1;break e}N.sd=W,11>u?((B=N.f.RGBA).eb=W,B.fb=0,B.A=O,B.size=ee):((B=N.f.kb).y=W,B.O=0,B.fa=O,B.Fd=ee,B.f=W,B.N=0+ee,B.Ab=f,B.Cd=F,B.ea=W,B.W=0+ee+F,B.Db=f,B.Ed=F,u==12&&(B.F=W,B.J=0+ee+2*F),B.Tc=D,B.lb=L)}if(f=1,L=N.S,F=N.width,D=N.height,L>=Iu&&13>L)if(11>L)u=N.f.RGBA,f&=(O=Math.abs(u.A))*(D-1)+F<=u.size,f&=O>=F*L1[L],f&=u.eb!=null;else{u=N.f.kb,O=(F+1)/2,ee=(D+1)/2,B=Math.abs(u.fa),W=Math.abs(u.Ab);var fe=Math.abs(u.Db),V=Math.abs(u.lb),re=V*(D-1)+F;f&=B*(D-1)+F<=u.Fd,f&=W*(ee-1)+O<=u.Cd,f=(f&=fe*(ee-1)+O<=u.Ed)&B>=F&W>=O&fe>=O,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,L==12&&(f&=V>=F,f&=re<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||x!=null&&x.fd&&(u=Hl(N)),u}var Ba=64,Br=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ur=24,zs=32,hs=8,Bs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(u){return u},_.Predictor2=function(u,f,x){return f[x+0]},_.Predictor3=function(u,f,x){return f[x+1]},_.Predictor4=function(u,f,x){return f[x-1]},_.Predictor5=function(u,f,x){return Je(Je(u,f[x+1]),f[x+0])},_.Predictor6=function(u,f,x){return Je(u,f[x-1])},_.Predictor7=function(u,f,x){return Je(u,f[x+0])},_.Predictor8=function(u,f,x){return Je(f[x-1],f[x+0])},_.Predictor9=function(u,f,x){return Je(f[x+0],f[x+1])},_.Predictor10=function(u,f,x){return Je(Je(u,f[x-1]),Je(f[x+0],f[x+1]))},_.Predictor11=function(u,f,x){var N=f[x+0];return 0>=ot(N>>24&255,u>>24&255,(f=f[x-1])>>24&255)+ot(N>>16&255,u>>16&255,f>>16&255)+ot(N>>8&255,u>>8&255,f>>8&255)+ot(255&N,255&u,255&f)?N:u},_.Predictor12=function(u,f,x){var N=f[x+0];return(Pt((u>>24&255)+(N>>24&255)-((f=f[x-1])>>24&255))<<24|Pt((u>>16&255)+(N>>16&255)-(f>>16&255))<<16|Pt((u>>8&255)+(N>>8&255)-(f>>8&255))<<8|Pt((255&u)+(255&N)-(255&f)))>>>0},_.Predictor13=function(u,f,x){var N=f[x-1];return(bt((u=Je(u,f[x+0]))>>24&255,N>>24&255)<<24|bt(u>>16&255,N>>16&255)<<16|bt(u>>8&255,N>>8&255)<<8|bt(255&u,255&N))>>>0};var $l=_.PredictorAdd0;_.PredictorAdd1=kt,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var jo=_.PredictorAdd2;Qe("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Sn,Tu=_.ColorIndexInverseTransform,qi=_.MapARGB,Hi=_.VP8LColorIndexInverseTransformAlpha,Wl=_.MapAlpha,Vl=_.VP8LPredictorsAdd=[];Vl.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Gl,Yl,Us,qs,Hs,Ua,$s,qa,ci,$i,qt,Xt,kn,zn,ps,Zl,So,Du,n1,r1,i1,s1,a1,o1,Kl,l1,c1,u1,d1=s(511),f1=s(2041),h1=s(225),p1=s(767),m1=0,uh=f1,Ru=h1,qr=p1,ui=d1,Iu=0,Mu=1,g1=2,Ou=3,zu=4,dh=5,x1=6,fh=7,hh=8,Bu=9,ph=10,Vb=[2,3,7],Gb=[3,3,11],v1=[280,256,256,256,40],Yb=[0,1,1,1,0],Zb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Kb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jb=8,mh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xl=null,Qb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ew=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],y1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],iw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ws=[],Ni=[],ms=[],sw=1,b1=2,Vs=[],di=[];ds("UpsampleRgbLinePair",Ms,3),ds("UpsampleBgrLinePair",Xn,3),ds("UpsampleRgbaLinePair",br,4),ds("UpsampleBgraLinePair",Ul,4),ds("UpsampleArgbLinePair",Bl,4),ds("UpsampleRgba4444LinePair",Oa,2),ds("UpsampleRgb565LinePair",Ma,2);var aw=_.UpsampleRgbLinePair,ow=_.UpsampleBgrLinePair,w1=_.UpsampleRgbaLinePair,N1=_.UpsampleBgraLinePair,_1=_.UpsampleArgbLinePair,j1=_.UpsampleRgba4444LinePair,lw=_.UpsampleRgb565LinePair,Uu=16,qu=1<<Uu-1,Jl=-227,xh=482,S1=6,cw=(256<<S1)-1,k1=0,uw=s(256),dw=s(256),fw=s(256),hw=s(256),pw=s(xh-Jl),mw=s(xh-Jl);fs("YuvToRgbRow",Ms,3),fs("YuvToBgrRow",Xn,3),fs("YuvToRgbaRow",br,4),fs("YuvToBgraRow",Ul,4),fs("YuvToArgbRow",Bl,4),fs("YuvToRgba4444Row",Oa,2),fs("YuvToRgb565Row",Ma,2);var A1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hu=[0,2,8],gw=[8,7,6,4,4,2,2,2,1,1,1,1],xw=1;this.WebPDecodeRGBA=function(u,f,x,N,L){var F=Mu,D=new Ne,O=new _t;D.ba=O,O.S=F,O.width=[O.width],O.height=[O.height];var B=O.width,W=O.height,ee=new ie;if(ee==null||u==null)var fe=2;else t(ee!=null),fe=za(u,f,x,ee.width,ee.height,ee.Pd,ee.Qd,ee.format,null);if(fe!=0?B=0:(B!=null&&(B[0]=ee.width[0]),W!=null&&(W[0]=ee.height[0]),B=1),B){O.width=O.width[0],O.height=O.height[0],N!=null&&(N[0]=O.width),L!=null&&(L[0]=O.height);e:{if(N=new xo,(L=new Ce).data=u,L.w=f,L.ha=x,L.kd=1,f=[0],t(L!=null),((u=za(L.data,L.w,L.ha,null,null,null,f,null,L))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(t(D!=null),N.data=L.data,N.w=L.w+L.offset,N.ha=L.ha-L.offset,N.put=Oe,N.ac=Re,N.bc=pe,N.ma=D,L.xa){if((u=or())==null){D=1;break e}if(function(V,re){var ce=[0],be=[0],de=[0];t:for(;;){if(V==null)return 0;if(re==null)return V.a=2,0;if(V.l=re,V.a=0,te(V.m,re.data,re.w,re.ha),!ct(V.m,ce,be,de)){V.a=3;break t}if(V.xb=b1,re.width=ce[0],re.height=be[0],!Cr(ce[0],be[0],1,V,null))break t;return 1}return t(V.a!=0),0}(u,N)){if(N=(f=Os(N.width,N.height,D.Oa,D.ba))==0){t:{N=u;n:for(;;){if(N==null){N=0;break t}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((x=N.l)!=null),t((L=x.ma)!=null),N.xb!=0){if(N.ca=L.ba,N.tb=L.tb,t(N.ca!=null),!ql(L.Oa,x,Ou)){N.a=2;break n}if(!si(N,x.width)||x.da)break n;if((x.da||st(N.ca.S))&&wi(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&wi()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!z(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Zt(N,N.V,N.Ba,N.c,N.i,x.o,at))break n;L.Dc=N.Ma,N=1;break t}t(N.a!=0),N=0}N=!N}N&&(f=u.a)}else f=u.a}else{if((u=new Zf)==null){D=1;break e}if(u.Fa=L.na,u.P=L.P,u.qc=L.Sa,Bi(u,N)){if((f=Os(N.width,N.height,D.Oa,D.ba))==0){if(u.Aa=0,x=D.Oa,t((L=u)!=null),x!=null){if(0<(B=0>(B=x.Md)?0:100<B?255:255*B/100)){for(W=ee=0;4>W;++W)12>(fe=L.pb[W]).lc&&(fe.ia=B*gw[0>fe.lc?0:fe.lc]>>3),ee|=fe.ia;ee&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=x.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function(V,re){if(V==null)return 0;if(re==null)return Tn(V,2,"NULL VP8Io parameter in VP8Decode().");if(!V.cb&&!Bi(V,re))return 0;if(t(V.cb),re.ac==null||re.ac(re)){re.ob&&(V.L=0);var ce=Hu[V.L];if(V.L==2?(V.yb=0,V.zb=0):(V.yb=re.v-ce>>4,V.zb=re.j-ce>>4,0>V.yb&&(V.yb=0),0>V.zb&&(V.zb=0)),V.Va=re.o+15+ce>>4,V.Hb=re.va+15+ce>>4,V.Hb>V.za&&(V.Hb=V.za),V.Va>V.Ub&&(V.Va=V.Ub),0<V.L){var be=V.ed;for(ce=0;4>ce;++ce){var de;if(V.Qa.Cb){var we=V.Qa.Lb[ce];V.Qa.Fb||(we+=be.Tb)}else we=be.Tb;for(de=0;1>=de;++de){var _e=V.gd[ce][de],Fe=we;if(be.Pc&&(Fe+=be.vd[0],de&&(Fe+=be.od[0])),0<(Fe=0>Fe?0:63<Fe?63:Fe)){var Ee=Fe;0<be.wb&&(Ee=4<be.wb?Ee>>2:Ee>>1)>9-be.wb&&(Ee=9-be.wb),1>Ee&&(Ee=1),_e.dd=Ee,_e.tc=2*Fe+Ee,_e.ld=40<=Fe?2:15<=Fe?1:0}else _e.tc=0;_e.La=de}}}ce=0}else Tn(V,6,"Frame setup failed"),ce=V.a;if(ce=ce==0){if(ce){V.$c=0,0<V.Aa||(V.Ic=xw);t:{ce=V.Ic,be=4*(Ee=V.za);var nt=32*Ee,Be=Ee+1,jt=0<V.L?Ee*(0<V.Aa?2:1):0,Ye=(V.Aa==2?2:1)*Ee;if((_e=be+832+(de=3*(16*ce+Hu[V.L])/2*nt)+(we=V.Fa!=null&&0<V.Fa.length?V.Kc.c*V.Kc.i:0))!=_e)ce=0;else{if(_e>V.Vb){if(V.Vb=0,V.Ec=s(_e),V.Fc=0,V.Ec==null){ce=Tn(V,1,"no memory during frame initialization.");break t}V.Vb=_e}_e=V.Ec,Fe=V.Fc,V.Ac=_e,V.Bc=Fe,Fe+=be,V.Gd=o(nt,yu),V.Hd=0,V.rb=o(Be+1,Cl),V.sb=1,V.wa=jt?o(jt,ai):null,V.Y=0,V.D.Nb=0,V.D.wa=V.wa,V.D.Y=V.Y,0<V.Aa&&(V.D.Y+=Ee),t(!0),V.oc=_e,V.pc=Fe,Fe+=832,V.ya=o(Ye,El),V.aa=0,V.D.ya=V.ya,V.D.aa=V.aa,V.Aa==2&&(V.D.aa+=Ee),V.R=16*Ee,V.B=8*Ee,Ee=(nt=Hu[V.L])*V.R,nt=nt/2*V.B,V.sa=_e,V.ta=Fe+Ee,V.qa=V.sa,V.ra=V.ta+16*ce*V.R+nt,V.Ha=V.qa,V.Ia=V.ra+8*ce*V.B+nt,V.$c=0,Fe+=de,V.mb=we?_e:null,V.nb=we?Fe:null,t(Fe+we<=V.Fc+V.Vb),Nu(V),i(V.Ac,V.Bc,0,be),ce=1}}if(ce){if(re.ka=0,re.y=V.sa,re.O=V.ta,re.f=V.qa,re.N=V.ra,re.ea=V.Ha,re.Vd=V.Ia,re.fa=V.R,re.Rc=V.B,re.F=null,re.J=0,!m1){for(ce=-255;255>=ce;++ce)d1[255+ce]=0>ce?-ce:ce;for(ce=-1020;1020>=ce;++ce)f1[1020+ce]=-128>ce?-128:127<ce?127:ce;for(ce=-112;112>=ce;++ce)h1[112+ce]=-16>ce?-16:15<ce?15:ce;for(ce=-255;510>=ce;++ce)p1[255+ce]=0>ce?0:255<ce?255:ce;m1=1}$s=yo,qa=Xf,$i=Ui,qt=ju,Xt=Su,ci=Kf,kn=Eu,zn=Da,ps=A,Zl=Y,So=Pu,Du=m,n1=J,r1=oe,i1=Ta,s1=Ol,a1=Lu,o1=Cu,Ni[0]=sh,Ni[1]=Jf,Ni[2]=rh,Ni[3]=ih,Ni[4]=is,Ni[5]=ah,Ni[6]=ss,Ni[7]=oh,Ni[8]=Tl,Ni[9]=bo,Ws[0]=th,Ws[1]=eh,Ws[2]=Pl,Ws[3]=ku,Ws[4]=Pa,Ws[5]=Fl,Ws[6]=nh,ms[0]=ch,ms[1]=Qf,ms[2]=Fa,ms[3]=lh,ms[4]=Rl,ms[5]=Dl,ms[6]=Au,ce=1}else ce=0}ce&&(ce=function(Tt,Bn){for(Tt.M=0;Tt.M<Tt.Va;++Tt.M){var St,Ze=Tt.Jc[Tt.M&Tt.Xb],Ie=Tt.m,An=Tt;for(St=0;St<An.za;++St){var xt=Ie,Rt=An,sn=Rt.Ac,Jn=Rt.Bc+4*St,wr=Rt.zc,vn=Rt.ya[Rt.aa+St];if(Rt.Qa.Bb?vn.$b=he(xt,Rt.Pa.jb[0])?2+he(xt,Rt.Pa.jb[2]):he(xt,Rt.Pa.jb[1]):vn.$b=0,Rt.kc&&(vn.Ad=he(xt,Rt.Bd)),vn.Za=!he(xt,145)+0,vn.Za){var cr=vn.Ob,Nr=0;for(Rt=0;4>Rt;++Rt){var Un,Mt=wr[0+Rt];for(Un=0;4>Un;++Un){Mt=nw[sn[Jn+Un]][Mt];for(var Ht=y1[he(xt,Mt[0])];0<Ht;)Ht=y1[2*Ht+he(xt,Mt[Ht])];Mt=-Ht,sn[Jn+Un]=Mt}r(cr,Nr,sn,Jn,4),Nr+=4,wr[0+Rt]=Mt}}else Mt=he(xt,156)?he(xt,128)?1:3:he(xt,163)?2:0,vn.Ob[0]=Mt,i(sn,Jn,Mt,4),i(wr,0,Mt,4);vn.Dd=he(xt,142)?he(xt,114)?he(xt,183)?1:3:2:0}if(An.m.Ka)return Tn(Tt,7,"Premature end-of-partition0 encountered.");for(;Tt.ja<Tt.za;++Tt.ja){if(An=Ze,xt=(Ie=Tt).rb[Ie.sb-1],sn=Ie.rb[Ie.sb+Ie.ja],St=Ie.ya[Ie.aa+Ie.ja],Jn=Ie.kc?St.Ad:0)xt.la=sn.la=0,St.Za||(xt.Na=sn.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var yn,$t;if(xt=sn,sn=An,Jn=Ie.Pa.Xc,wr=Ie.ya[Ie.aa+Ie.ja],vn=Ie.pb[wr.$b],Rt=wr.ad,cr=0,Nr=Ie.rb[Ie.sb-1],Mt=Un=0,i(Rt,cr,0,384),wr.Za)var Qn=0,_i=Jn[3];else{Ht=s(16);var Ln=xt.Na+Nr.Na;if(Ln=Xl(sn,Jn[1],Ln,vn.Eb,0,Ht,0),xt.Na=Nr.Na=(0<Ln)+0,1<Ln)$s(Ht,0,Rt,cr);else{var Pr=Ht[0]+3>>3;for(Ht=0;256>Ht;Ht+=16)Rt[cr+Ht]=Pr}Qn=1,_i=Jn[0]}var Jt=15&xt.la,qn=15&Nr.la;for(Ht=0;4>Ht;++Ht){var Hr=1&qn;for(Pr=$t=0;4>Pr;++Pr)Jt=Jt>>1|(Hr=(Ln=Xl(sn,_i,Ln=Hr+(1&Jt),vn.Sc,Qn,Rt,cr))>Qn)<<7,$t=$t<<2|(3<Ln?3:1<Ln?2:Rt[cr+0]!=0),cr+=16;Jt>>=4,qn=qn>>1|Hr<<7,Un=(Un<<8|$t)>>>0}for(_i=Jt,Qn=qn>>4,yn=0;4>yn;yn+=2){for($t=0,Jt=xt.la>>4+yn,qn=Nr.la>>4+yn,Ht=0;2>Ht;++Ht){for(Hr=1&qn,Pr=0;2>Pr;++Pr)Ln=Hr+(1&Jt),Jt=Jt>>1|(Hr=0<(Ln=Xl(sn,Jn[2],Ln,vn.Qc,0,Rt,cr)))<<3,$t=$t<<2|(3<Ln?3:1<Ln?2:Rt[cr+0]!=0),cr+=16;Jt>>=2,qn=qn>>1|Hr<<5}Mt|=$t<<4*yn,_i|=Jt<<4<<yn,Qn|=(240&qn)<<yn}xt.la=_i,Nr.la=Qn,wr.Hc=Un,wr.Gc=Mt,wr.ia=43690&Mt?0:vn.ia,Jn=!(Un|Mt)}if(0<Ie.L&&(Ie.wa[Ie.Y+Ie.ja]=Ie.gd[St.$b][St.Za],Ie.wa[Ie.Y+Ie.ja].La|=!Jn),An.Ka)return Tn(Tt,7,"Premature end-of-file encountered.")}if(Nu(Tt),Ie=Bn,An=1,St=(Ze=Tt).D,xt=0<Ze.L&&Ze.M>=Ze.zb&&Ze.M<=Ze.Va,Ze.Aa==0)t:{if(St.M=Ze.M,St.uc=xt,li(Ze,St),An=1,St=($t=Ze.D).Nb,xt=(Mt=Hu[Ze.L])*Ze.R,sn=Mt/2*Ze.B,Ht=16*St*Ze.R,Pr=8*St*Ze.B,Jn=Ze.sa,wr=Ze.ta-xt+Ht,vn=Ze.qa,Rt=Ze.ra-sn+Pr,cr=Ze.Ha,Nr=Ze.Ia-sn+Pr,qn=(Jt=$t.M)==0,Un=Jt>=Ze.Va-1,Ze.Aa==2&&li(Ze,$t),$t.uc)for(Hr=(Ln=Ze).D.M,t(Ln.D.uc),$t=Ln.yb;$t<Ln.Hb;++$t){Qn=$t,_i=Hr;var _r=($r=(er=Ln).D).Nb;yn=er.R;var $r=$r.wa[$r.Y+Qn],Wr=er.sa,Fr=er.ta+16*_r*yn+16*Qn,Vr=$r.dd,nn=$r.tc;if(nn!=0)if(t(3<=nn),er.L==1)0<Qn&&s1(Wr,Fr,yn,nn+4),$r.La&&o1(Wr,Fr,yn,nn),0<_i&&i1(Wr,Fr,yn,nn+4),$r.La&&a1(Wr,Fr,yn,nn);else{var Gr=er.B,ji=er.qa,Ha=er.ra+8*_r*Gr+8*Qn,gs=er.Ha,er=er.Ia+8*_r*Gr+8*Qn;_r=$r.ld,0<Qn&&(zn(Wr,Fr,yn,nn+4,Vr,_r),Zl(ji,Ha,gs,er,Gr,nn+4,Vr,_r)),$r.La&&(Du(Wr,Fr,yn,nn,Vr,_r),r1(ji,Ha,gs,er,Gr,nn,Vr,_r)),0<_i&&(kn(Wr,Fr,yn,nn+4,Vr,_r),ps(ji,Ha,gs,er,Gr,nn+4,Vr,_r)),$r.La&&(So(Wr,Fr,yn,nn,Vr,_r),n1(ji,Ha,gs,er,Gr,nn,Vr,_r))}}if(Ze.ia&&alert("todo:DitherRow"),Ie.put!=null){if($t=16*Jt,Jt=16*(Jt+1),qn?(Ie.y=Ze.sa,Ie.O=Ze.ta+Ht,Ie.f=Ze.qa,Ie.N=Ze.ra+Pr,Ie.ea=Ze.Ha,Ie.W=Ze.Ia+Pr):($t-=Mt,Ie.y=Jn,Ie.O=wr,Ie.f=vn,Ie.N=Rt,Ie.ea=cr,Ie.W=Nr),Un||(Jt-=Mt),Jt>Ie.o&&(Jt=Ie.o),Ie.F=null,Ie.J=null,Ze.Fa!=null&&0<Ze.Fa.length&&$t<Jt&&(Ie.J=tn(Ze,Ie,$t,Jt-$t),Ie.F=Ze.mb,Ie.F==null&&Ie.F.length==0)){An=Tn(Ze,3,"Could not decode alpha data.");break t}$t<Ie.j&&(Mt=Ie.j-$t,$t=Ie.j,t(!(1&Mt)),Ie.O+=Ze.R*Mt,Ie.N+=Ze.B*(Mt>>1),Ie.W+=Ze.B*(Mt>>1),Ie.F!=null&&(Ie.J+=Ie.width*Mt)),$t<Jt&&(Ie.O+=Ie.v,Ie.N+=Ie.v>>1,Ie.W+=Ie.v>>1,Ie.F!=null&&(Ie.J+=Ie.v),Ie.ka=$t-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=Jt-$t,An=Ie.put(Ie))}St+1!=Ze.Ic||Un||(r(Ze.sa,Ze.ta-xt,Jn,wr+16*Ze.R,xt),r(Ze.qa,Ze.ra-sn,vn,Rt+8*Ze.B,sn),r(Ze.Ha,Ze.Ia-sn,cr,Nr+8*Ze.B,sn))}if(!An)return Tn(Tt,6,"Output aborted.")}return 1}(V,re)),re.bc!=null&&re.bc(re),ce&=1}return ce?(V.cb=0,ce):0})(u,N)||(f=u.a)}}else f=u.a}f==0&&D.Oa!=null&&D.Oa.fd&&(f=Hl(D.ba))}D=f}F=D!=0?null:11>F?O.f.RGBA.eb:O.f.kb.y}else F=null;return F};var L1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,j){for(var E="",R=0;R<4;R++)E+=String.fromCharCode(_[j++]);return E}function h(_,j){return _[j+0]|_[j+1]<<8}function b(_,j){return(_[j+0]|_[j+1]<<8|_[j+2]<<16)>>>0}function y(_,j){return(_[j+0]|_[j+1]<<8|_[j+2]<<16|_[j+3]<<24)>>>0}new c;var p=[0],S=[0],C=[],I=new c,g=e,v=function(_,j){var E={},R=0,Z=!1,G=0,se=0;if(E.frames=[],!function(P,q){for(var $=0;$<4;$++)if(P[q+$]!="RIFF".charCodeAt($))return!0;return!1}(_,j)){for(y(_,j+=4),j+=8;j<_.length;){var le=d(_,j),ae=y(_,j+=4);j+=4;var U=ae+(1&ae);switch(le){case"VP8 ":case"VP8L":E.frames[R]===void 0&&(E.frames[R]={}),(me=E.frames[R]).src_off=Z?se:j-8,me.src_size=G+ae+8,R++,Z&&(Z=!1,G=0,se=0);break;case"VP8X":(me=E.header={}).feature_flags=_[j];var te=j+4;me.canvas_width=1+b(_,te),te+=3,me.canvas_height=1+b(_,te),te+=3;break;case"ALPH":Z=!0,G=U+8,se=j-8;break;case"ANIM":(me=E.header).bgcolor=y(_,j),te=j+4,me.loop_count=h(_,te),te+=2;break;case"ANMF":var ue,me;(me=E.frames[R]={}).offset_x=2*b(_,j),j+=3,me.offset_y=2*b(_,j),j+=3,me.width=1+b(_,j),j+=3,me.height=1+b(_,j),j+=3,me.duration=b(_,j),j+=3,ue=_[j++],me.dispose=1&ue,me.blend=ue>>1&1}le!="ANMF"&&(j+=U)}return E}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var w=v.header?v.header:null,k=v.frames?v.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],S=[w.canvas_width];for(var H=0;H<k.length&&k[H].blend!=0;H++);}var M=k[0],K=I.WebPDecodeRGBA(g,M.src_off,M.src_size,S,p);M.rgba=K,M.imgwidth=S[0],M.imgheight=p[0];for(var T=0;T<S[0]*p[0]*4;T++)C[T]=K[T];return this.width=S,this.height=p,this.data=C,this}(function(e){var t,n,r,i,s,o,l,c,d,h=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new c,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new b(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var b=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=P;Object.defineProperty(this,"pdf",{get:function(){return q}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(z){$=!!z}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(z){X=!!z}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(z){isNaN(z)||(Q=z)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(z){isNaN(z)||(ne=z)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(z){var Pe;typeof z=="number"?Pe=[z,z,z,z]:((Pe=new Array(4))[0]=z[0],Pe[1]=z.length>=2?z[1]:Pe[0],Pe[2]=z.length>=3?z[2]:Pe[0],Pe[3]=z.length>=4?z[3]:Pe[1]),d.margin=Pe}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(z){xe=z}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(z){ge=z}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(z){he=z}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(z){z instanceof h&&(d=z)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(z){d.path=z}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(z){Se=z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(z){var Pe;Pe=y(z),this.ctx.fillStyle=Pe.style,this.ctx.isFillTransparent=Pe.a===0,this.ctx.fillOpacity=Pe.a,this.pdf.setFillColor(Pe.r,Pe.g,Pe.b,{a:Pe.a}),this.pdf.setTextColor(Pe.r,Pe.g,Pe.b,{a:Pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(z){var Pe=y(z);this.ctx.strokeStyle=Pe.style,this.ctx.isStrokeTransparent=Pe.a===0,this.ctx.strokeOpacity=Pe.a,Pe.a===0?this.pdf.setDrawColor(255,255,255):(Pe.a,this.pdf.setDrawColor(Pe.r,Pe.g,Pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(z){["butt","round","square"].indexOf(z)!==-1&&(this.ctx.lineCap=z,this.pdf.setLineCap(z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(z){isNaN(z)||(this.ctx.lineWidth=z,this.pdf.setLineWidth(z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(z){["bevel","round","miter"].indexOf(z)!==-1&&(this.ctx.lineJoin=z,this.pdf.setLineJoin(z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(z){isNaN(z)||(this.ctx.miterLimit=z,this.pdf.setMiterLimit(z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(z){this.ctx.textBaseline=z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(z){["right","end","center","left","start"].indexOf(z)!==-1&&(this.ctx.textAlign=z)}});var ke=null,Te=null,je=null;Object.defineProperty(this,"fontFaces",{get:function(){return je},set:function(z){ke=null,Te=null,je=z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(z){var Pe;if(this.ctx.font=z,(Pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(z))!==null){var We=Pe[1];Pe[2];var Ve=Pe[3],Le=Pe[4];Pe[5];var Ke=Pe[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(Me==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var tt=function(Qe){var dn,Ft,wt=[],Nt=Qe.trim();if(Nt==="")return k0;if(Nt in yx)return[yx[Nt]];for(;Nt!=="";){switch(Ft=null,dn=(Nt=wx(Nt)).charAt(0)){case'"':case"'":Ft=wk(Nt.substring(1),dn);break;default:Ft=Nk(Nt)}if(Ft===null||(wt.push(Ft[0]),(Nt=wx(Ft[1]))!==""&&Nt.charAt(0)!==","))return k0;Nt=Nt.replace(/^,/,"")}return wt}(Ke);if(this.fontFaces){var Je=function(Qe,dn){var Ft=Qe.getFontList(),wt=JSON.stringify(Ft);if(ke===null||Te!==wt){var Nt=function(en){var it=[];return Object.keys(en).forEach(function(Yt){en[Yt].forEach(function(st){var dt=null;switch(st){case"bold":dt={family:Yt,weight:"bold"};break;case"italic":dt={family:Yt,style:"italic"};break;case"bolditalic":dt={family:Yt,weight:"bold",style:"italic"};break;case"":case"normal":dt={family:Yt}}dt!==null&&(dt.ref={name:Yt,style:st},it.push(dt))})}),it}(Ft);ke=function(en){for(var it={},Yt=0;Yt<en.length;++Yt){var st=S0(en[Yt]),dt=st.family,Kt=st.stretch,_t=st.style,ie=st.weight;it[dt]=it[dt]||{},it[dt][Kt]=it[dt][Kt]||{},it[dt][Kt][_t]=it[dt][Kt][_t]||{},it[dt][Kt][_t][ie]=st}return it}(Nt.concat(dn)),Te=wt}return ke}(this.pdf,this.fontFaces),Pt=tt.map(function(Qe){return{family:Qe,stretch:"normal",weight:Ve,style:We}}),bt=function(Qe,dn,Ft){for(var wt=(Ft=Ft||{}).defaultFontFamily||"times",Nt=Object.assign({},bk,Ft.genericFontFamilies||{}),en=null,it=null,Yt=0;Yt<dn.length;++Yt)if(Nt[(en=S0(dn[Yt])).family]&&(en.family=Nt[en.family]),Qe.hasOwnProperty(en.family)){it=Qe[en.family];break}if(!(it=it||Qe[wt]))throw new Error("Could not find a font-family for the rule '"+bx(en)+"' and default family '"+wt+"'.");if(it=function(st,dt){if(dt[st])return dt[st];var Kt=Wp[st],_t=Kt<=Wp.normal?-1:1,ie=vx(dt,Cb,Kt,_t);if(!ie)throw new Error("Could not find a matching font-stretch value for "+st);return ie}(en.stretch,it),it=function(st,dt){if(dt[st])return dt[st];for(var Kt=Lb[st],_t=0;_t<Kt.length;++_t)if(dt[Kt[_t]])return dt[Kt[_t]];throw new Error("Could not find a matching font-style for "+st)}(en.style,it),!(it=function(st,dt){if(dt[st])return dt[st];if(st===400&&dt[500])return dt[500];if(st===500&&dt[400])return dt[400];var Kt=yk[st],_t=vx(dt,Eb,Kt,st<400?-1:1);if(!_t)throw new Error("Could not find a matching font-weight for value "+st);return _t}(en.weight,it)))throw new Error("Failed to resolve a font for the rule '"+bx(en)+"'.");return it}(Je,Pt);this.pdf.setFont(bt.ref.name,bt.ref.style)}else{var ot="";(Ve==="bold"||parseInt(Ve,10)>=700||We==="bold")&&(ot="bold"),We==="italic"&&(ot+="italic"),ot.length===0&&(ot="normal");for(var kt="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ge=0;Ge<tt.length;Ge++){if(this.pdf.internal.getFont(tt[Ge],ot,{noFallback:!0,disableWarning:!0})!==void 0){kt=tt[Ge];break}if(ot==="bolditalic"&&this.pdf.internal.getFont(tt[Ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)kt=tt[Ge],ot="bold";else if(this.pdf.internal.getFont(tt[Ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){kt=tt[Ge],ot="normal";break}}if(kt===""){for(var mt=0;mt<tt.length;mt++)if(Lt[tt[mt]]){kt=Lt[tt[mt]];break}}kt=kt===""?"Times":kt,this.pdf.setFont(kt,ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(z){this.ctx.globalCompositeOperation=z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(z){this.ctx.globalAlpha=z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(z){this.ctx.lineDashOffset=z,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(z){this.ctx.lineDash=z,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(z){this.ctx.ignoreClearRect=!!z}})};b.prototype.setLineDash=function(P){this.lineDash=P},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){k.call(this,"fill",!1)},b.prototype.stroke=function(){k.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(P,q){if(isNaN(P)||isNaN(q))throw Qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new o(P,q));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new o(P,q)},b.prototype.closePath=function(){var P=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Vt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){P=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},b.prototype.lineTo=function(P,q){if(isNaN(P)||isNaN(q))throw Qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new o(P,q));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new o($.x,$.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},b.prototype.quadraticCurveTo=function(P,q,$,X){if(isNaN($)||isNaN(X)||isNaN(P)||isNaN(q))throw Qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new o($,X)),ne=this.ctx.transform.applyToPoint(new o(P,q));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},b.prototype.bezierCurveTo=function(P,q,$,X,Q,ne){if(isNaN(Q)||isNaN(ne)||isNaN(P)||isNaN(q)||isNaN($)||isNaN(X))throw Qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(Q,ne)),ge=this.ctx.transform.applyToPoint(new o(P,q)),he=this.ctx.transform.applyToPoint(new o($,X));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:he.x,y2:he.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},b.prototype.arc=function(P,q,$,X,Q,ne){if(isNaN(P)||isNaN(q)||isNaN($)||isNaN(X)||isNaN(Q))throw Qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(P,q));P=xe.x,q=xe.y;var ge=this.ctx.transform.applyToPoint(new o(0,$)),he=this.ctx.transform.applyToPoint(new o(0,0));$=Math.sqrt(Math.pow(ge.x-he.x,2)+Math.pow(ge.y-he.y,2))}Math.abs(Q-X)>=2*Math.PI&&(X=0,Q=2*Math.PI),this.path.push({type:"arc",x:P,y:q,radius:$,startAngle:X,endAngle:Q,counterclockwise:ne})},b.prototype.arcTo=function(P,q,$,X,Q){throw new Error("arcTo not implemented.")},b.prototype.rect=function(P,q,$,X){if(isNaN(P)||isNaN(q)||isNaN($)||isNaN(X))throw Qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,q),this.lineTo(P+$,q),this.lineTo(P+$,q+X),this.lineTo(P,q+X),this.lineTo(P,q),this.lineTo(P+$,q),this.lineTo(P,q)},b.prototype.fillRect=function(P,q,$,X){if(isNaN(P)||isNaN(q)||isNaN($)||isNaN(X))throw Qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,q,$,X),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},b.prototype.strokeRect=function(P,q,$,X){if(isNaN(P)||isNaN(q)||isNaN($)||isNaN(X))throw Qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(P,q,$,X),this.stroke())},b.prototype.clearRect=function(P,q,$,X){if(isNaN(P)||isNaN(q)||isNaN($)||isNaN(X))throw Qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,q,$,X))},b.prototype.save=function(P){P=typeof P!="boolean"||P;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},b.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(q),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(P){var q,$,X,Q;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))q=0,$=0,X=0,Q=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ne!==null)q=parseInt(ne[1]),$=parseInt(ne[2]),X=parseInt(ne[3]),Q=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)q=parseInt(ne[1]),$=parseInt(ne[2]),X=parseInt(ne[3]),Q=parseFloat(ne[4]);else{if(Q=1,typeof P=="string"&&P.charAt(0)!=="#"){var xe=new wb(P);P=xe.ok?xe.toHex():"#000000"}P.length===4?(q=P.substring(1,2),q+=q,$=P.substring(2,3),$+=$,X=P.substring(3,4),X+=X):(q=P.substring(1,3),$=P.substring(3,5),X=P.substring(5,7)),q=parseInt(q,16),$=parseInt($,16),X=parseInt(X,16)}}return{r:q,g:$,b:X,a:Q,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(P,q,$,X){if(isNaN(q)||isNaN($)||typeof P!="string")throw Qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!p.call(this)){var Q=U(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;R.call(this,{text:P,x:q,y:$,scale:ne,angle:Q,align:this.textAlign,maxWidth:X})}},b.prototype.strokeText=function(P,q,$,X){if(isNaN(q)||isNaN($)||typeof P!="string")throw Qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){X=isNaN(X)?void 0:X;var Q=U(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;R.call(this,{text:P,x:q,y:$,scale:ne,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:X})}},b.prototype.measureText=function(P){if(typeof P!="string")throw Qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,$=this.pdf.internal.scaleFactor,X=q.internal.getFontSize(),Q=q.getStringUnitWidth(P)*X/q.internal.scaleFactor;return new function(ne){var xe=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:Q*=Math.round(96*$/72*1e4)/1e4})},b.prototype.scale=function(P,q){if(isNaN(P)||isNaN(q))throw Qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new c(P,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply($)},b.prototype.rotate=function(P){if(isNaN(P))throw Qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},b.prototype.translate=function(P,q){if(isNaN(P)||isNaN(q))throw Qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new c(1,0,0,1,P,q);this.ctx.transform=this.ctx.transform.multiply($)},b.prototype.transform=function(P,q,$,X,Q,ne){if(isNaN(P)||isNaN(q)||isNaN($)||isNaN(X)||isNaN(Q)||isNaN(ne))throw Qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new c(P,q,$,X,Q,ne);this.ctx.transform=this.ctx.transform.multiply(xe)},b.prototype.setTransform=function(P,q,$,X,Q,ne){P=isNaN(P)?1:P,q=isNaN(q)?0:q,$=isNaN($)?0:$,X=isNaN(X)?1:X,Q=isNaN(Q)?0:Q,ne=isNaN(ne)?0:ne,this.ctx.transform=new c(P,q,$,X,Q,ne)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(P,q,$,X,Q,ne,xe,ge,he){var Se=this.pdf.getImageProperties(P),ke=1,Te=1,je=1,z=1;X!==void 0&&ge!==void 0&&(je=ge/X,z=he/Q,ke=Se.width/X*ge/X,Te=Se.height/Q*he/Q),ne===void 0&&(ne=q,xe=$,q=0,$=0),X!==void 0&&ge===void 0&&(ge=X,he=Q),X===void 0&&ge===void 0&&(ge=Se.width,he=Se.height);var Pe=this.ctx.transform.decompose(),We=U(Pe.rotate.shx),Ve=new c,Le=(Ve=(Ve=(Ve=Ve.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale)).applyToRectangle(new l(ne-q*je,xe-$*z,X*ke,Q*Te));if(this.autoPaging){for(var Ke,Me=I.call(this,Le),tt=[],Je=0;Je<Me.length;Je+=1)tt.indexOf(Me[Je])===-1&&tt.push(Me[Je]);w(tt);for(var Pt=tt[0],bt=tt[tt.length-1],ot=Pt;ot<bt+1;ot++){this.pdf.setPage(ot);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=ot===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=ot===1?0:Ge+(ot-2)*mt;if(this.ctx.clip_path.length!==0){var dn=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Ke,this.posX+this.margin[3],-Qe+Lt+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=dn}var Ft=JSON.parse(JSON.stringify(Le));Ft=v([Ft],this.posX+this.margin[3],-Qe+Lt+this.ctx.prevPageLastElemOffset)[0];var wt=(ot>Pt||ot<bt)&&C.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,mt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,We),wt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,We)};var I=function(P,q,$){var X=[];q=q||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":X.push(Math.floor((P.y+Q)/$)+1);break;case"arc":X.push(Math.floor((P.y+Q-P.radius)/$)+1),X.push(Math.floor((P.y+Q+P.radius)/$)+1);break;case"qct":var ne=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);X.push(Math.floor((ne.y+Q)/$)+1),X.push(Math.floor((ne.y+ne.h+Q)/$)+1);break;case"bct":var xe=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);X.push(Math.floor((xe.y+Q)/$)+1),X.push(Math.floor((xe.y+xe.h+Q)/$)+1);break;case"rect":X.push(Math.floor((P.y+Q)/$)+1),X.push(Math.floor((P.y+P.h+Q)/$)+1)}for(var ge=0;ge<X.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<X[ge];)g.call(this);return X},g=function(){var P=this.fillStyle,q=this.strokeStyle,$=this.font,X=this.lineCap,Q=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=q,this.font=$,this.lineCap=X,this.lineWidth=Q,this.lineJoin=ne},v=function(P,q,$){for(var X=0;X<P.length;X++)switch(P[X].type){case"bct":P[X].x2+=q,P[X].y2+=$;case"qct":P[X].x1+=q,P[X].y1+=$;default:P[X].x+=q,P[X].y+=$}return P},w=function(P){return P.sort(function(q,$){return q-$})},k=function(P,q){var $=this.fillStyle,X=this.strokeStyle,Q=this.lineCap,ne=this.lineWidth,xe=Math.abs(ne*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var he,Se,ke=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),je=[],z=0;z<Te.length;z++)if(Te[z].x!==void 0)for(var Pe=I.call(this,Te[z]),We=0;We<Pe.length;We+=1)je.indexOf(Pe[We])===-1&&je.push(Pe[We]);for(var Ve=0;Ve<je.length;Ve++)for(;this.pdf.internal.getNumberOfPages()<je[Ve];)g.call(this);w(je);for(var Le=je[0],Ke=je[je.length-1],Me=Le;Me<Ke+1;Me++){this.pdf.setPage(Me),this.fillStyle=$,this.strokeStyle=X,this.lineCap=Q,this.lineWidth=xe,this.lineJoin=ge;var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Me===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Me===1?0:Pt+(Me-2)*bt;if(this.ctx.clip_path.length!==0){var kt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(he,this.posX+this.margin[3],-ot+Je+this.ctx.prevPageLastElemOffset),H.call(this,P,!0),this.path=kt}if(Se=JSON.parse(JSON.stringify(ke)),this.path=v(Se,this.posX+this.margin[3],-ot+Je+this.ctx.prevPageLastElemOffset),q===!1||Me===0){var Lt=(Me>Le||Me<Ke)&&C.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,bt,null).clip().discardPath()),H.call(this,P,q),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}this.path=ke}else this.lineWidth=xe,H.call(this,P,q),this.lineWidth=ne},H=function(P,q){if((P!=="stroke"||q||!S.call(this))&&(P==="stroke"||q||!p.call(this))){for(var $,X,Q=[],ne=this.path,xe=0;xe<ne.length;xe++){var ge=ne[xe];switch(ge.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ge,deltas:[],abs:[]});break;case"lt":var he=Q.length;if(ne[xe-1]&&!isNaN(ne[xe-1].x)&&($=[ge.x-ne[xe-1].x,ge.y-ne[xe-1].y],he>0)){for(;he>=0;he--)if(Q[he-1].close!==!0&&Q[he-1].begin!==!0){Q[he-1].deltas.push($),Q[he-1].abs.push(ge);break}}break;case"bct":$=[ge.x1-ne[xe-1].x,ge.y1-ne[xe-1].y,ge.x2-ne[xe-1].x,ge.y2-ne[xe-1].y,ge.x-ne[xe-1].x,ge.y-ne[xe-1].y],Q[Q.length-1].deltas.push($);break;case"qct":var Se=ne[xe-1].x+2/3*(ge.x1-ne[xe-1].x),ke=ne[xe-1].y+2/3*(ge.y1-ne[xe-1].y),Te=ge.x+2/3*(ge.x1-ge.x),je=ge.y+2/3*(ge.y1-ge.y),z=ge.x,Pe=ge.y;$=[Se-ne[xe-1].x,ke-ne[xe-1].y,Te-ne[xe-1].x,je-ne[xe-1].y,z-ne[xe-1].x,Pe-ne[xe-1].y],Q[Q.length-1].deltas.push($);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ge)}}X=q?null:P==="stroke"?"stroke":"fill";for(var We=!1,Ve=0;Ve<Q.length;Ve++)if(Q[Ve].arc)for(var Le=Q[Ve].abs,Ke=0;Ke<Le.length;Ke++){var Me=Le[Ke];Me.type==="arc"?T.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,q,!We):Z.call(this,Me.x,Me.y),We=!0}else if(Q[Ve].close===!0)this.pdf.internal.out("h"),We=!1;else if(Q[Ve].begin!==!0){var tt=Q[Ve].start.x,Je=Q[Ve].start.y;G.call(this,Q[Ve].deltas,tt,Je),We=!0}X&&_.call(this,X),q&&j.call(this)}},M=function(P){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-$;case"top":return P+q-$;case"hanging":return P+q-2*$;case"middle":return P+q/2-$;default:return P}},K=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(q,$){this.colorStops.push([q,$])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(P,q,$,X,Q,ne,xe,ge,he){for(var Se=le.call(this,$,X,Q,ne),ke=0;ke<Se.length;ke++){var Te=Se[ke];ke===0&&(he?E.call(this,Te.x1+P,Te.y1+q):Z.call(this,Te.x1+P,Te.y1+q)),se.call(this,P,q,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}ge?j.call(this):_.call(this,xe)},_=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(P,q){this.pdf.internal.out(n(P)+" "+r(q)+" m")},R=function(P){var q;switch(P.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var $,X,Q,ne=this.pdf.getTextDimensions(P.text),xe=M.call(this,P.y),ge=K.call(this,xe)-ne.h,he=this.ctx.transform.applyToPoint(new o(P.x,xe));if(this.autoPaging){var Se=this.ctx.transform.decompose(),ke=new c;ke=(ke=(ke=ke.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var Te=this.ctx.transform.applyToRectangle(new l(P.x,xe,ne.w,ne.h)),je=ke.applyToRectangle(new l(P.x,ge,ne.w,ne.h)),z=I.call(this,je),Pe=[],We=0;We<z.length;We+=1)Pe.indexOf(z[We])===-1&&Pe.push(z[We]);w(Pe);for(var Ve=Pe[0],Le=Pe[Pe.length-1],Ke=Ve;Ke<Le+1;Ke++){this.pdf.setPage(Ke);var Me=Ke===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],Pt=Je-this.margin[0],bt=this.pdf.internal.pageSize.width-this.margin[1],ot=bt-this.margin[3],kt=Ke===1?0:tt+(Ke-2)*Pt;if(this.ctx.clip_path.length!==0){var Lt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v($,this.posX+this.margin[3],-1*kt+Me),H.call(this,"fill",!0),this.path=Lt}var Ge=v([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-kt+Me+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*P.scale),Q=this.lineWidth,this.lineWidth=Q*P.scale);var mt=this.autoPaging!=="text";if(mt||Ge.y+Ge.h<=Je){if(mt||Ge.y>=Me&&Ge.x<=bt){var Qe=mt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||bt-Ge.x)[0],dn=v([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-kt+Me+this.ctx.prevPageLastElemOffset)[0],Ft=mt&&(Ke>Ve||Ke<Le)&&C.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Pt,null).clip().discardPath()),this.pdf.text(Qe,dn.x,dn.y,{angle:P.angle,align:q,renderingMode:P.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else Ge.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-Ge.y);P.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=Q)}}else P.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*P.scale),Q=this.lineWidth,this.lineWidth=Q*P.scale),this.pdf.text(P.text,he.x+this.posX,he.y+this.posY,{angle:P.angle,align:q,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=Q)},Z=function(P,q,$,X){$=$||0,X=X||0,this.pdf.internal.out(n(P+$)+" "+r(q+X)+" l")},G=function(P,q,$){return this.pdf.lines(P,q,$,null,null)},se=function(P,q,$,X,Q,ne,xe,ge){this.pdf.internal.out([t(i($+P)),t(s(X+q)),t(i(Q+P)),t(s(ne+q)),t(i(xe+P)),t(s(ge+q)),"c"].join(" "))},le=function(P,q,$,X){for(var Q=2*Math.PI,ne=Math.PI/2;q>$;)q-=Q;var xe=Math.abs($-q);xe<Q&&X&&(xe=Q-xe);for(var ge=[],he=X?-1:1,Se=q;xe>1e-5;){var ke=Se+he*Math.min(xe,ne);ge.push(ae.call(this,P,Se,ke)),xe-=Math.abs(ke-Se),Se=ke}return ge},ae=function(P,q,$){var X=($-q)/2,Q=P*Math.cos(X),ne=P*Math.sin(X),xe=Q,ge=-ne,he=xe*xe+ge*ge,Se=he+xe*Q+ge*ne,ke=4/3*(Math.sqrt(2*he*Se)-Se)/(xe*ne-ge*Q),Te=xe-ke*ge,je=ge+ke*xe,z=Te,Pe=-je,We=X+q,Ve=Math.cos(We),Le=Math.sin(We);return{x1:P*Math.cos(q),y1:P*Math.sin(q),x2:Te*Ve-je*Le,y2:Te*Le+je*Ve,x3:z*Ve-Pe*Le,y3:z*Le+Pe*Ve,x4:P*Math.cos($),y4:P*Math.sin($)}},U=function(P){return 180*P/Math.PI},te=function(P,q,$,X,Q,ne){var xe=P+.5*($-P),ge=q+.5*(X-q),he=Q+.5*($-Q),Se=ne+.5*(X-ne),ke=Math.min(P,Q,xe,he),Te=Math.max(P,Q,xe,he),je=Math.min(q,ne,ge,Se),z=Math.max(q,ne,ge,Se);return new l(ke,je,Te-ke,z-je)},ue=function(P,q,$,X,Q,ne,xe,ge){var he,Se,ke,Te,je,z,Pe,We,Ve,Le,Ke,Me,tt,Je,Pt=$-P,bt=X-q,ot=Q-$,kt=ne-X,Lt=xe-Q,Ge=ge-ne;for(Se=0;Se<41;Se++)Ve=(Pe=(ke=P+(he=Se/40)*Pt)+he*((je=$+he*ot)-ke))+he*(je+he*(Q+he*Lt-je)-Pe),Le=(We=(Te=q+he*bt)+he*((z=X+he*kt)-Te))+he*(z+he*(ne+he*Ge-z)-We),Se==0?(Ke=Ve,Me=Le,tt=Ve,Je=Le):(Ke=Math.min(Ke,Ve),Me=Math.min(Me,Le),tt=Math.max(tt,Ve),Je=Math.max(Je,Le));return new l(Math.round(Ke),Math.round(Me),Math.round(tt-Ke),Math.round(Je-Me))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,q,$=(P=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:q}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(rt.API),function(e){var t=function(o){var l,c,d,h,b,y,p,S,C,I;for(c=[],d=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>d;d+=4)(b=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(y=(b=((b=((b=((b=(b-(I=b%85))/85)-(C=b%85))/85)-(S=b%85))/85)-(p=b%85))/85)%85,c.push(y+33,p+33,S+33,C+33,I+33)):c.push(122);return function(g,v){for(var w=v;w>0;w--)g.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var l,c,d,h,b,y=String,p="length",S=255,C="charCodeAt",I="slice",g="replace";for(o[I](-2),o=o[I](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),d=[],h=0,b=(o+=l="uuuuu"[I](o[p]%5||5))[p];b>h;h+=5)c=52200625*(o[C](h)-33)+614125*(o[C](h+1)-33)+7225*(o[C](h+2)-33)+85*(o[C](h+3)-33)+(o[C](h+4)-33),d.push(S&c>>24,S&c>>16,S&c>>8,S&c);return function(v,w){for(var k=w;k>0;k--)v.pop()}(d,l[p]),y.fromCharCode.apply(y,d)},r=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=Fp(l)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}}(rt.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,h){var b=new XMLHttpRequest,y=0,p=function(S){var C=S.length,I=[],g=String.fromCharCode;for(y=0;y<C;y+=1)I.push(g(255&S.charCodeAt(y)));return I.join("")};if(b.open("GET",c,!d),b.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(b.onload=function(){b.status===200?h(p(this.responseText)):h(void 0)}),b.send(null),d&&b.status===200)return p(b.responseText)}(i,s,o)}catch{}return l}(t,n,r)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(rt.API),function(e){function t(){return(ut.html2canvas?Promise.resolve(ut.html2canvas):t0(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(ut.DOMPurify?Promise.resolve(ut.DOMPurify):t0(()=>import("./purify.es-ce17b1ad.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=Vt(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var d=document.createElement(l);for(var h in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[h]=c.style[h];return d},s=function l(c,d){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),b=c.firstChild;b;b=b.nextSibling)d!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||h.appendChild(l(b,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),d);return(h=h.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(n).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,h=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var S=h[p],C=S.src.find(function(I){return I.format==="truetype"});C&&d.addFont(C.url,S.ref.name,S.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,d.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(l=l||rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,h){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,h){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(h,b){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(y){return d.updateProgress(null,h),y}).then(h,b).then(function(y){return d.updateProgress(1),y})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),c&&(c=c.bind(h));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),y=d.call(b,l,c);return o.convert(y,h.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,rt.getPageSize=function(l,c,d){if(Vt(l)==="object"){var h=l;l=h.orientation,c=h.unit||c,d=h.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var b,y=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+c}var S,C=0,I=0;if(p.hasOwnProperty(y))C=p[y][1]/b,I=p[y][0]/b;else try{C=d[1],I=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",I>C&&(S=I,I=C,C=S);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",C>I&&(S=I,I=C,C=S)}return{width:I,height:C,unit:c,k:b,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(S0):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(rt.API),rt.API.addJS=function(e){return _x=e,this.internal.events.subscribe("postPutResources",function(){Sd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Nx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_x+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sd!==void 0&&Nx!==void 0&&this.internal.out("/Names <</JavaScript "+Sd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=r.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(s=0;s<d;s++){var b=n.internal.newObject();h.push(b);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(b){for(var y,p=256*b.charCodeAt(4)+b.charCodeAt(5),S=b.length,C={width:0,height:0,numcomponents:1},I=4;I<S;I+=2){if(I+=p,t.indexOf(b.charCodeAt(I+1))!==-1){y=256*b.charCodeAt(I+5)+b.charCodeAt(I+6),C={width:256*b.charCodeAt(I+7)+b.charCodeAt(I+8),height:y,numcomponents:b.charCodeAt(I+9)};break}p=256*b.charCodeAt(I+2)+b.charCodeAt(I+3)}return C}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return h}}(rt.API),rt.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=sk(e,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,d=s.palette,h=s.depth;i=d&&c===1?function(T){for(var _=T.width,j=T.height,E=T.data,R=T.palette,Z=T.depth,G=!1,se=[],le=[],ae=void 0,U=!1,te=0,ue=0;ue<R.length;ue++){var me=x2(R[ue],4),P=me[0],q=me[1],$=me[2],X=me[3];se.push(P,q,$),X!=null&&(X===0?(te++,le.length<1&&le.push(ue)):X<255&&(U=!0))}if(U||te>1){G=!0,le=void 0;var Q=_*j;ae=new Uint8Array(Q);for(var ne=new DataView(E.buffer),xe=0;xe<Q;xe++){var ge=A0(ne,xe,Z),he=x2(R[ge],4)[3];ae[xe]=he}}else te===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:E,alphaBytes:ae,needSMask:G,palette:se,mask:le}}(s):c===2||c===4?function(T){for(var _=T.data,j=T.width,E=T.height,R=T.channels,Z=T.depth,G=R===2?"DeviceGray":"DeviceRGB",se=R-1,le=j*E,ae=se,U=le*ae,te=1*le,ue=Math.ceil(U*Z/8),me=Math.ceil(te*Z/8),P=new Uint8Array(ue),q=new Uint8Array(me),$=new DataView(_.buffer),X=new DataView(P.buffer),Q=new DataView(q.buffer),ne=!1,xe=0;xe<le;xe++){for(var ge=xe*R,he=0;he<ae;he++)Fx(X,A0($,ge+he,Z),xe*ae+he,Z);var Se=A0($,ge+ae,Z);Se<(1<<Z)-1&&(ne=!0),Fx(Q,Se,1*xe,Z)}return{colorSpace:G,colorsPerPixel:se,sMaskBitsPerComponent:ne?Z:void 0,colorBytes:P,alphaBytes:q,needSMask:ne}}(s):function(T){var _=T.data,j=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:j,colorsPerPixel:j==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?function(E){for(var R=E.length,Z=new Uint8Array(2*R),G=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),se=0;se<R;se++)G.setUint16(2*se,E[se],!1);return Z}(_):_,needSMask:!1}}(s);var b,y,p,S=i,C=S.colorSpace,I=S.colorsPerPixel,g=S.sMaskBitsPerComponent,v=S.colorBytes,w=S.alphaBytes,k=S.needSMask,H=S.palette,M=S.mask,K=null;return r!==rt.API.image_compression.NONE&&typeof Fp=="function"?(K=function(T){var _;switch(T){case rt.API.image_compression.FAST:_=11;break;case rt.API.image_compression.MEDIUM:_=13;break;case rt.API.image_compression.SLOW:_=14;break;default:_=12}return _}(r),b=this.decode.FLATE_DECODE,y="/Predictor ".concat(K," /Colors ").concat(I," /BitsPerComponent ").concat(h," /Columns ").concat(o),e=Ax(v,Math.ceil(o*I*h/8),I,h,r),k&&(p=Ax(w,Math.ceil(o*g/8),1,g,r))):(b=void 0,y=void 0,e=v,k&&(p=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:b,decodeParameters:y,transparency:M,palette:H,sMask:p,predictor:K,width:o,height:l,bitsPerComponent:h,sMaskBitsPerComponent:g,colorSpace:C}}},function(e){e.processGIF89A=function(t,n,r,i){var s=new kk(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},h=new L0(100).encode(d,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A}(rt.API),Ai.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ai.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Qt.log("bit decode error:"+n)}},Ai.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Ai.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=s>>4,c=15&s,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ai.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ai.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,d=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=d}this.pos+=e}},Ai.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,d=(o>>11)/t*255|0,h=i*this.width*4+4*s;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},Ai.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ai.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},Ai.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Ai(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},d=new L0(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)}}(rt.API),Dx.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new Dx(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},d=new L0(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)}}(rt.API),rt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var h=r[d],b=r[d+1],y=r[d+2],p=r[d+3];s[l++]=h,s[l++]=b,s[l++]=y,o[c++]=p}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fo=rt.API,kd=Fo.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=d.fof?d.fof:1,b=t.doKerning!==!1,y=0,p=e.length,S=0,C=l[0]||c,I=[];for(n=0;n<p;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?I.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(y=b&&Vt(d[r])==="object"&&!isNaN(parseInt(d[r][S],10))?d[r][S]/h:0,I.push((l[r]||C)/c+y)),S=r;return I},jx=Fo.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Fo.processArabic&&(e=Fo.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:kd.apply(this,arguments).reduce(function(s,o){return s+o},0)},Sx=function(e,t,n,r){for(var i=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<n;)l+=t[s],s++;i.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>r&&(i.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&i.push(e.slice(c,s)),i},kx=function(e,t,n){n||(n={});var r,i,s,o,l,c,d,h=[],b=[h],y=n.textIndent||0,p=0,S=0,C=e.split(" "),I=kd.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?C[0].length+2:n.lineIndent||0){var g=Array(c).join(" "),v=[];C.map(function(k){(k=k.split(/\s*\n/)).length>1?v=v.concat(k.map(function(H,M){return(M&&H.length?`
`:"")+H})):v.push(k[0])}),C=v,c=jx.apply(this,[g,n])}for(s=0,o=C.length;s<o;s++){var w=0;if(r=C[s],c&&r[0]==`
`&&(r=r.substr(1),w=1),y+p+(S=(i=kd.apply(this,[r,n])).reduce(function(k,H){return k+H},0))>t||w){if(S>t){for(l=Sx.apply(this,[r,i,t-(y+p),t]),h.push(l.shift()),h=[l.pop()];l.length;)b.push([l.shift()]);S=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(k,H){return k+H},0)}else h=[r];b.push(h),y=S+c,p=I}else h.push(r),y+=p+S,p=I}return d=c?function(k,H){return(H?g:"")+k.join(" ")}:function(k){return k.join(" ")},b.map(d)},Fo.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var b=this.internal.getFont(h.fontName,h.fontStyle),y="Unicode";return b.metadata[y]?{widths:b.metadata[y].widths||{0:1},kerning:b.metadata[y].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var l,c,d=[];for(l=0,c=r.length;l<c;l++)d=d.concat(kx.apply(this,[r[l],o,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=t[s],i[t[s]]=n[s];var o=function(y){return"0x"+parseInt(y,10).toString(16)},l=e.__fontmetrics__.compress=function(y){var p,S,C,I,g=["{"];for(var v in y){if(p=y[v],isNaN(parseInt(v,10))?S="'"+v+"'":(v=parseInt(v,10),S=(S=o(v).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof p=="number")p<0?(C=o(p).slice(3),I="-"):(C=o(p).slice(2),I=""),C=I+C.slice(0,-1)+i[C.slice(-1)];else{if(Vt(p)!=="object")throw new Error("Don't know what to do with value type "+Vt(p)+".");C=l(p)}g.push(S+C)}return g.push("}"),g.join("")},c=e.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,S,C,I,g={},v=1,w=g,k=[],H="",M="",K=y.length-1,T=1;T<K;T+=1)(I=y[T])=="'"?p?(C=p.join(""),p=void 0):p=[]:p?p.push(I):I=="{"?(k.push([w,C]),w={},C=void 0):I=="}"?((S=k.pop())[0][S[1]]=w,C=void 0,w=S[0]):I=="-"?v=-1:C===void 0?r.hasOwnProperty(I)?(H+=r[I],C=parseInt(H,16)*v,v=1,H=""):H+=I:r.hasOwnProperty(I)?(M+=r[I],w[C]=parseInt(M,16)*v,v=1,C=void 0,M=""):M+=I;return g},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},b={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(y){var p=y.font,S=b.Unicode[p.postScriptName];S&&(p.metadata.Unicode={},p.metadata.Unicode.widths=S.widths,p.metadata.Unicode.kerning=S.kerning);var C=h.Unicode[p.postScriptName];C&&(p.metadata.Unicode.encoding=C,p.encoding=C.codePages[0])}])}(rt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ud(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(rt),rt.API.addSvgAsImage=function(e,t,n,r,i,s,o,l){if(isNaN(t)||isNaN(n))throw Qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(ut.canvg?Promise.resolve(ut.canvg):t0(()=>import("./index.es-47efd93a.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(d,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){b.addImage(c.toDataURL("image/jpeg",1),t,n,r,i,o,l)})},rt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},rt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,h=0,b=0;function y(S,C){var I,g=!1;for(I=0;I<S.length;I+=1)S[I]===C&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(b=0;b<p;b+=1)n[l[b]].value=n[l[b]].defaultValue,n[l[b]].explicitSet=!1}if(Vt(e)==="object"){for(i in e)if(s=e[i],y(l,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&y(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(h=0;h<s[d].length;h+=1)typeof s[d][h]!="number"&&(r=!1);r===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,C=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?C.push("/"+S+" /"+n[S].value):C.push("/"+S+" "+n[S].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(rt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],b=0,y=s.length;b<y;++b){if(l=o.metadata.characterToGlyph(s.charCodeAt(b)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(b),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},r=function(s){var o,l,c,d,h,b,y;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],b=0,y=(l=Object.keys(s).sort(function(p,S){return p-S})).length;b<y;b++)o=l[b],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,d=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var b=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",S=0;S<y.length;S++)p+=String.fromCharCode(y[S]);var C=d();h({data:p,addLength1:!0,objectId:C}),c("endobj");var I=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:I}),c("endobj");var g=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Do(l.fontName)),c("/FontFile2 "+C+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Do(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(b)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+I+" 0 R"),c("/BaseFont /"+Do(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,d=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var b=l.metadata.rawData,y="",p=0;p<b.length;p++)y+=String.fromCharCode(b[p]);var S=d();h({data:y,addLength1:!0,objectId:S}),c("endobj");var C=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var I=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+S+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Do(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Do(l.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",c=s.x,d=s.y,h=s.options||{},b=s.mutex||{},y=b.pdfEscape,p=b.activeFontKey,S=b.fonts,C=p,I="",g=0,v="",w=S[C].encoding;if(S[C].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:b};for(v=l,C=p,Array.isArray(l)&&(v=l[0]),g=0;g<v.length;g+=1)S[C].metadata.hasOwnProperty("cmap")&&(o=S[C].metadata.cmap.unicode.codeMap[v[g].charCodeAt(0)]),o||v[g].charCodeAt(0)<256&&S[C].metadata.hasOwnProperty("Unicode")?I+=v[g]:I+="";var k="";return parseInt(C.slice(1))<14||w==="WinAnsiEncoding"?k=y(I,C).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(k=n(I,S[C])),b.isHex=!0,{text:k,x:c,y:d,options:h,mutex:b}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([i(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(i(Object.assign({},c,{text:o[d]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:o})).text}])}(rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,l,c,d,h,b=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,w=0;this.__bidiEngine__={};var k=function(E){var R=E.charCodeAt(),Z=R>>8,G=C[Z];return G!==void 0?b[256*G+(255&R)]:Z===252||Z===253?"AL":g.test(Z)?"L":Z===8?"R":"N"},H=function(E){for(var R,Z=0;Z<E.length;Z++){if((R=k(E.charAt(Z)))==="L")return!1;if(R==="R")return!0}return!1},M=function(E,R,Z,G){var se,le,ae,U,te=R[G];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(te="AN");break;case"AL":v=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":G<1||G+1>=R.length||(se=Z[G-1])!=="EN"&&se!=="AN"||(le=R[G+1])!=="EN"&&le!=="AN"?te="N":v&&(le="AN"),te=le===se?le:"N";break;case"ES":te=(se=G>0?Z[G-1]:"B")==="EN"&&G+1<R.length&&R[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&Z[G-1]==="EN"){te="EN";break}if(v){te="N";break}for(ae=G+1,U=R.length;ae<U&&R[ae]==="ET";)ae++;te=ae<U&&R[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(U=R.length,ae=G+1;ae<U&&R[ae]==="NSM";)ae++;if(ae<U){var ue=E[G],me=ue>=1425&&ue<=2303||ue===64286;if(se=R[ae],me&&(se==="R"||se==="AL")){te="R";break}}}te=G<1||(se=R[G-1])==="B"?"N":Z[G-1];break;case"B":v=!1,i=!0,te=w;break;case"S":s=!0,te="N"}return te},K=function(E,R,Z){var G=E.split("");return Z&&T(G,Z,{hiLevel:w}),G.reverse(),R&&R.reverse(),G.join("")},T=function(E,R,Z){var G,se,le,ae,U,te=-1,ue=E.length,me=0,P=[],q=w?p:y,$=[];for(v=!1,i=!1,s=!1,se=0;se<ue;se++)$[se]=k(E[se]);for(le=0;le<ue;le++){if(U=me,P[le]=M(E,$,P,le),G=240&(me=q[U][S[P[le]]]),me&=15,R[le]=ae=q[me][5],G>0)if(G===16){for(se=te;se<le;se++)R[se]=1;te=-1}else te=-1;if(q[me][6])te===-1&&(te=le);else if(te>-1){for(se=te;se<le;se++)R[se]=ae;te=-1}$[le]==="B"&&(R[le]=0),Z.hiLevel|=ae}s&&function(X,Q,ne){for(var xe=0;xe<ne;xe++)if(X[xe]==="S"){Q[xe]=w;for(var ge=xe-1;ge>=0&&X[ge]==="WS";ge--)Q[ge]=w}}($,R,ue)},_=function(E,R,Z,G,se){if(!(se.hiLevel<E)){if(E===1&&w===1&&!i)return R.reverse(),void(Z&&Z.reverse());for(var le,ae,U,te,ue=R.length,me=0;me<ue;){if(G[me]>=E){for(U=me+1;U<ue&&G[U]>=E;)U++;for(te=me,ae=U-1;te<ae;te++,ae--)le=R[te],R[te]=R[ae],R[ae]=le,Z&&(le=Z[te],Z[te]=Z[ae],Z[ae]=le);me=U}me++}}},j=function(E,R,Z){var G=E.split(""),se={hiLevel:w};return Z||(Z=[]),T(G,Z,se),function(le,ae,U){if(U.hiLevel!==0&&h)for(var te,ue=0;ue<le.length;ue++)ae[ue]===1&&(te=I.indexOf(le[ue]))>=0&&(le[ue]=I[te+1])}(G,Z,se),_(2,G,R,Z,se),_(1,G,R,Z,se),G.join("")};return this.__bidiEngine__.doBidiReorder=function(E,R,Z){if(function(se,le){if(le)for(var ae=0;ae<se.length;ae++)le[ae]=ae;l===void 0&&(l=H(se)),d===void 0&&(d=H(se))}(E,R),o||!c||d)if(o&&c&&l^d)w=l?1:0,E=K(E,R,Z);else if(!o&&c&&d)w=l?1:0,E=j(E,R,Z),E=K(E,R);else if(!o||l||c||d){if(o&&!c&&l^d)E=K(E,R),l?(w=0,E=j(E,R,Z)):(w=1,E=j(E,R,Z),E=K(E,R));else if(o&&l&&!c&&d)w=1,E=j(E,R,Z),E=K(E,R);else if(!o&&!c&&l^d){var G=h;l?(w=1,E=j(E,R,Z),w=0,h=!1,E=j(E,R,Z),h=G):(w=0,E=j(E,R,Z),E=K(E,R),w=1,h=!1,E=j(E,R,Z),h=G,E=K(E,R))}}else w=0,E=j(E,R,Z);else w=l?1:0,E=j(E,R,Z);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,c=E.isOutputVisual,l=E.isInputRtl,d=E.isOutputRtl,h=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([n.doBidiReorder(i[l])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(rt),rt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new ja(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Uk(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Ak(this.contents),this.head=new Ck(this),this.name=new Dk(this),this.cmap=new Fb(this),this.toUnicode={},this.hhea=new Ek(this),this.maxp=new Rk(this),this.hmtx=new Ik(this),this.post=new Fk(this),this.os2=new Pk(this),this.loca=new Bk(this),this.glyf=new Mk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Mi,ja=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),Ak=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,l,c,d,h,b,y,p,S,C;for(C in p=Object.keys(n).length,c=Math.log(2),b=16*Math.floor(Math.log(p)/c),o=Math.floor(b/c),h=16*p-b,(i=new ja).writeInt(this.scalarType),i.writeShort(p),i.writeShort(b),i.writeShort(o),i.writeShort(h),s=16*p,d=i.pos+s,l=null,S=[],n)for(y=n[C],i.writeString(C),i.writeInt(e(y)),i.writeInt(d),i.writeInt(y.length),S=S.concat(y),C==="head"&&(l=d),d+=y.length;d%4;)S.push(0),d++;return i.write(S),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=Tb.call(n);n.length%4;)n.push(0);for(s=new ja(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),Lk={}.hasOwnProperty,ns=function(e,t){for(var n in t)Lk.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Mi=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ck=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Mi),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new ja).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),Rx=function(){function e(t,n){var r,i,s,o,l,c,d,h,b,y,p,S,C,I,g,v,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),b=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),y=p/2,t.pos+=6,s=function(){var k,H;for(H=[],c=k=0;0<=y?k<y:k>y;c=0<=y?++k:--k)H.push(t.readUInt16());return H}(),t.pos+=2,C=function(){var k,H;for(H=[],c=k=0;0<=y?k<y:k>y;c=0<=y?++k:--k)H.push(t.readUInt16());return H}(),d=function(){var k,H;for(H=[],c=k=0;0<=y?k<y:k>y;c=0<=y?++k:--k)H.push(t.readUInt16());return H}(),h=function(){var k,H;for(H=[],c=k=0;0<=y?k<y:k>y;c=0<=y?++k:--k)H.push(t.readUInt16());return H}(),i=(this.length-t.pos+this.offset)/2,l=function(){var k,H;for(H=[],c=k=0;0<=i?k<i:k>i;c=0<=i?++k:--k)H.push(t.readUInt16());return H}(),c=g=0,w=s.length;g<w;c=++g)for(I=s[c],r=v=S=C[c];S<=I?v<=I:v>=I;r=S<=I?++v:--v)h[c]===0?o=r+d[c]:(o=l[h[c]/2+(r-S)-(y-c)]||0)!==0&&(o+=d[c]),this.codeMap[r]=65535&o}t.pos=b}return e.encode=function(t,n){var r,i,s,o,l,c,d,h,b,y,p,S,C,I,g,v,w,k,H,M,K,T,_,j,E,R,Z,G,se,le,ae,U,te,ue,me,P,q,$,X,Q,ne,xe,ge,he,Se,ke;switch(G=new ja,o=Object.keys(t).sort(function(Te,je){return Te-je}),n){case"macroman":for(C=0,I=function(){var Te=[];for(S=0;S<256;++S)Te.push(0);return Te}(),v={0:0},s={},se=0,te=o.length;se<te;se++)v[ge=t[i=o[se]]]==null&&(v[ge]=++C),s[i]={old:t[i],new:v[t[i]]},I[i]=v[t[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(I),{charMap:s,subtable:G.data,maxGlyphID:C+1};case"unicode":for(R=[],b=[],w=0,v={},r={},g=d=null,le=0,ue=o.length;le<ue;le++)v[H=t[i=o[le]]]==null&&(v[H]=++w),r[i]={old:H,new:v[H]},l=v[H]-i,g!=null&&l===d||(g&&b.push(g),R.push(i),d=l),g=i;for(g&&b.push(g),b.push(65535),R.push(65535),j=2*(_=R.length),T=2*Math.pow(Math.log(_)/Math.LN2,2),y=Math.log(T/2)/Math.LN2,K=2*_-T,c=[],M=[],p=[],S=ae=0,me=R.length;ae<me;S=++ae){if(E=R[S],h=b[S],E===65535){c.push(0),M.push(0);break}if(E-(Z=r[E].new)>=32768)for(c.push(0),M.push(2*(p.length+_-S)),i=U=E;E<=h?U<=h:U>=h;i=E<=h?++U:--U)p.push(r[i].new);else c.push(Z-E),M.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*_+2*p.length),G.writeUInt16(0),G.writeUInt16(j),G.writeUInt16(T),G.writeUInt16(y),G.writeUInt16(K),ne=0,P=b.length;ne<P;ne++)i=b[ne],G.writeUInt16(i);for(G.writeUInt16(0),xe=0,q=R.length;xe<q;xe++)i=R[xe],G.writeUInt16(i);for(he=0,$=c.length;he<$;he++)l=c[he],G.writeUInt16(l);for(Se=0,X=M.length;Se<X;Se++)k=M[Se],G.writeUInt16(k);for(ke=0,Q=p.length;ke<Q;ke++)C=p[ke],G.writeUInt16(C);return{charMap:r,subtable:G.data,maxGlyphID:w+1}}},e}(),Fb=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Mi),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Rx(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=Rx.encode(t,n),(i=new ja).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),Ek=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Mi),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Pk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Mi),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Fk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Mi),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),Tk=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Dk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Mi),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,s,o,l,c,d,h,b,y;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=h=0,b=r.length;h<b;s=++h)i=r[s],t.pos=i.offset,d=t.readString(i.length),o=new Tk(d,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Rk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Mi),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Ik=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Mi),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,s,o,l,c;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)h.push(t.readInt16());return h}(),this.widths=(function(){var d,h,b,y;for(y=[],d=0,h=(b=this.metrics).length;d<h;d++)s=b[d],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Tb=[].slice,Mk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Mi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,s,o,l,c,d,h,b;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,o=(l=new ja(n.read(i))).readShort(),d=l.readShort(),b=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=o===-1?new zk(l,d,b,c,h):new Ok(l,o,d,b,c,h),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=t[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},e}(),Ok=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),zk=function(){function e(t,n,r,i,s){var o,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new ja(Tb.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Bk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Mi),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var d=new Array(4*r.length),h=0;h<r.length;++h)d[4*h+3]=255&r[h],d[4*h+2]=(65280&r[h])>>8,d[4*h+1]=(16711680&r[h])>>16,d[4*h]=(4278190080&r[h])>>24;return d},e}(),Uk=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,l,c,d,h,b,y,p,S,C,I,g;for(i in r=Fb.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},g=r.charMap)p[(c=g[i]).old]=c.new;for(S in y=r.maxGlyphID,o)S in p||(p[S]=y++);return h=function(v){var w,k;for(w in k={},v)k[v[w]]=w;return k}(p),b=Object.keys(h).sort(function(v,w){return v-w}),C=function(){var v,w,k;for(k=[],v=0,w=b.length;v<w;v++)l=b[v],k.push(h[l]);return k}(),s=this.font.glyf.encode(o,C,p),d=this.font.loca.encode(s.offsets,C),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},e}();rt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var l,c,d;for(d=[],l=0,c=n.length;l<c;l++)r=n[l],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();function Db(e,t,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():s,d=l*c,h=/\r\n|\r|\n/g,b="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(b=typeof e=="string"?e.split(h):e,y=b.length||1),n+=l*(2-s),r.valign==="middle"?n-=y/2*d:r.valign==="bottom"&&(n-=y*d),r.halign==="center"||r.halign==="right"){var p=l;if(r.halign==="center"&&(p*=.5),b&&y>=1){for(var S=0;S<b.length;S++)i.text(b[S],t-i.getStringUnitWidth(b[S])*p,n),n+=d;return i}t-=i.getStringUnitWidth(e)*p}return r.halign==="justify"?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}var Ix={},ll=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:Ix=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,i,s;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var h=e.unifyColor(t.fillColor);h&&(r=this.jsPDFDocument).setFillColor.apply(r,h),h=e.unifyColor(t.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=e.unifyColor(t.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,i,s){return this.jsPDFDocument.rect(t,n,r,i,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Ix||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Vp=function(e,t){return Vp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vp(e,t)};function Rb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ib=function(e){Rb(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function qk(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Hk(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Sf(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function Mb(e,t,n,r){var i=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:s});var o=Ob(i,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function Ob(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function Yf(e,t){var n,r,i,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function zb(e,t){var n=Yf(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function $k(e,t,n,r,i){var s={},o=1.3333333333333333,l=C0(t,function(w){return i.getComputedStyle(w).backgroundColor});l!=null&&(s.fillColor=l);var c=C0(t,function(w){return i.getComputedStyle(w).color});c!=null&&(s.textColor=c);var d=Vk(r,n);d&&(s.cellPadding=d);var h="borderTopColor",b=o*n,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var p=(parseFloat(y)||0)/b;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/b,right:(parseFloat(r.borderRightWidth)||0)/b,bottom:(parseFloat(r.borderBottomWidth)||0)/b,left:(parseFloat(r.borderLeftWidth)||0)/b},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var S=C0(t,function(w){return i.getComputedStyle(w)[h]});S!=null&&(s.lineColor=S);var C=["left","right","center","justify"];C.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),C=["middle","bottom","top"],C.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var I=parseInt(r.fontSize||"");isNaN(I)||(s.fontSize=I/o);var g=Wk(r);g&&(s.fontStyle=g);var v=(r.fontFamily||"").toLowerCase();return e.indexOf(v)!==-1&&(s.font=v),s}function Wk(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function C0(e,t){var n=Bb(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Bb(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:Bb(e.parentElement,t):n}function Vk(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=n.map(function(l){return parseInt(l||"0")/r}),o=Yf(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function Ub(e,t,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof t=="string"?l=n.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),h=[],b=[],y=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:h,body:b,foot:y};for(var p=0;p<l.rows.length;p++){var S=l.rows[p],C=(o=(s=S==null?void 0:S.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),I=Gk(c,d,n,S,r,i);I&&(C==="thead"?h.push(I):C==="tfoot"?y.push(I):b.push(I))}return{head:h,body:b,foot:y}}function Gk(e,t,n,r,i,s){for(var o=new Ib(r),l=0;l<r.cells.length;l++){var c=r.cells[l],d=n.getComputedStyle(c);if(i||d.display!=="none"){var h=void 0;s&&(h=$k(e,c,t,d,n)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:Yk(c)})}}var b=n.getComputedStyle(r);if(o.length>0&&(i||b.display!=="none"))return o}function Yk(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function Zk(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function As(e,t,n,r,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function Kk(e,t){var n=new ll(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();Zk(i,r,t);var s=As({},i,r,t),o;typeof window<"u"&&(o=window);var l=Xk(i,r,t),c=Jk(i,r,t),d=Qk(n,s),h=t8(n,s,o);return{id:t.tableId,content:h,hooks:c,styles:l,settings:d}}function Xk(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var d=e[c],h=t[c],b=n[c];r.columnStyles=As({},d,h,b)}else{var y=[e,t,n],p=y.map(function(S){return S[c]||{}});r[c]=As({},p[0],p[1],p[2])}},s=0,o=Object.keys(r);s<o.length;s++){var l=o[s];i(l)}return r}function Jk(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var l=o[s];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function Qk(e,t){var n,r,i,s,o,l,c,d,h,b,y,p,S=Yf(t.margin,40/e.scaleFactor()),C=(n=e8(e,t.startY))!==null&&n!==void 0?n:S.top,I;t.showFoot===!0?I="everyPage":t.showFoot===!1?I="never":I=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var g;t.showHead===!0?g="everyPage":t.showHead===!1?g="never":g=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var v=(s=t.useCss)!==null&&s!==void 0?s:!1,w=t.theme||(v?"plain":"striped"),k=!!t.horizontalPageBreak,H=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:v,theme:w,startY:C,margin:S,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:g,showFoot:I,tableLineWidth:(b=t.tableLineWidth)!==null&&b!==void 0?b:0,tableLineColor:(y=t.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:k,horizontalPageBreakRepeat:H,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function e8(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof t=="number"?t:(t==null||t===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function t8(e,t,n){var r=t.head||[],i=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var l=Ub(e,t.html,n,o,t.useCss)||{};r=l.head||r,i=l.body||r,s=l.foot||r}else console.error("Cannot parse html in non browser environment")}var c=t.columns||n8(r,i,s);return{columns:c,head:r,body:i,foot:s}}function n8(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(r)?l=r[parseInt(s)]:l=r[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(r)?d=i.length:d=s+(c>0?"_".concat(c):"");var h={dataKey:d};i.push(h)}}),i}var Gp=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),r8=function(e){Rb(t,e);function t(n,r,i,s,o,l){var c=e.call(this,n,r,l)||this;return c.cell=i,c.row=s,c.column=o,c.section=s.section,c}return t}(Gp),i8=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,i,s,o){for(var l=0,c=n;l<c.length;l++){var d=c[l],h=new r8(t,this,r,i,s,o),b=d(h)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],b)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new Gp(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new Gp(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),qb=function(){function e(t,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof Ib&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var l=n.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>i?d:i},0)},e}(),Hb=function(){function e(t,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=Yf(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),s8=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,i=t.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function a8(e,t){o8(e,t);var n=[],r=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=Yp(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Yp(n,i,function(s){return s.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),c8(t),u8(t,e),l8(t)}function o8(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=zb(e,t);t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d){var h=t.hooks.didParseCell;t.callCellHooks(e,h,d,s,c,null);var b=d.padding("horizontal");d.contentWidth=Sf(d.text,d.styles,e)+b;var y=Sf(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=y+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/n;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var h=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},b=h.cellWidth||h.minCellWidth;b&&typeof b=="number"&&(c.minWidth=b,c.wrappedWidth=b)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function Yp(e,t,n){for(var r=t,i=e.reduce(function(p,S){return p+S.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],l=o.wrappedWidth/i,c=r*l,d=o.width+c,h=n(o),b=d<h?h:d;t-=b-o.width,o.width=b}if(t=Math.round(t*1e10)/1e10,t){var y=e.filter(function(p){return t<0?p.width>n(p):!0});y.length&&(t=Yp(y,t,n))}return t}function l8(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=t[c.index];if(n>1)n--,delete s.cells[c.index];else if(d)d.cell.height+=s.height,n=d.cell.colSpan,delete s.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var h=s.cells[c.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var b=r.length-i,y=h.rowSpan>b?b:h.rowSpan;t[c.index]={cell:h,left:y,row:s}}}}}function c8(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,s=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])s+=c.width,delete r.cells[c.index];else if(i){var d=i;delete r.cells[c.index],i=null,d.width=c.width+s}else{var d=r.cells[c.index];if(!d)continue;if(o=d.colSpan,s=0,d.colSpan>1){i=d,s+=c.width;continue}d.width=c.width+s}}}function u8(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var s=i[r],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d){t.applyStyles(d.styles,!0);var h=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,h+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Mx(d.text,h,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=Mx(d.text,h,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var b=d.styles.overflow(d.text,h);typeof b=="string"?d.text=[b]:d.text=b}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var y=d.contentHeight/d.rowSpan;d.rowSpan>1&&n.count*n.height<y*d.rowSpan?n={height:y,count:d.rowSpan}:n&&n.count>0&&n.height>y&&(y=n.height),y>s.height&&(s.height=y)}}n.count--}}function Mx(e,t,n,r,i){return e.map(function(s){return d8(s,t,n,r,i)})}function d8(e,t,n,r,i){var s=1e4*r.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Sf(e,n,r))return e;for(;t<Sf(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function f8(e,t){var n=new ll(e),r=h8(t,n.scaleFactor()),i=new i8(t,r);return a8(n,i),n.applyStyles(n.userStyles),i}function h8(e,t){var n=e.content,r=m8(n.columns);if(n.head.length===0){var i=Ox(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Ox(r,"foot");i&&n.foot.push(i)}var s=e.settings.theme,o=e.styles;return{columns:r,head:E0("head",n.head,r,o,s,t),body:E0("body",n.body,r,o,s,t),foot:E0("foot",n.foot,r,o,s,t)}}function E0(e,t,n,r,i,s){var o={},l=t.map(function(c,d){for(var h=0,b={},y=0,p=0,S=0,C=n;S<C.length;S++){var I=C[S];if(o[I.index]==null||o[I.index].left===0)if(p===0){var g=void 0;Array.isArray(c)?g=c[I.index-y-h]:g=c[I.dataKey];var v={};typeof g=="object"&&!Array.isArray(g)&&(v=(g==null?void 0:g.styles)||{});var w=g8(e,I,d,i,r,s,v),k=new Hb(g,w,e);b[I.dataKey]=k,b[I.index]=k,p=k.colSpan-1,o[I.index]={left:k.rowSpan-1,times:p}}else p--,y++;else o[I.index].left--,p=o[I.index].times,h++}return new qb(c,d,e,b)});return l}function Ox(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var i=p8(t,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function p8(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function m8(e){return e.map(function(t,n){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:n:i=n,new s8(i,t,n)})}function g8(e,t,n,r,i,s,o){var l=Hk(r),c;e==="head"?c=i.headStyles:e==="body"?c=i.bodyStyles:e==="foot"&&(c=i.footStyles);var d=As({},l.table,l[e],i.styles,c),h=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},b=e==="body"?h:{},y=e==="body"&&n%2===0?As({},l.alternateRow,i.alternateRowStyles):{},p=qk(s),S=As({},p,d,y,b);return As(S,o)}function x8(e,t,n){var r;n===void 0&&(n={});var i=zb(e,t),s=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(y){var p=t.columns.find(function(S){return S.dataKey===y||S.index===y});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),l.push(t.columns[p.index]),i-=p.wrappedWidth)});for(var d=!0,h=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;h<t.columns.length;){if(s.has(h)){h++;continue}var b=t.columns[h].wrappedWidth;if(d||i>=b)d=!1,o.push(h),l.push(t.columns[h]),i-=b;else break;h++}return{colIndexes:o,columns:l,lastIndex:h-1}}function v8(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=x8(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function y8(e,t){var n=t.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=r+i.bottom+o;if(n.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(y,p){return y+p.height},0);l+=d}var h=new ll(e);(n.pageBreak==="always"||n.startY!=null&&l>h.pageSize().height)&&(Wb(h),s.y=i.top),t.callWillDrawPageHooks(h,s);var b=As({},s);t.startPageNumber=h.pageNumber(),n.horizontalPageBreak?b8(h,t,b,s):(h.applyStyles(h.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(y){return Ts(h,t,y,s,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(y,p){var S=p===t.body.length-1;kf(h,t,y,S,b,s,t.columns)}),h.applyStyles(h.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(y){return Ts(h,t,y,s,t.columns)})),Mb(h,t,b,s),t.callEndPageHooks(h,s),t.finalY=s.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function b8(e,t,n,r){var i=v8(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,h){e.applyStyles(e.userStyles),h>0?Dc(e,t,n,r,d.columns,!0):zx(e,t,r,d.columns),w8(e,t,n,r,d.columns),P0(e,t,r,d.columns)});else for(var o=-1,l=i[0],c=function(){var d=o;if(l){e.applyStyles(e.userStyles);var h=l.columns;o>=0?Dc(e,t,n,r,h,!0):zx(e,t,r,h),d=Bx(e,t,o+1,r,h),P0(e,t,r,h)}var b=d-o;i.slice(1).forEach(function(y){e.applyStyles(e.userStyles),Dc(e,t,n,r,y.columns,!0),Bx(e,t,o+1,r,y.columns,b),P0(e,t,r,y.columns)}),o=d};o<t.body.length-1;)c()}function zx(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(s){return Ts(e,t,s,n,r)})}function w8(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var l=o===t.body.length-1;kf(e,t,s,l,n,r,i)})}function Bx(e,t,n,r,i,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(n+s,t.body.length),l=-1;return t.body.slice(n,o).forEach(function(c,d){var h=n+d===t.body.length-1,b=$b(e,t,h,r);c.canEntireRowFit(b,i)&&(Ts(e,t,c,r,i),l=n+d)}),l}function P0(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(s){return Ts(e,t,s,n,r)})}function N8(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),s=Math.floor((t-i)/r);return Math.max(0,s)}function _8(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,l=n.columns;o<l.length;o++){var c=l[o],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var h=new Hb(d.raw,d.styles,d.section);h=As(h,d),h.text=[];var b=N8(d,t,r);d.text.length>b&&(h.text=d.text.splice(b,d.text.length));var y=r.scaleFactor(),p=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(y,p),d.contentHeight>=t&&(d.contentHeight=t,h.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),h.contentHeight=h.getContentHeight(y,p),h.contentHeight>s&&(s=h.contentHeight),i[c.index]=h}}var S=new qb(e.raw,-1,e.section,i,!0);S.height=s;for(var C=0,I=n.columns;C<I.length;C++){var c=I[C],h=S.cells[c.index];h&&(h.height=S.height);var d=e.cells[c.index];d&&(d.height=e.height)}return S}function j8(e,t,n,r){var i=e.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,l=i-o;t.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=t.getMinimumRowHeight(r.columns,e),d=c<n;if(c>l)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var h=t.hasRowSpan(r.columns),b=t.getMaxCellHeight(r.columns)>l;return b?(h&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||r.settings.rowPageBreak==="avoid")}function kf(e,t,n,r,i,s,o){var l=$b(e,t,r,s);if(n.canEntireRowFit(l,o))Ts(e,t,n,s,o);else if(j8(e,n,l,t)){var c=_8(n,l,t,e);Ts(e,t,n,s,o),Dc(e,t,i,s,o),kf(e,t,c,r,i,s,o)}else Dc(e,t,i,s,o),kf(e,t,n,r,i,s,o)}function Ts(e,t,n,r,i){r.x=t.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var l=o[s],c=n.cells[l.index];if(!c){r.x+=l.width;continue}e.applyStyles(c.styles),c.x=r.x,c.y=r.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,n,l,r);if(d===!1){r.x+=l.width;continue}S8(e,c,r);var h=c.getTextPos();Db(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,n,l,r),r.x+=l.width}r.y+=n.height}function S8(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=Ob(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),k8(e,t,n,r.lineWidth))}function k8(e,t,n,r){var i,s,o,l;r.top&&(i=n.x,s=n.y,o=n.x+t.width,l=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,s,o,l)),r.bottom&&(i=n.x,s=n.y+t.height,o=n.x+t.width,l=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,s,o,l)),r.left&&(i=n.x,s=n.y,o=n.x,l=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.left,i,s,o,l)),r.right&&(i=n.x+t.width,s=n.y,o=n.x+t.width,l=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.right,i,s,o,l));function c(d,h,b,y,p){e.getDocument().setLineWidth(d),e.getDocument().line(h,b,y,p,"S")}}function $b(e,t,n,r){var i=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function Dc(e,t,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(l){return Ts(e,t,l,r,i)}),t.callEndPageHooks(e,r);var o=t.settings.margin;Mb(e,t,n,r),Wb(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Ts(e,t,l,r,i)}),e.applyStyles(e.userStyles))}function Wb(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function A8(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=Kk(this,r),s=f8(this,i);return y8(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,i){Db(t,n,r,i,this)},e.API.autoTableSetDefaults=function(t){return ll.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){ll.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new ll(this),s=Ub(i,t,window,n,!1),o=s.head,l=s.body,c=((r=o[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var F0;try{if(typeof window<"u"&&window){var Ux=window,qx=Ux.jsPDF||((F0=Ux.jspdf)===null||F0===void 0?void 0:F0.jsPDF);qx&&A8(qx)}}catch(e){console.error("Could not apply autoTable plugin",e)}function L8({patient:e,visitId:t,onClose:n,onViewVisit:r,loggedInPractitioner:i}){const[s,o]=Ae.useState([]),[l,c]=Ae.useState(""),[d,h]=Ae.useState(!1),[b,y]=Ae.useState(null),p=Ae.useRef(null),[S,C]=Ae.useState(!1),[I,g]=Ae.useState(!1),[v,w]=Ae.useState({fontSize:"medium",theme:"light",messageDensity:"normal",autoScroll:!0,soundNotifications:!1});Ae.useEffect(()=>{const _=localStorage.getItem("clinicalDiscussionSettings");if(_)try{const j=JSON.parse(_);w(E=>({...E,...j}))}catch(j){console.error("Failed to load settings:",j)}},[]),Ae.useEffect(()=>{localStorage.setItem("clinicalDiscussionSettings",JSON.stringify(v))},[v]),Ae.useEffect(()=>{if(v.soundNotifications&&s.length>0){const _=s[s.length-1];if(_.speaker==="ai"&&_.content!=="Thinking...")try{const j=new(window.AudioContext||window.webkitAudioContext),E=j.createOscillator(),R=j.createGain();E.connect(R),R.connect(j.destination),E.frequency.value=800,E.type="sine",R.gain.setValueAtTime(.3,j.currentTime),R.gain.exponentialRampToValueAtTime(.01,j.currentTime+.1),E.start(j.currentTime),E.stop(j.currentTime+.1)}catch(j){console.log("Sound notification not available:",j)}}},[s,v.soundNotifications]);const k=t||"",H=()=>{const _={"Content-Type":"application/json"};return i!=null&&i.email&&(_["X-User-Email"]=i.email),i!=null&&i.id&&(_["X-User-Id"]=i.id),_};Ae.useCallback(async()=>{o([])},[e.id,t]);const M=Ae.useCallback(async(_=!1)=>{try{h(!0);const j=await fetch(`${vr}/discussion/chat/initialize`,{method:"POST",headers:H(),body:JSON.stringify({patientId:e.id,visitId:k,practitionerEmail:i==null?void 0:i.email,forceNew:_})});if(j.ok){const E=await j.json();if(E.data&&E.data.initialized===!0&&E.data.response){const R=E.data.response,Z={id:`initial_${Date.now()}`,speaker:"ai",speakerName:"AI Clinical Assistant",speakerRole:"AI Assistant",timestamp:new Date().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),content:R,messageType:"text",createdAt:Date.now()};o([Z]),console.log(_?"Chat session restarted with new session ID":"Chat session initialized with initial message")}else o([]),console.log("Chat session already exists")}else{const E=await j.text();console.error("Failed to initialize chat session:",j.statusText,E),o([])}}catch(j){console.error("Failed to initialize chat session:",j),o([])}finally{h(!1)}},[e.id,k,i==null?void 0:i.email]);Ae.useEffect(()=>{M(!1)},[e.id,k]),Ae.useEffect(()=>{var _;v.autoScroll&&((_=p.current)==null||_.scrollIntoView({behavior:"smooth"}))},[s,v.autoScroll]);const K=async _=>{var G,se,le;if(_.preventDefault(),!l.trim())return;const j=l;c("");const E={id:`user_${Date.now()}`,speaker:"doctor",speakerName:i!=null&&i.name?i.name.startsWith("Dr.")?i.name:`Dr. ${i.name}`:"You",speakerRole:i==null?void 0:i.specialty,timestamp:new Date().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),content:j,messageType:"text",createdAt:Date.now()};o(ae=>[...ae,E]);const R=`waiting_${Date.now()}`,Z={id:R,speaker:"ai",speakerName:"AI Clinical Assistant",speakerRole:"AI Assistant",timestamp:"...",content:"Thinking...",messageType:"text",createdAt:Date.now()+1};o(ae=>[...ae,Z]),h(!0);try{const ae=await fetch(`${vr}/discussion/chat`,{method:"POST",headers:H(),body:JSON.stringify({patientId:e.id,visitId:k,message:j,practitionerEmail:i==null?void 0:i.email})});if(!ae.ok){const ue=await ae.text();throw new Error(`Failed to send message: ${ae.statusText} - ${ue}`)}const U=await ae.json();(G=U.data)!=null&&G.sessionId&&y(U.data.sessionId),o(ue=>ue.filter(me=>me.id!==R));const te=((se=U.data)==null?void 0:se.response)||U.response||((le=U.data)==null?void 0:le.message)||U.message;if(te&&te.trim()&&te!=="null"){const ue={id:`ai_${Date.now()}`,speaker:"ai",speakerName:"AI Clinical Assistant",speakerRole:"AI Assistant",timestamp:new Date().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),content:te,messageType:"explanation",createdAt:Date.now()};o(me=>[...me,ue])}else{const ue={id:`error_${Date.now()}`,speaker:"ai",speakerName:"System",timestamp:new Date().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),content:"Sorry, the AI did not return a valid response. Please try again.",messageType:"text",createdAt:Date.now()};o(me=>[...me,ue])}}catch(ae){console.error("Error sending message:",ae),o(te=>te.filter(ue=>ue.id!==R));const U={id:`error_${Date.now()}`,speaker:"ai",speakerName:"System",timestamp:new Date().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),content:`Sorry, I encountered an error processing your request: ${ae instanceof Error?ae.message:"Unknown error"}. Please try again.`,messageType:"text",createdAt:Date.now()};o(te=>[...te,U])}finally{h(!1)}},T=v.theme==="dark"?"dark":"";return a.jsx("div",{className:`${T} ${n?"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4":"h-full flex flex-col"}`,children:a.jsxs("div",{className:`${n?`${v.theme==="dark"?"bg-slate-900":"bg-white"} rounded-2xl w-full max-w-5xl h-full max-h-[95vh] shadow-2xl`:"h-full"} flex flex-col overflow-hidden`,children:[a.jsxs("div",{className:`px-4 sm:px-6 py-3 sm:py-4 border-b ${v.theme==="dark"?"border-slate-700 bg-slate-800":"border-slate-200 bg-gradient-to-br from-white via-slate-50/30 to-white"} flex-shrink-0`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-indigo-600 via-indigo-700 to-slate-700 flex items-center justify-center shadow-lg ring-2 ring-indigo-100",children:a.jsx(_a,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:e.name}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[a.jsxs("span",{className:"text-sm text-slate-600 font-medium",children:[e.age," years, ",e.sex]}),k&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-slate-300",children:""}),a.jsx("span",{className:"text-xs text-slate-500 font-mono bg-slate-100 px-2 py-0.5 rounded border border-slate-200",children:k})]}),e.twinId&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-slate-300",children:""}),a.jsxs("span",{className:"text-xs text-indigo-600 font-mono bg-indigo-50 px-2 py-0.5 rounded border border-indigo-200 flex items-center gap-1",children:[a.jsx(b_,{className:"w-3 h-3"}),e.twinId.substring(0,20),"..."]})]})]})]})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>g(!I),className:"text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg p-2 transition-all",title:"Toggle patient details",children:I?a.jsx(tl,{className:"w-5 h-5"}):a.jsx(el,{className:"w-5 h-5"})}),a.jsxs("button",{onClick:()=>C(!S),className:"text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg p-2 transition-all relative",title:"Settings",children:[a.jsx(l2,{className:"w-5 h-5"}),S&&a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-indigo-600 rounded-full"})]}),n&&a.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg p-2 transition-all",children:a.jsx(Lp,{className:"w-5 h-5"})})]})]}),I&&a.jsxs("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-slate-200 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 animate-in slide-in-from-top-2 duration-200 max-h-[30vh] overflow-y-auto",children:[e.vitals&&a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200/50 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:a.jsx(Hf,{className:"w-4 h-4 text-blue-700"})}),a.jsx("span",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Vitals"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[e.vitals.bloodPressure&&a.jsxs("div",{className:"flex justify-between items-center bg-white/60 rounded-lg px-3 py-2",children:[a.jsx("span",{className:"text-slate-600 font-medium",children:"BP:"}),a.jsx("span",{className:"font-semibold text-slate-900",children:e.vitals.bloodPressure})]}),e.vitals.heartRate&&a.jsxs("div",{className:"flex justify-between items-center bg-white/60 rounded-lg px-3 py-2",children:[a.jsx("span",{className:"text-slate-600 font-medium",children:"HR:"}),a.jsx("span",{className:"font-semibold text-slate-900",children:e.vitals.heartRate})]}),e.vitals.temperature&&a.jsxs("div",{className:"flex justify-between items-center bg-white/60 rounded-lg px-3 py-2",children:[a.jsx("span",{className:"text-slate-600 font-medium",children:"Temp:"}),a.jsx("span",{className:"font-semibold text-slate-900",children:e.vitals.temperature})]})]})]}),e.medications&&e.medications.length>0&&a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-200/50 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"p-1.5 bg-purple-100 rounded-lg",children:a.jsx(_y,{className:"w-4 h-4 text-purple-700"})}),a.jsx("span",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Medications"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.medications.slice(0,3).map((_,j)=>a.jsx("span",{className:"px-2.5 py-1 bg-white/80 text-purple-700 text-xs font-medium rounded-lg border border-purple-200/50",children:_},j)),e.medications.length>3&&a.jsxs("span",{className:"px-2.5 py-1 bg-slate-200/60 text-slate-600 text-xs font-medium rounded-lg",children:["+",e.medications.length-3," more"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 rounded-xl p-4 border border-slate-200/50 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"p-1.5 bg-slate-100 rounded-lg",children:a.jsx(Ti,{className:"w-4 h-4 text-slate-700"})}),a.jsx("span",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wide",children:"Status"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center bg-white/60 rounded-lg px-3 py-2",children:[a.jsx("span",{className:"text-slate-600 font-medium",children:"Status:"}),a.jsx("span",{className:"font-semibold text-slate-900",children:e.status})]}),e.lastEvaluation&&a.jsxs("div",{className:"flex justify-between items-center bg-white/60 rounded-lg px-3 py-2",children:[a.jsx("span",{className:"text-slate-600 font-medium",children:"Last Eval:"}),a.jsx("span",{className:"font-semibold text-slate-900 text-xs",children:new Date(e.lastEvaluation).toLocaleDateString()})]}),e.nextAction&&a.jsxs("div",{className:"flex justify-between items-center bg-white/60 rounded-lg px-3 py-2",children:[a.jsx("span",{className:"text-slate-600 font-medium",children:"Next:"}),a.jsx("span",{className:"font-semibold text-slate-900 text-xs truncate",children:e.nextAction})]})]})]})]})]}),a.jsxs("div",{className:`overflow-y-auto flex-1 min-h-0 px-4 sm:px-6 py-4 sm:py-6 ${v.theme==="dark"?"bg-slate-900":"bg-gradient-to-b from-slate-50/40 via-white to-slate-50/20"}`,children:[a.jsx("div",{className:v.messageDensity==="compact"?"space-y-2":v.messageDensity==="comfortable"?"space-y-6":"space-y-4",children:s.map(_=>{const j=_.speaker==="ai",E=!j,R=v.messageDensity==="compact"?"mb-2":v.messageDensity==="comfortable"?"mb-6":"mb-4";return a.jsxs("div",{className:`flex gap-3 ${R} ${E?"flex-row-reverse":""}`,children:[a.jsx("div",{className:`w-11 h-11 rounded-full flex items-center justify-center flex-shrink-0 shadow-md ${j?"bg-gradient-to-br from-indigo-500 via-indigo-600 to-indigo-700 ring-2 ring-indigo-100":"bg-gradient-to-br from-slate-500 via-slate-600 to-slate-700 ring-2 ring-slate-100"}`,children:j?a.jsx(gr,{className:"w-5 h-5 text-white"}):a.jsx(_a,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:`flex-1 ${E?"flex flex-col items-end":""}`,children:[a.jsxs("div",{className:`flex items-baseline gap-2 mb-2 ${E?"flex-row-reverse":""}`,children:[a.jsx("span",{className:`font-semibold text-sm ${j?"text-indigo-700":"text-slate-700"}`,children:_.speakerName}),_.speakerRole&&a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:_.speakerRole}),a.jsx("span",{className:"text-xs text-gray-400",children:_.timestamp})]}),j&&_.messageType!=="text"&&a.jsx("div",{className:`mb-2 ${E?"flex justify-end":""}`,children:a.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${_.messageType==="explanation"?"bg-indigo-100 text-indigo-700":_.messageType==="data-reference"?"bg-slate-100 text-slate-700":"bg-amber-100 text-amber-700"}`,children:_.messageType==="explanation"?"AI Explanation":_.messageType==="data-reference"?"Data Reference":"AI Suggestion"})}),a.jsxs("div",{className:`rounded-2xl p-4 border shadow-md max-w-[75%] transition-all hover:shadow-lg ${j?v.theme==="dark"?"bg-slate-800 border-indigo-600/50 rounded-tl-none":"bg-gradient-to-br from-white to-indigo-50/30 border-indigo-200/80 rounded-tl-none":v.theme==="dark"?"bg-slate-800 border-slate-600/50 rounded-tr-none":"bg-gradient-to-br from-white to-slate-50/30 border-slate-200/80 rounded-tr-none"}`,children:[_.content==="Thinking..."?a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Waiting for AI response..."})]}):_.content&&_.content!=="(No content)"?a.jsx("p",{className:`${v.theme==="dark"?"text-slate-100":"text-slate-800"} whitespace-pre-wrap break-words leading-relaxed font-normal`,style:{fontSize:v.fontSize==="small"?"0.875rem":v.fontSize==="large"?"1rem":"0.9375rem"},children:_.content}):a.jsx("p",{className:`${v.theme==="dark"?"text-slate-400":"text-slate-500"} italic`,style:{fontSize:v.fontSize==="small"?"0.875rem":v.fontSize==="large"?"1rem":"0.9375rem"},children:"(No content)"}),_.references&&_.references.length>0&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-300 space-y-2",children:_.references.map((Z,G)=>a.jsxs("button",{className:`flex items-center gap-2 text-sm ${j?"text-purple-700 hover:text-purple-800":"text-blue-600 hover:text-blue-700"}`,children:[a.jsx(j_,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${Z.type==="vitals"?"bg-green-100 text-green-700":Z.type==="labs"?"bg-purple-100 text-purple-700":Z.type==="visit"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:Z.type}),Z.label]},G))})]})]})]},_.id)})}),a.jsx("div",{ref:p})]}),S&&a.jsxs("div",{className:"absolute right-4 top-20 bg-white rounded-2xl shadow-2xl border border-slate-200 p-5 w-80 z-50 animate-in slide-in-from-right-2 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-indigo-100 rounded-lg",children:a.jsx(l2,{className:"w-4 h-4 text-indigo-700"})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Chat Settings"})]}),a.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg p-1 transition-all",children:a.jsx(Lp,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-5 max-h-[60vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[a.jsx(C_,{className:"w-4 h-4 text-indigo-600"}),"Font Size"]}),a.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(_=>a.jsx("button",{onClick:()=>w({...v,fontSize:_}),className:`flex-1 px-3 py-2.5 rounded-lg text-sm font-medium transition-all ${v.fontSize===_?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[v.theme==="light"?a.jsx(u2,{className:"w-4 h-4 text-amber-600"}):a.jsx(s2,{className:"w-4 h-4 text-indigo-600"}),"Theme"]}),a.jsxs("button",{onClick:()=>w({...v,theme:v.theme==="light"?"dark":"light"}),className:"w-full px-4 py-2.5 rounded-lg bg-slate-100 text-slate-700 hover:bg-slate-200 text-sm font-medium transition-all flex items-center justify-center gap-2",children:[v.theme==="light"?a.jsx(s2,{className:"w-4 h-4"}):a.jsx(u2,{className:"w-4 h-4"}),"Switch to ",v.theme==="light"?"Dark":"Light"," Mode"]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-3",children:[a.jsx(k_,{className:"w-4 h-4 text-indigo-600"}),"Message Density"]}),a.jsx("div",{className:"flex gap-2",children:["compact","normal","comfortable"].map(_=>a.jsx("button",{onClick:()=>w({...v,messageDensity:_}),className:`flex-1 px-2 py-2 rounded-lg text-xs font-medium transition-all ${v.messageDensity===_?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))})]}),a.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-200",children:[a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all",children:[a.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[a.jsx(L_,{className:"w-4 h-4 text-indigo-600"}),"Auto-scroll"]}),a.jsx("input",{type:"checkbox",checked:v.autoScroll,onChange:_=>w({...v,autoScroll:_.target.checked}),className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer"})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all",children:[a.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[v.soundNotifications?a.jsx(E_,{className:"w-4 h-4 text-indigo-600"}):a.jsx(P_,{className:"w-4 h-4 text-slate-400"}),"Sound Notifications"]}),a.jsx("input",{type:"checkbox",checked:v.soundNotifications,onChange:_=>w({...v,soundNotifications:_.target.checked}),className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer"})]})]}),a.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[a.jsxs("label",{className:"text-sm font-semibold text-slate-700 mb-3 block flex items-center gap-2",children:[a.jsx(o2,{className:"w-4 h-4 text-indigo-600"}),"Session Management"]}),a.jsxs("button",{onClick:async()=>{if(confirm("Are you sure you want to restart the chat session? This will create a new session, update it in the patient table, and resend all patient data to the AI.")){h(!0);try{o([]),await M(!0);const _={id:`restart_success_${Date.now()}`,speaker:"ai",speakerName:"System",speakerRole:"System",timestamp:new Date().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),content:" Session restarted successfully. New session ID created and all patient data has been resent to the AI.",messageType:"text",createdAt:Date.now()};setTimeout(()=>{o(j=>[...j,_])},500)}catch(_){console.error("Failed to restart session:",_);const j={id:`restart_error_${Date.now()}`,speaker:"ai",speakerName:"System",timestamp:new Date().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),content:` Failed to restart session: ${_ instanceof Error?_.message:"Unknown error"}`,messageType:"text",createdAt:Date.now()};o(E=>[...E,j])}finally{h(!1)}}},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-indigo-100 to-indigo-50 text-indigo-700 rounded-lg hover:from-indigo-200 hover:to-indigo-100 transition-all text-sm font-medium border border-indigo-200",children:[a.jsx(o2,{className:"w-4 h-4"}),"Restart Session"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"Creates new session, updates BigQuery, and resends patient data"})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-200 space-y-2",children:[a.jsxs("button",{onClick:()=>{const _=new rt,j=_.internal.pageSize.getWidth(),E=_.internal.pageSize.getHeight();let R=20;const Z=U=>R+U>E-20?(_.addPage(),R=20,!0):!1,G=(U,te,ue,me,P,q=[0,0,0])=>{let $=ue,X=te;const Q=P*.45,ne=te+me,xe=U.split(" |NEWLINE| ");for(let ge=0;ge<xe.length;ge++){let he=xe[ge];const Se=[];let ke=0,Te={text:"",bold:!1,italic:!1,code:!1,color:q};for(;ke<he.length;){if(ke+3<he.length&&he[ke]==="*"&&he[ke+1]==="*"){const je=he.indexOf("**",ke+2);if(je!==-1){Te.text&&(Se.push({...Te}),Te={text:"",bold:!1,italic:!1,code:!1,color:q});const z=he.substring(ke+2,je);Se.push({text:z,bold:!0,italic:!1,code:!1,color:q}),ke=je+2;continue}}if(he[ke]==="`"){const je=he.indexOf("`",ke+1);if(je!==-1){Te.text&&(Se.push({...Te}),Te={text:"",bold:!1,italic:!1,code:!1,color:q});const z=he.substring(ke+1,je);Se.push({text:z,bold:!1,italic:!1,code:!0,color:[99,102,241]}),ke=je+1;continue}}if(he[ke]==="*"&&(ke===0||he[ke-1]!=="*")&&(ke+1>=he.length||he[ke+1]!=="*")){const je=he.indexOf("*",ke+1);if(je!==-1&&(je===he.length-1||he[je+1]!=="*")&&(je===ke+1||he[je-1]!=="*")){Te.text&&(Se.push({...Te}),Te={text:"",bold:!1,italic:!1,code:!1,color:q});const z=he.substring(ke+1,je);Se.push({text:z,bold:!1,italic:!0,code:!1,color:q}),ke=je+1;continue}}Te.text+=he[ke],ke++}Te.text&&Se.push({...Te}),Se.length===0&&Se.push({text:he,bold:!1,italic:!1,code:!1,color:q}),_.setFontSize(P),ge>0&&($+=Q,X=te,$+Q>E-20&&(_.addPage(),$=20));for(const je of Se){if(!je.text)continue;let z="normal";je.bold&&je.italic?z="bolditalic":je.bold?z="bold":je.italic&&(z="italic"),_.setFont("helvetica",z),_.setTextColor(je.color[0],je.color[1],je.color[2]);const Pe=ne-X,We=_.splitTextToSize(je.text,Pe);for(let Ve=0;Ve<We.length;Ve++){const Le=We[Ve],Ke=_.getTextWidth(Le);X+Ke>ne&&X>te&&($+=Q,X=te,$+Q>E-20&&(_.addPage(),$=20)),_.text(Le,X,$),X+=Ke,Ve<We.length-1&&($+=Q,X=te,$+Q>E-20&&(_.addPage(),$=20))}}}return _.setTextColor(0,0,0),_.setFont("helvetica","normal"),$-ue};_.setFillColor(99,102,241),_.rect(0,0,j,50,"F"),_.setTextColor(255,255,255),_.setFontSize(20),_.setFont("helvetica","bold"),_.text("Clinical Discussion Report",j/2,20,{align:"center"}),_.setFontSize(12),_.setFont("helvetica","normal"),_.text(`Patient: ${e.name}`,j/2,30,{align:"center"}),_.setFontSize(10),_.text(`${e.age} years, ${e.sex}  ${k||"N/A"}`,j/2,37,{align:"center"});const se=new Date().toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});_.setFontSize(9),_.text(`Exported: ${se}`,j/2,44,{align:"center"}),R=60,_.setTextColor(0,0,0),_.setFontSize(14),_.setFont("helvetica","bold"),_.text("Conversation History",14,R),R+=10,_.setDrawColor(200,200,200),_.line(14,R,j-14,R),R+=8,s.forEach((U,te)=>{Z(40);const ue=U.speaker==="ai",me=!ue;_.setFontSize(11),_.setFont("helvetica","bold"),_.setTextColor(ue?99:51,ue?102:51,ue?241:51),_.text(`${ue?"AI Clinical Assistant":U.speakerName}`,14,R),_.setFontSize(9),_.setFont("helvetica","normal"),_.setTextColor(128,128,128),_.text(U.timestamp,j-14,R,{align:"right"}),R+=6,ue&&U.messageType!=="text"&&(_.setFontSize(8),_.setFont("helvetica","italic"),_.setTextColor(99,102,241),_.text(`[${U.messageType==="explanation"?"AI Explanation":U.messageType==="data-reference"?"Data Reference":"AI Suggestion"}]`,14,R),R+=5),_.setFontSize(9),_.setFont("helvetica","bold"),_.setTextColor(0,0,0),me?_.text("Request:",14,R):_.text("Response:",14,R),R+=5,_.setFontSize(10),_.setFont("helvetica","normal"),_.setTextColor(0,0,0);const P=(U.content||"(No content)").replace(/\n/g," |NEWLINE| "),q=G(P,14,R,j-28,10,[0,0,0]);R+=Math.max(q,10)+8,te<s.length-1&&(_.setDrawColor(230,230,230),_.line(14,R,j-14,R),R+=5)});const le=_.getNumberOfPages();for(let U=1;U<=le;U++)_.setPage(U),_.setFontSize(8),_.setTextColor(128,128,128),_.text(`Page ${U} of ${le}  TwinCare Clinical Discussion Report`,j/2,E-10,{align:"center"});const ae=`clinical-discussion-${e.name.replace(/\s+/g,"-")}-${Date.now()}.pdf`;_.save(ae)},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-indigo-100 to-indigo-50 text-indigo-700 rounded-lg hover:from-indigo-200 hover:to-indigo-100 transition-all text-sm font-medium border border-indigo-200",children:[a.jsx(by,{className:"w-4 h-4"}),"Export as PDF"]}),a.jsxs("button",{onClick:()=>{confirm("Are you sure you want to clear all messages? This action cannot be undone.")&&o([])},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-50 to-red-100 text-red-700 rounded-lg hover:from-red-100 hover:to-red-200 transition-all text-sm font-medium border border-red-200",children:[a.jsx(Ap,{className:"w-4 h-4"}),"Clear Chat"]})]})]})]}),a.jsxs("div",{className:`border-t flex-shrink-0 ${v.theme==="dark"?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} px-4 sm:px-6 py-3 sm:py-4`,children:[a.jsxs("form",{onSubmit:K,className:"flex gap-2 sm:gap-3 items-end",children:[a.jsx("div",{className:"flex-1 relative min-w-0",children:a.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Ask about patient condition, request analysis, or discuss treatment options...",className:`w-full px-3 sm:px-4 py-2 sm:py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 text-xs sm:text-sm transition-all ${v.theme==="dark"?"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-400 hover:border-slate-500":"bg-white border-slate-300 hover:border-slate-400"}`,disabled:d})}),a.jsx("button",{type:"submit",disabled:d||!l.trim(),className:"px-4 sm:px-5 py-2 sm:py-3 bg-indigo-600 text-white font-medium rounded-lg transition-all hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-indigo-400 flex items-center gap-1 sm:gap-2 text-xs sm:text-sm shadow-sm hover:shadow-md flex-shrink-0",children:d?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(A_,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Send"})]})})]}),a.jsx("div",{className:`text-xs mt-2 sm:mt-3 text-center ${v.theme==="dark"?"text-slate-400":"text-slate-500"}`,children:"Messages are ephemeral and private  Not saved to patient record"})]})]})})}function C8({patient:e,visitId:t,onOpenFull:n}){return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(xl,{className:"w-4 h-4 text-gray-400"}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Clinical Discussion"})]}),a.jsxs("div",{className:"text-center py-8 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg border border-blue-100",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4",children:a.jsx(xl,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Start a Clinical Discussion"}),a.jsx("p",{className:"text-sm text-gray-600 mb-6 max-w-sm mx-auto px-4",children:"Have a conversation with the AI Clinical Assistant about this patient. Messages are private and ephemeral."}),a.jsx("button",{onClick:n,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-sm hover:shadow-md text-sm",children:"Open Chat"})]})]})}function E8({patient:e,onViewFullTimeline:t}){const[n,r]=Ae.useState([]),[i,s]=Ae.useState(!0),[o,l]=Ae.useState(null);Ae.useEffect(()=>{(async()=>{try{s(!0),l(null);const h=await fetch(`${vr}/analyze/visit-history/${e.id}`,{headers:{"X-User-Id":"doctor-001","X-User-Role":"DOCTOR"}});if(!h.ok){const y=await h.text();let p=`Failed to fetch visit history: ${h.statusText}`;try{const S=JSON.parse(y);S.message&&(p=S.message)}catch{y&&(p=y)}throw new Error(p)}const b=await h.json();b.data?(r(b.data),b.data.length===0&&l(null)):r([])}catch(h){console.error("Error fetching visit history:",h),h.message&&h.message.includes("Table")&&h.message.includes("not found")?l("Visit history table not yet created. Visits will appear here after the first visit is completed."):l(h.message||"Failed to load visit history. Please ensure the backend is running and the visits table exists."),r([])}finally{s(!1)}})()},[e.id]);const c=(d,h)=>{const b=(d||h||"").toLowerCase();return b.includes("manual")?"Manual":b.includes("background")?"Background":b.includes("follow")?"Follow-up":d||"Manual"};return a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-base font-medium text-gray-900",children:"Recent visits and clinical encounters timeline"})}),i&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:a.jsx("div",{className:"text-sm text-gray-600",children:"Loading visit history..."})}),o&&a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-amber-800 mb-4",children:a.jsx("div",{className:"text-sm",children:o})}),!i&&!o&&n.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-2 mb-4",children:n.map(d=>{const h=d.visit_date?new Date(d.visit_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown date",b=c(d.visit_type||"",d.trigger_source||""),y=d.visit_status||"Completed";return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-gray-900",children:h}),a.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded bg-blue-100 text-blue-700",children:b}),a.jsx("span",{className:"text-sm text-gray-600",children:y})]}),a.jsx(v_,{className:"w-4 h-4 text-gray-400"})]},d.visit_id)})}),a.jsx("button",{onClick:t,className:"w-full py-2.5 px-4 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"View Full Timeline"})]}),!i&&!o&&n.length===0&&a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[a.jsx(gl,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"No Visits Recorded"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Visit history will appear here once evaluations are completed"})]})]})}function P8({patient:e,onViewFullRecord:t,onViewClinicalDiscussion:n,visitTrigger:r,discussionReferenced:i,loggedInPractitioner:s}){var Kt,_t;const[o,l]=Ae.useState(1),[c,d]=Ae.useState("not-started"),[h,b]=Ae.useState(!1),[y,p]=Ae.useState(null),[S,C]=Ae.useState(null);Ae.useState(!1);const[I,g]=Ae.useState("High"),[v,w]=Ae.useState(""),[k,H]=Ae.useState(!1),[M,K]=Ae.useState(!1),[T,_]=Ae.useState(!1),[j,E]=Ae.useState(null),[R,Z]=Ae.useState(null),[G,se]=Ae.useState(null),[le,ae]=Ae.useState(null),[U,te]=Ae.useState([]),[ue,me]=Ae.useState(null),[P,q]=Ae.useState(null),[$,X]=Ae.useState(null),[Q,ne]=Ae.useState(!1),[xe,ge]=Ae.useState(!1),[he,Se]=Ae.useState([]),[ke,Te]=Ae.useState([]),[je,z]=Ae.useState({}),[Pe,We]=Ae.useState({}),Ve=ie=>{if(!ie)return"Medium";const ve=ie.trim().toLowerCase();return ve==="low"||ve==="low risk"||ve==="low alert"?"Low":ve==="medium"||ve==="medium risk"||ve==="moderate"||ve==="moderate risk"||ve==="moderate alert"?"Medium":ve==="critical"||ve==="critical risk"||ve==="critical alert"||ve==="severe"||ve==="severe risk"?"Critical":ve==="high"||ve==="high risk"||ve==="high alert"?"High":"Medium"},Le=async()=>{var ie,ye,ve,lt;H(!0),d("in-progress"),Z(null);try{const Ut=`visit_${Date.now()}`,Re=(r==null?void 0:r.type)||"Manual Review",Oe=await fetch(`${vr}/analyze/fetch-data/${e.id}?visitId=${Ut}&visitType=${encodeURIComponent(Re)}`);if(!Oe.ok){const Xe=await Oe.json().catch(()=>({}));throw new Error(((ie=Xe.error)==null?void 0:ie.message)||`Failed to fetch data: ${Oe.statusText}`)}const ct=(await Oe.json()).data;if(E(ct),se({alarms:((ye=ct.alarm)==null?void 0:ye.length)||0,riskFactors:((ve=ct.risk_factor)==null?void 0:ve.length)||0,twinSummaries:((lt=ct.twin_summary_versions)==null?void 0:lt.length)||0}),ct.twin_summary_versions&&ct.twin_summary_versions.length>0){const Xe=ct.twin_summary_versions[0];typeof Xe.summary_text=="string"?ae(Xe.summary_text):Xe.summary_text&&ae(JSON.stringify(Xe.summary_text))}if(ct.risk_factor&&Array.isArray(ct.risk_factor)){const Xe=ct.risk_factor.filter(ht=>ht.is_active===!0||ht.is_active==="true"||String(ht.is_active).toLowerCase()==="true"||ht.status==="OPEN"||ht.status==="ACTIVE");te(Xe)}b(!0),l(2),H(!1)}catch(Ut){console.error("Error fetching Function 1 input data:",Ut),Z(Ut.message||"Failed to fetch data"),H(!1)}},Ke=async()=>{var ie,ye,ve,lt,Ut;if(!j){l(3);return}K(!0),Z(null);try{const Re=await fetch(`${vr}/analyze/generate-assessment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!Re.ok){const Xe=await Re.json().catch(()=>({}));throw new Error(((ie=Xe.error)==null?void 0:ie.message)||`Failed to generate assessment: ${Re.statusText}`)}const pe=(await Re.json()).data,ct=Ve(((ye=pe.ai_recommendation)==null?void 0:ye.risk_tier)||e.riskTier);if(p({riskTier:ct,reasoning:((ve=pe.ai_recommendation)==null?void 0:ve.reasoning)||["Multiple high-risk comorbidities detected","Elevated blood pressure above target range","Medication interaction risk identified"],confidence:((lt=pe.ai_recommendation)==null?void 0:lt.confidence)||"High",reasoningReferences:((Ut=pe.ai_recommendation)==null?void 0:Ut.reasoning_references)||[],medicationRecommendations:pe.medication_recommendations||[],procedureRecommendations:pe.procedure_recommendations||[],additionalRecommendations:pe.additional_recommendations||[],riskAssessment:pe.risk_assessment||null,differentialDiagnosis:pe.differential_diagnosis||[]}),g(ct),pe.medication_recommendations&&pe.medication_recommendations.length>0){const Xe=pe.medication_recommendations.map((ht,zt)=>({id:`med_${zt+1}`,medication:ht.medication||"Unknown medication",dose:ht.dose||"",frequency:ht.frequency||"",duration:ht.duration||"Ongoing",rationale:ht.rationale||"",evidence:Array.isArray(ht.reasoning)?ht.reasoning:ht.reasoning?[ht.reasoning]:[],status:ht.status||"Unknown"}));Se(Xe)}else Se([]);if(pe.procedure_recommendations&&pe.procedure_recommendations.length>0){const Xe=pe.procedure_recommendations.map((ht,zt)=>({id:`proc_${zt+1}`,procedure:ht.procedure||"Unknown procedure",timing:ht.timing||"",rationale:ht.rationale||"",evidence:Array.isArray(ht.reasoning)?ht.reasoning:ht.reasoning?[ht.reasoning]:[],status:ht.status||"Unknown"}));Te(Xe)}else Te([]);K(!1),l(3)}catch(Re){console.error("Error generating clinical assessment:",Re),Z(Re.message||"Failed to generate clinical assessment"),K(!1)}},Me=ie=>{const ye=(ie||"").toLowerCase();return ye==="planned"||ye==="continue"||ye==="start"||ye==="increase"||ye==="add"||ye==="adjust"||ye==="order"||ye==="schedule"||ye==="urgent"||ye==="asap"},tt=ie=>{const ye=(ie||"").toLowerCase();return ye==="planned"||ye==="continue"||ye==="start"||ye==="order"||ye==="schedule"||ye==="urgent"||ye==="asap"||ye==="critical"?"bg-green-100 text-green-800 border border-green-200":ye==="consider"||ye==="defer"||ye==="not planned"?"bg-amber-100 text-amber-800 border border-amber-200":ye==="stop"||ye==="discontinue"?"bg-red-100 text-red-800 border border-red-200":"bg-gray-100 text-gray-600 border border-gray-200"},Je=async()=>{var ie,ye,ve,lt,Ut,Re,Oe;if(!j||!y){Z("Missing required data to finalize decision");return}_(!0),Z(null);try{const pe=j.twinId||j.twin_id||`twin_${e.id}`,ct=j.visitId||j.visit_id||`visit_${Date.now()}`,Xe=j.visitType||j.visit_type||(r==null?void 0:r.type)||"Manual Review",ht=new Date().toISOString(),zt=he.map(Et=>({id:Et.id,medication:Et.medication,dose:Et.dose,frequency:Et.frequency,duration:Et.duration||"Ongoing",rationale:Et.rationale,reasoning:Et.evidence||[],status:Et.status,doctor_modified:!1,doctor_notes:null})),fn=ke.map(Et=>({id:Et.id,procedure:Et.procedure,timing:Et.timing,rationale:Et.rationale,reasoning:Et.evidence||[],status:Et.status,doctor_modified:!1,doctor_notes:null})),Nn={visit_type:Xe,trigger_source:(r==null?void 0:r.source)||"Doctor-initiated",visit_reason:(r==null?void 0:r.type)||"Routine follow-up",encounter_id:ct,encounter_start:j.asOfTimeUtc||j.as_of_time_utc||ht,encounter_end:ht},ii={conditions:((ie=j.patientSnapshot)==null?void 0:ie.currentConditions)||((ye=j.patient_snapshot)==null?void 0:ye.current_conditions)||[],medications:((ve=j.patientSnapshot)==null?void 0:ve.currentMedications)||((lt=j.patient_snapshot)==null?void 0:lt.current_medications)||[],latest_vitals:((Ut=j.patientSnapshot)==null?void 0:Ut.latestVitals)||((Re=j.patient_snapshot)==null?void 0:Re.latest_vitals)||{}},at=j.twin_summary_versions&&j.twin_summary_versions.length>0?j.twin_summary_versions[0]:null,_n={twin_id:pe,patient_id:e.id,visit_id:ct,as_of_time_utc:ht,created_at_override_utc:null,doctor_decision:{final_risk_tier:I,ai_risk_tier:y.riskTier,risk_tier_override:I!==y.riskTier,reasoning_notes:v,doctor_id:(s==null?void 0:s.id)||"unknown",doctor_name:(s==null?void 0:s.name)||"Unknown Doctor",decision_timestamp:ht},finalized_medications:zt,finalized_procedures:fn,visit_context:Nn,patient_data_snapshot:ii,alarm:j.alarm||[],risk_factor:j.risk_factor||[],latest_twin_summary:at,config:{N_TREND_POINTS:3,MAX_ACTION_INBOX_ITEMS:10,REFILL_GRACE_DAYS:3,FOLLOW_UP_DUE_HOUR_UTC:17}},hn=await fetch(`${vr}/analyze/finalize-decision`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_n)});if(!hn.ok){const Et=await hn.json().catch(()=>({}));throw new Error(((Oe=Et.error)==null?void 0:Oe.message)||`Failed to finalize decision: ${hn.statusText}`)}const Zt=(await hn.json()).data;l(4),d("completed");const jn=he.filter(Et=>Me(Et.status)).length,or=ke.filter(Et=>Me(Et.status)).length,Cr=()=>{try{if(Zt!=null&&Zt.summaryJson){const lr=Zt.summaryJson.encounter_digest;if(lr&&typeof lr=="object"){const Rs=lr.follow_up_register;if(Rs&&Array.isArray(Rs)&&Rs.length>0){const Oi=Rs[0];if(Oi!=null&&Oi.due_date){const Ca=new Date(Oi.due_date);if(!isNaN(Ca.getTime()))return Ca.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}}}}}catch(lr){console.warn("Error parsing follow-up date from twin summary:",lr)}const Et=I==="High"?3:I==="Medium"?7:14,Er=new Date;return Er.setDate(Er.getDate()+Et),Er.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},si=()=>{try{if(Zt!=null&&Zt.summaryJson){const Et=Zt.summaryJson.action_inbox;if(Et&&Array.isArray(Et)&&Et.length>0)return"Active";const Er=Zt.summaryJson.risk_ready_outputs;if(Er&&typeof Er=="object"){const lr=Er.red_flags;if(lr&&Array.isArray(lr)&&lr.length>0)return"Active"}}}catch(Et){console.warn("Error parsing monitoring status from twin summary:",Et)}return"Active"};C({approved:!0,timestamp:new Date().toLocaleString(),riskTier:I,planSummary:`${jn} medication adjustment${jn!==1?"s":""}, ${or} procedure/order${or!==1?"s":""}`,twinSummary:Zt,followUpDate:Cr(),monitoringStatus:si()}),_(!1)}catch(pe){console.error("Error finalizing decision:",pe),Z(pe.message||"Failed to finalize decision"),_(!1)}},Pt=ie=>{me(ie.id),z({...ie})},bt=()=>{ue&&je&&(Se(he.map(ie=>ie.id===ue?{...ie,...je}:ie)),me(null),z({}))},ot=()=>{me(null),z({})},kt=ie=>{X({type:"medication",id:ie})},Lt=()=>{$&&($.type==="medication"?Se(he.filter(ie=>ie.id!==$.id)):Te(ke.filter(ie=>ie.id!==$.id)),X(null))},Ge=()=>{ne(!0),z({id:Date.now().toString(),medication:"",dose:"",frequency:"",duration:"",rationale:"",evidence:[],status:"Planned"})},mt=()=>{je.medication&&je.dose&&je.frequency&&je.rationale&&(Se([...he,je]),ne(!1),z({}))},Qe=()=>{ne(!1),z({})},dn=ie=>{q(ie.id),We({...ie})},Ft=()=>{P&&Pe&&(Te(ke.map(ie=>ie.id===P?{...ie,...Pe}:ie)),q(null),We({}))},wt=()=>{q(null),We({})},Nt=ie=>{X({type:"procedure",id:ie})},en=()=>{ge(!0),We({id:Date.now().toString(),procedure:"",timing:"",rationale:"",evidence:[],status:"Planned"})},it=()=>{Pe.procedure&&Pe.timing&&Pe.rationale&&(Te([...ke,Pe]),ge(!1),We({}))},Yt=()=>{ge(!1),We({})},st=()=>{var ii;if(!S||!y){console.error("Cannot generate report: Missing decision or AI recommendation data");return}const ie=y,ye=S,ve=new rt,lt=ve.internal.pageSize.getWidth(),Ut=ve.internal.pageSize.getHeight(),Re=20,Oe=lt-2*Re;let pe=Re;const ct=at=>pe+at>Ut-Re?(ve.addPage(),pe=Re,!0):!1,Xe=(at,_n,hn,ar={})=>{const{fontSize:Zt=10,fontStyle:jn="normal",color:or=[0,0,0],maxWidth:Cr=Oe}=ar;ve.setFontSize(Zt),ve.setFont("helvetica",jn),ve.setTextColor(or[0],or[1],or[2]);const si=ve.splitTextToSize(at,Cr);return ve.text(si,_n,hn),si.length*Zt*.4};ve.setFillColor(59,130,246),ve.rect(0,0,lt,40,"F"),ve.setTextColor(255,255,255),ve.setFontSize(20),ve.setFont("helvetica","bold"),ve.text("Visit Report",Re,25),ve.setFontSize(10),ve.setFont("helvetica","normal"),ve.text(`Patient: ${e.name} | ${e.id}`,Re,35),ve.text(`Generated: ${new Date().toLocaleString()}`,lt-Re,35,{align:"right"}),pe=50,ve.setTextColor(0,0,0),ct(20),ve.setFontSize(14),ve.setFont("helvetica","bold"),ve.text("Visit Information",Re,pe),pe+=10,ve.setFontSize(10),ve.setFont("helvetica","normal"),r&&(pe+=Xe(`Trigger Type: ${r.type}`,Re,pe,{maxWidth:Oe/2}),pe+=Xe(`Source: ${r.source}`,Re+Oe/2,pe,{maxWidth:Oe/2}),pe+=Xe(`Timestamp: ${r.timestamp}`,Re,pe)),pe+=15,ct(30),ve.setFontSize(14),ve.setFont("helvetica","bold"),ve.text("AI Clinical Assessment",Re,pe),pe+=10,ve.setFontSize(10),ve.setFont("helvetica","normal");const ht=ie.riskTier==="Critical"?"Critical Alert":ie.riskTier==="High"?"High Alert":ie.riskTier==="Medium"?"Moderate Alert":"Low Alert";pe+=Xe(`Risk Tier: ${ht}`,Re,pe,{fontSize:11,fontStyle:"bold"}),pe+=8,ie.reasoning&&ie.reasoning.length>0&&(ct(15),ve.setFontSize(11),ve.setFont("helvetica","bold"),ve.text("Clinical Reasoning:",Re,pe),pe+=7,ve.setFontSize(10),ve.setFont("helvetica","normal"),ie.reasoning.forEach(at=>{ct(10),pe+=Xe(` ${at}`,Re+5,pe),pe+=6}),pe+=5),ie.differentialDiagnosis&&ie.differentialDiagnosis.length>0&&(ct(20),ve.setFontSize(11),ve.setFont("helvetica","bold"),ve.text("Differential Diagnosis:",Re,pe),pe+=10,ie.differentialDiagnosis.forEach((at,_n)=>{ct(40);const hn=at.diagnosisName||at.diagnosis_name||"Diagnosis",ar=at.probabilityBin||at.probability_bin||"Low",Zt=at.reasoning||"",jn=at.supportingEvidence||at.supporting_evidence||[];ve.setFontSize(10),ve.setFont("helvetica","bold"),pe+=Xe(`${_n+1}. ${hn}`,Re,pe),pe+=5,ve.setFontSize(9),ve.setFont("helvetica","normal"),ve.setTextColor(100,100,100),pe+=Xe(`Confidence: ${ar}`,Re+5,pe),ve.setTextColor(0,0,0),pe+=6,Zt&&(ct(15),ve.setFontSize(9),pe+=Xe(`Reasoning: ${Zt}`,Re+5,pe),pe+=8),jn&&jn.length>0&&(ct(10),ve.setFontSize(9),ve.text("Supporting Evidence:",Re+5,pe),pe+=6,jn.forEach(or=>{ct(8),pe+=Xe(`   ${or}`,Re+5,pe,{fontSize:9}),pe+=5})),pe+=5})),he&&he.length>0&&(ct(20),ve.setFontSize(11),ve.setFont("helvetica","bold"),ve.text("Medication Recommendations:",Re,pe),pe+=10,he.forEach((at,_n)=>{ct(25),ve.setFontSize(10),ve.setFont("helvetica","bold"),pe+=Xe(`${_n+1}. ${at.medication}`,Re,pe),pe+=5,ve.setFontSize(9),ve.setFont("helvetica","normal"),pe+=Xe(`   Dose: ${at.dose} | Frequency: ${at.frequency}${at.duration?` | Duration: ${at.duration}`:""}`,Re+5,pe),pe+=5,pe+=Xe(`   Status: ${at.status}`,Re+5,pe),pe+=5,pe+=Xe(`   Rationale: ${at.rationale}`,Re+5,pe),at.evidence&&at.evidence.length>0&&(pe+=5,ve.setFontSize(8),ve.text("   Evidence:",Re+5,pe),pe+=5,at.evidence.forEach(hn=>{ct(6),pe+=Xe(`      ${hn}`,Re+5,pe,{fontSize:8}),pe+=4})),pe+=8})),ke&&ke.length>0&&(ct(20),ve.setFontSize(11),ve.setFont("helvetica","bold"),ve.text("Procedure/Order Recommendations:",Re,pe),pe+=10,ke.forEach((at,_n)=>{ct(25),ve.setFontSize(10),ve.setFont("helvetica","bold"),pe+=Xe(`${_n+1}. ${at.procedure}`,Re,pe),pe+=5,ve.setFontSize(9),ve.setFont("helvetica","normal"),pe+=Xe(`   Timing: ${at.timing} | Status: ${at.status}`,Re+5,pe),pe+=5,pe+=Xe(`   Rationale: ${at.rationale}`,Re+5,pe),at.evidence&&at.evidence.length>0&&(pe+=5,ve.setFontSize(8),ve.text("   Evidence:",Re+5,pe),pe+=5,at.evidence.forEach(hn=>{ct(6),pe+=Xe(`      ${hn}`,Re+5,pe,{fontSize:8}),pe+=4})),pe+=8})),ct(30),ve.setFontSize(14),ve.setFont("helvetica","bold"),ve.text("Final Clinical Decision",Re,pe),pe+=10,ve.setFontSize(10),ve.setFont("helvetica","normal");const zt=ye.riskTier==="Critical"?"Critical Alert":ye.riskTier==="High"?"High Alert":ye.riskTier==="Medium"?"Moderate Alert":"Low Alert";if(pe+=Xe(`Final Risk Tier: ${zt}`,Re,pe,{fontSize:11,fontStyle:"bold"}),pe+=8,pe+=Xe(`Approved By: ${(s==null?void 0:s.name)||ye.approvedBy||"Unknown Doctor"}`,Re,pe),pe+=8,pe+=Xe(`Completed At: ${ye.timestamp||new Date().toLocaleString()}`,Re,pe),pe+=8,ye.reasoningNotes&&(ct(15),ve.setFontSize(10),ve.setFont("helvetica","bold"),ve.text("Clinical Reasoning Notes:",Re,pe),pe+=7,ve.setFont("helvetica","normal"),pe+=Xe(ye.reasoningNotes,Re,pe),pe+=10),ye.twinSummary){if(ct(30),ve.setFontSize(11),ve.setFont("helvetica","bold"),ve.text("Digital Twin Summary",Re,pe),pe+=10,ve.setFontSize(9),ve.setFont("helvetica","normal"),ye.twinSummary.summaryVersion&&(pe+=Xe(`Summary Version: ${ye.twinSummary.summaryVersion}`,Re,pe),pe+=6),ye.twinSummary.asOfTime){const at=new Date(ye.twinSummary.asOfTime).toLocaleString();pe+=Xe(`As of Time: ${at}`,Re,pe),pe+=8}ye.twinSummary.summaryText&&(ct(20),ve.setFontSize(9),ve.setFont("helvetica","bold"),ve.text("Clinical Summary:",Re,pe),pe+=7,ve.setFont("helvetica","normal"),pe+=Xe(ye.twinSummary.summaryText,Re,pe),pe+=10)}ct(30),ve.setFontSize(11),ve.setFont("helvetica","bold"),ve.text("Visit Outcomes",Re,pe),pe+=10,ve.setFontSize(9),ve.setFont("helvetica","normal"),pe+=Xe(" Decision Documented - Clinical decision saved to record",Re,pe),pe+=6,pe+=Xe(` Treatment Plan - ${ye.planSummary||"Treatment plan recorded"}`,Re,pe),pe+=6,pe+=Xe(" Twin Summary - Generated and saved",Re,pe),pe+=6,pe+=Xe(` Monitoring Status - ${ye.monitoringStatus||"Active"}`,Re,pe),ye.followUpDate&&(pe+=6,pe+=Xe(` Follow-up Scheduled - ${ye.followUpDate}`,Re,pe));const fn=((ii=ve.internal)==null?void 0:ii.getNumberOfPages())||1;for(let at=1;at<=fn;at++)ve.setPage(at),ve.setFontSize(8),ve.setTextColor(100,100,100),ve.text(`Page ${at} of ${fn}`,lt/2,Ut-10,{align:"center"}),ve.text("TwinCare - Digital Twin Healthcare Intelligence",Re,Ut-10),ve.text(new Date().toLocaleDateString(),lt-Re,Ut-10,{align:"right"});const Nn=`Visit_Report_${e.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;ve.save(Nn)},dt=[{number:1,label:"Patient State",description:"Review data"},{number:2,label:"Assessment",description:"AI analysis"},{number:3,label:"Decision",description:"Clinical judgment"},{number:4,label:"Finalized",description:"Documented"}];return a.jsxs("div",{children:[r&&a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-4 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Visit Trigger"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded",children:r.type}),a.jsx("span",{className:"text-xs text-gray-500",children:""}),a.jsxs("span",{className:"text-xs text-gray-600",children:["Source: ",a.jsx("span",{className:"font-medium",children:r.source})]}),a.jsx("span",{className:"text-xs text-gray-500",children:""}),a.jsx("span",{className:"text-xs text-gray-600",children:r.timestamp})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Clinical Workflow Progress"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",o," of 4"]})]}),a.jsxs("div",{children:[c==="not-started"&&a.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm font-medium rounded-full",children:"Not Started"}),c==="in-progress"&&a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),"In Progress"]}),c==="completed"&&a.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-full flex items-center gap-1.5",children:[a.jsx(ki,{className:"w-3.5 h-3.5"}),"Completed"]})]})]}),a.jsx("div",{className:"flex items-center justify-between",children:dt.map((ie,ye)=>a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${o>ie.number?"bg-green-500":o===ie.number?"bg-blue-500":"bg-gray-200"}`,children:o>ie.number?a.jsx(ki,{className:"w-5 h-5 text-white"}):a.jsx("span",{className:`text-sm font-medium ${o===ie.number?"text-white":"text-gray-500"}`,children:ie.number})}),a.jsxs("div",{className:`text-xs text-center max-w-[120px] ${o===ie.number?"font-medium text-gray-900":"text-gray-600"}`,children:[a.jsx("div",{children:ie.label}),a.jsx("div",{className:"text-gray-500 mt-0.5",children:ie.description})]})]}),ye<dt.length-1&&a.jsx("div",{className:`flex-1 h-0.5 mx-2 ${o>ie.number?"bg-green-500":"bg-gray-200"}`})]},ie.number))})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o===1&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Step 1: Patient State"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Snapshot of current problems, medications, and latest vitals."})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Status"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rr,{tier:e.riskTier,size:"md"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Last evaluation: ",e.lastEvaluation]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Key Clinical Indicators"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Conditions:"}),a.jsxs("span",{className:"ml-2 text-gray-900",children:[e.conditions.length," active"]})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Medications:"}),a.jsxs("span",{className:"ml-2 text-gray-900",children:[e.medications.length," current"]})]}),e.vitals&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"BP:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:e.vitals.bloodPressure})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"HR:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:e.vitals.heartRate})]})]})]})]}),a.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"text-sm text-blue-900",children:[a.jsx("div",{className:"font-medium mb-1",children:"Ready to proceed"}),a.jsx("div",{className:"text-blue-800",children:"Patient data is current and complete. You may proceed to AI analysis."})]})})]}),R&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"text-sm text-red-900",children:[a.jsx("div",{className:"font-medium mb-1",children:"Error"}),a.jsx("div",{className:"text-red-800",children:R})]})}),a.jsx("button",{onClick:Le,disabled:k,className:"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:k?a.jsxs(a.Fragment,{children:[a.jsx(gr,{className:"w-5 h-5 animate-pulse"}),"Fetching Data..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gr,{className:"w-5 h-5"}),"Generate AI Assessment",a.jsx(e0,{className:"w-5 h-5"})]})})]}),o===2&&!y&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gr,{className:"w-5 h-5 text-purple-600"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Step 2: Data Fetched"}),a.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded",children:"Ready"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Patient data has been fetched. Review the summary below and proceed to generate AI recommendations."})]}),G&&a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Data Fetched Summary"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-700",children:G.alarms}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Alarms"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-700",children:G.riskFactors}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Risk Factors"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-700",children:G.twinSummaries}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Twin Summaries"})]})]})]}),(j==null?void 0:j.patient_snapshot)&&a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Patient Snapshot"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Conditions:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:((Kt=j.patient_snapshot.current_conditions)==null?void 0:Kt.length)||0})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Medications:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:((_t=j.patient_snapshot.current_medications)==null?void 0:_t.length)||0})]}),j.patient_snapshot.latest_vitals&&a.jsxs(a.Fragment,{children:[j.patient_snapshot.latest_vitals.bloodPressure&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"BP:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:j.patient_snapshot.latest_vitals.bloodPressure})]}),j.patient_snapshot.latest_vitals.heartRate&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"HR:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:j.patient_snapshot.latest_vitals.heartRate})]})]})]})]}),le&&a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Clinical Summary"}),a.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap max-h-60 overflow-y-auto",children:le})]})]}),R&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"text-sm text-red-900",children:[a.jsx("div",{className:"font-medium mb-1",children:"Error"}),a.jsx("div",{className:"text-red-800",children:R})]})}),a.jsx("button",{onClick:Ke,disabled:M||!j,className:"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:M?a.jsxs(a.Fragment,{children:[a.jsx(gr,{className:"w-5 h-5 animate-pulse"}),"Generating AI Recommendations..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gr,{className:"w-5 h-5"}),"Generate AI Recommendations",a.jsx(e0,{className:"w-5 h-5"})]})})]}),o===2&&y&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gr,{className:"w-5 h-5 text-purple-600"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Step 2: AI Clinical Assessment"}),a.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-medium rounded",children:"Assistive"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Review the AI-generated assessment and supporting evidence before making your decision."})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"AI Assessment"}),a.jsx(rr,{tier:y.riskTier,size:"lg"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Clinical Reasoning"}),a.jsx("ul",{className:"space-y-2",children:y.reasoning.map((ie,ye)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-1.5 flex-shrink-0"}),ie]},ye))})]}),a.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"text-sm text-blue-900",children:[a.jsx("div",{className:"font-medium mb-1",children:"AI model: ClinicalAI v3.2.1"}),a.jsxs("div",{className:"text-blue-800",children:["Analysis timestamp: ",new Date().toLocaleString()]}),(y==null?void 0:y.confidence)&&a.jsxs("div",{className:"text-blue-800 mt-1",children:["Confidence: ",y.confidence]})]})})]}),R&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"text-sm text-red-900",children:[a.jsx("div",{className:"font-medium mb-1",children:"Error"}),a.jsx("div",{className:"text-red-800",children:R})]})}),a.jsx("button",{onClick:Ke,disabled:M,className:"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:M?a.jsxs(a.Fragment,{children:[a.jsx(gr,{className:"w-5 h-5 animate-pulse"}),"Generating AI Recommendations..."]}):a.jsxs(a.Fragment,{children:["Proceed to Clinical Review",a.jsx(e0,{className:"w-5 h-5"})]})})]}),o===3&&a.jsxs("div",{children:[a.jsx("div",{className:"mb-6 pb-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(_a,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Step 3: Clinical Decision"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Record your clinical judgment and reasoning. This becomes the authoritative visit record."})]})]})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"border-2 border-purple-200 rounded-xl p-6 bg-gradient-to-br from-purple-50 to-purple-100/50 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 bg-purple-200 rounded-lg",children:a.jsx(gr,{className:"w-5 h-5 text-purple-700"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-bold text-gray-900",children:"AI Recommendations"}),a.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Review and adjust based on your clinical judgment"})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-white/70 border border-purple-200 rounded-lg",children:a.jsxs("p",{className:"text-xs text-purple-800 font-medium flex items-center gap-2",children:[a.jsx(vc,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:"These recommendations are assistive; clinician review is required."})]})}),(y==null?void 0:y.differentialDiagnosis)&&y.differentialDiagnosis.length>0&&a.jsxs("div",{className:"mb-6 mt-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-purple-300 to-transparent"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full"}),a.jsx("h5",{className:"text-base font-bold text-gray-900 px-2",children:"Differential Diagnosis"}),a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full"})]}),a.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-purple-300 to-transparent"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-5",children:y.differentialDiagnosis.map((ie,ye)=>{const ve=ie.diagnosisName||ie.diagnosis_name||"Diagnosis",lt=ie.probabilityBin||ie.probability_bin||"Low",Ut=ie.reasoning||"",Re=ie.supportingEvidence||ie.supporting_evidence||[];return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-7 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-white to-gray-50/30",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6 pb-5 border-b-2 border-gray-100",children:[a.jsx("div",{className:"flex-1 pr-4",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${lt==="High"?"bg-red-500":lt==="Medium"?"bg-yellow-500":"bg-blue-500"}`}),a.jsx("h6",{className:"text-xl font-bold text-black leading-tight",children:ve})]})}),a.jsx("span",{className:`px-5 py-2.5 text-xs font-bold rounded-full whitespace-nowrap shadow-md ${lt==="High"?"bg-gradient-to-r from-red-500 to-red-600 text-white":lt==="Medium"?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white":"bg-gradient-to-r from-blue-500 to-blue-600 text-white"}`,children:lt==="High"?"High Confidence":lt==="Medium"?"Moderate Confidence":"Low Confidence"})]}),Ut&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-1 h-1 bg-purple-600 rounded-full"}),a.jsx("div",{className:"text-xs font-bold text-purple-700 uppercase tracking-wider",children:"Clinical Reasoning"})]}),a.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-5 border border-purple-100 shadow-sm",children:a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:Ut})})]}),Re&&Re.length>0&&a.jsxs("div",{className:"pt-5 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-1 h-1 bg-indigo-600 rounded-full"}),a.jsx("div",{className:"text-xs font-bold text-indigo-700 uppercase tracking-wider",children:"Supporting Evidence"})]}),a.jsx("ul",{className:"space-y-2",children:Re.map((Oe,pe)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx("span",{className:"text-indigo-600 font-bold mt-0.5",children:""}),a.jsx("span",{className:"flex-1",children:Oe})]},pe))})]})]},ye)})})]}),a.jsxs("div",{className:"mb-6 mt-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-gray-300 to-transparent"}),a.jsx("h5",{className:"text-sm font-bold text-gray-900 px-3",children:"Medications"}),a.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-gray-300 to-transparent"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-4 flex items-center gap-1.5 justify-center",children:[a.jsx(vc,{className:"w-3.5 h-3.5 text-gray-400"}),a.jsx("span",{children:"Hover over evidence badges to view source details"})]}),he.length===0?a.jsxs("div",{className:"p-6 bg-white/80 border-2 border-dashed border-gray-300 rounded-xl text-center",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"No medication recommendations from AI"}),a.jsx("div",{className:"text-xs text-gray-400",children:"You can add your own recommendations below"})]}):a.jsx("div",{className:"space-y-4",children:he.map(ie=>a.jsx("div",{className:`bg-white border-2 rounded-xl p-5 shadow-md mr-4 transition-all duration-200 ${ue===ie.id?"border-blue-500 bg-blue-50/50 shadow-lg ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300 hover:shadow-lg"}`,children:ue===ie.id?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:"Medication"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:je.medication||"",onChange:ye=>z({...je,medication:ye.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:"Dose"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:je.dose||"",onChange:ye=>z({...je,dose:ye.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:"Frequency"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:je.frequency||"",onChange:ye=>z({...je,frequency:ye.target.value})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:["Duration ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:je.duration||"",onChange:ye=>z({...je,duration:ye.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:"Rationale"}),a.jsx("textarea",{className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm resize-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",rows:3,value:je.rationale||"",onChange:ye=>z({...je,rationale:ye.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:"Status"}),a.jsxs("select",{className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors bg-white",value:je.status||"Planned",onChange:ye=>z({...je,status:ye.target.value}),children:[a.jsx("option",{value:"Planned",children:"Planned"}),a.jsx("option",{value:"Continue",children:"Continue"}),a.jsx("option",{value:"Start",children:"Start"}),a.jsx("option",{value:"Increase",children:"Increase"}),a.jsx("option",{value:"Adjust",children:"Adjust"}),a.jsx("option",{value:"Stop",children:"Stop"}),a.jsx("option",{value:"Discontinue",children:"Discontinue"}),a.jsx("option",{value:"Consider",children:"Consider"})]})]}),a.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Evidence (read-only)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:ie.evidence.map((ye,ve)=>a.jsx("span",{className:"px-2.5 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-md border border-purple-200 shadow-sm",children:ye},ve))})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{onClick:bt,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 active:bg-blue-800 shadow-md hover:shadow-lg transition-all duration-200",children:"Save Changes"}),a.jsx("button",{onClick:ot,className:"flex-1 px-4 py-2.5 border-2 border-gray-300 text-gray-700 text-sm font-semibold rounded-lg hover:bg-gray-50 hover:border-gray-400 active:bg-gray-100 transition-all duration-200",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1 pr-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"font-bold text-base text-gray-900",children:ie.medication}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsxs("div",{className:"text-sm text-gray-700 font-medium",children:[ie.dose," ",ie.frequency]}),ie.duration&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:""}),a.jsxs("div",{className:"text-xs text-gray-500",children:["(",ie.duration,")"]})]})]}),a.jsxs("div",{className:"text-sm text-gray-700 mb-3 leading-relaxed",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Rationale:"})," ",ie.rationale]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:ie.evidence.map((ye,ve)=>{var lt;return a.jsx("span",{className:"px-2.5 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-md border border-purple-200 cursor-help hover:bg-purple-200 transition-colors shadow-sm",title:`Source: ${ye.includes("BP")||ye.includes("HR")?"Vitals":ye.includes("mg/dL")?"Labs":"Medication"}  ${ye.includes("Jan")?"Manual Visit":"Background Monitoring"}  ${((lt=ye.match(/\(([^)]+)\)/))==null?void 0:lt[1])||"Active"}`,children:ye},ve)})})]}),a.jsx("div",{className:"flex items-start gap-2 ml-3 flex-shrink-0",children:a.jsx("span",{className:`px-3 py-1.5 text-xs font-bold rounded-lg shadow-sm ${tt(ie.status)}`,title:`Status: ${ie.status}`,children:ie.status})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>Pt(ie),className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1",title:"Edit recommendation",children:[a.jsx(a2,{className:"w-3 h-3"}),"Edit"]}),a.jsxs("button",{onClick:()=>kt(ie.id),className:"text-xs text-red-600 hover:text-red-700 flex items-center gap-1",title:"Remove from proposed plan",children:[a.jsx(Ap,{className:"w-3 h-3"}),"Remove"]})]})]})},ie.id))}),Q&&a.jsxs("div",{className:"bg-white border-2 border-blue-400 rounded-xl p-5 bg-gradient-to-br from-blue-50 to-blue-100/50 shadow-lg",children:[a.jsxs("div",{className:"text-sm text-blue-900 mb-4 font-bold flex items-center gap-2",children:[a.jsx(gd,{className:"w-4 h-4"}),"Add New Medication Recommendation"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:["Medication ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:je.medication||"",onChange:ie=>z({...je,medication:ie.target.value}),placeholder:"e.g., Metoprolol"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:["Dose ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:je.dose||"",onChange:ie=>z({...je,dose:ie.target.value}),placeholder:"e.g., 25 mg"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:["Frequency ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:je.frequency||"",onChange:ie=>z({...je,frequency:ie.target.value}),placeholder:"e.g., twice daily"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:["Duration ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:je.duration||"",onChange:ie=>z({...je,duration:ie.target.value}),placeholder:"e.g., Ongoing"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:["Rationale ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm resize-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",rows:3,value:je.rationale||"",onChange:ie=>z({...je,rationale:ie.target.value}),placeholder:"Clinical justification for this recommendation"})]}),a.jsxs("div",{className:"flex gap-3 pt-3 border-t border-gray-200",children:[a.jsx("button",{onClick:mt,disabled:!je.medication||!je.dose||!je.frequency||!je.rationale,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 active:bg-blue-800 disabled:bg-gray-300 disabled:cursor-not-allowed shadow-md hover:shadow-lg transition-all duration-200",children:"Add Recommendation"}),a.jsx("button",{onClick:Qe,className:"flex-1 px-4 py-2.5 border-2 border-gray-300 text-gray-700 text-sm font-semibold rounded-lg hover:bg-gray-50 hover:border-gray-400 active:bg-gray-100 transition-all duration-200",children:"Cancel"})]})]})]})]}),!Q&&a.jsxs("button",{onClick:Ge,className:"mt-3 text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[a.jsx(gd,{className:"w-4 h-4"}),"Add medication recommendation"]})]}),a.jsx("div",{className:"mt-6 mb-8",children:a.jsxs("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-gray-100/50 border-2 border-gray-200 rounded-xl shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-gray-300 to-transparent"}),a.jsx("h5",{className:"text-sm font-bold text-gray-900 px-3",children:"Procedures / Orders"}),a.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-gray-300 to-transparent"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-4 flex items-center gap-1.5 justify-center",children:[a.jsx(vc,{className:"w-3.5 h-3.5 text-gray-400"}),a.jsx("span",{children:"Hover over evidence badges to view source details"})]}),ke.length===0?a.jsxs("div",{className:"p-6 bg-white/80 border-2 border-dashed border-gray-300 rounded-xl text-center",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"No procedure recommendations from AI"}),a.jsx("div",{className:"text-xs text-gray-400",children:"You can add your own recommendations below"})]}):a.jsx("div",{className:"space-y-4",children:ke.map(ie=>a.jsx("div",{className:`bg-white border-2 rounded-xl p-5 shadow-md mr-4 transition-all duration-200 ${P===ie.id?"border-blue-500 bg-blue-50/50 shadow-lg ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300 hover:shadow-lg"}`,children:P===ie.id?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:"Procedure / Order"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:Pe.procedure||"",onChange:ye=>We({...Pe,procedure:ye.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:"Timing"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:Pe.timing||"",onChange:ye=>We({...Pe,timing:ye.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:"Rationale"}),a.jsx("textarea",{className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm resize-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",rows:3,value:Pe.rationale||"",onChange:ye=>We({...Pe,rationale:ye.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:"Status"}),a.jsxs("select",{className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors bg-white",value:Pe.status||"Planned",onChange:ye=>We({...Pe,status:ye.target.value}),children:[a.jsx("option",{value:"Planned",children:"Planned"}),a.jsx("option",{value:"Order",children:"Order"}),a.jsx("option",{value:"Schedule",children:"Schedule"}),a.jsx("option",{value:"Urgent",children:"Urgent"}),a.jsx("option",{value:"ASAP",children:"ASAP"}),a.jsx("option",{value:"Critical",children:"Critical"}),a.jsx("option",{value:"Consider",children:"Consider"}),a.jsx("option",{value:"Defer",children:"Defer"}),a.jsx("option",{value:"Not planned",children:"Not planned"})]})]}),a.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Evidence (read-only)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:ie.evidence.map((ye,ve)=>a.jsx("span",{className:"px-2.5 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-md border border-purple-200 shadow-sm",children:ye},ve))})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{onClick:Ft,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 active:bg-blue-800 shadow-md hover:shadow-lg transition-all duration-200",children:"Save Changes"}),a.jsx("button",{onClick:wt,className:"flex-1 px-4 py-2.5 border-2 border-gray-300 text-gray-700 text-sm font-semibold rounded-lg hover:bg-gray-50 hover:border-gray-400 active:bg-gray-100 transition-all duration-200",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1 pr-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"font-bold text-base text-gray-900",children:ie.procedure}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("div",{className:"text-sm text-gray-700 font-medium",children:ie.timing})]}),a.jsxs("div",{className:"text-sm text-gray-700 mb-3 leading-relaxed",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Rationale:"})," ",ie.rationale]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:ie.evidence.map((ye,ve)=>{var lt;return a.jsx("span",{className:"px-2.5 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-md border border-purple-200 cursor-help hover:bg-purple-200 transition-colors shadow-sm",title:`Source: ${ye.includes("BP")||ye.includes("HR")?"Vitals":ye.includes("mg/dL")?"Labs":ye.includes("dose")?"Medication":"Procedure"}  ${ye.includes("Jan")?"Manual Visit":"Background Monitoring"}  ${((lt=ye.match(/\(([^)]+)\)/))==null?void 0:lt[1])||"Active"}`,children:ye},ve)})})]}),a.jsx("div",{className:"flex items-start gap-2 ml-3 flex-shrink-0",children:a.jsx("span",{className:`px-3 py-1.5 text-xs font-bold rounded-lg shadow-sm ${tt(ie.status)}`,title:`Status: ${ie.status}`,children:ie.status})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>dn(ie),className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1",title:"Edit recommendation",children:[a.jsx(a2,{className:"w-3 h-3"}),"Edit"]}),a.jsxs("button",{onClick:()=>Nt(ie.id),className:"text-xs text-red-600 hover:text-red-700 flex items-center gap-1",title:"Remove from proposed plan",children:[a.jsx(Ap,{className:"w-3 h-3"}),"Remove"]})]})]})},ie.id))}),xe&&a.jsxs("div",{className:"bg-white border-2 border-blue-400 rounded-xl p-5 bg-gradient-to-br from-blue-50 to-blue-100/50 shadow-lg",children:[a.jsxs("div",{className:"text-sm text-blue-900 mb-4 font-bold flex items-center gap-2",children:[a.jsx(gd,{className:"w-4 h-4"}),"Add New Procedure / Order"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:["Procedure / Order ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:Pe.procedure||"",onChange:ie=>We({...Pe,procedure:ie.target.value}),placeholder:"e.g., Order ECG"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:["Timing ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",value:Pe.timing||"",onChange:ie=>We({...Pe,timing:ie.target.value}),placeholder:"e.g., In 7 days"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-semibold text-gray-700 block mb-1.5",children:["Rationale ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg text-sm resize-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",rows:3,value:Pe.rationale||"",onChange:ie=>We({...Pe,rationale:ie.target.value}),placeholder:"Clinical justification for this recommendation"})]}),a.jsxs("div",{className:"flex gap-3 pt-3 border-t border-gray-200",children:[a.jsx("button",{onClick:it,disabled:!Pe.procedure||!Pe.timing||!Pe.rationale,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 active:bg-blue-800 disabled:bg-gray-300 disabled:cursor-not-allowed shadow-md hover:shadow-lg transition-all duration-200",children:"Add Recommendation"}),a.jsx("button",{onClick:Yt,className:"flex-1 px-4 py-2.5 border-2 border-gray-300 text-gray-700 text-sm font-semibold rounded-lg hover:bg-gray-50 hover:border-gray-400 active:bg-gray-100 transition-all duration-200",children:"Cancel"})]})]})]}),!xe&&a.jsxs("button",{onClick:en,className:"mt-3 text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[a.jsx(gd,{className:"w-4 h-4"}),"Add procedure recommendation"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-8",children:[a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"p-5 bg-gradient-to-br from-purple-50 to-purple-100/50 border-2 border-purple-200 rounded-xl shadow-md",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-purple-200 rounded-lg",children:a.jsx(gr,{className:"w-5 h-5 text-purple-700"})}),a.jsx("span",{className:"text-base font-bold text-purple-900",children:"AI Assessment"})]}),a.jsx("div",{className:"mb-5",children:a.jsx(rr,{tier:y.riskTier,size:"md"})}),a.jsxs("div",{className:"mb-4 flex items-center gap-2 p-2 bg-white/70 rounded-lg",children:[a.jsx("span",{className:"text-xs font-semibold text-purple-700",children:"AI Confidence:"}),a.jsx("span",{className:"text-xs px-3 py-1 bg-purple-200 text-purple-900 font-bold rounded-lg shadow-sm",children:"High"})]}),a.jsxs("div",{className:"pt-4 border-t-2 border-purple-200 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-700 font-medium",children:[a.jsx(Ti,{className:"w-3.5 h-3.5"}),a.jsxs("span",{children:["Analysis: ",new Date().toLocaleString()]})]}),a.jsx("div",{className:"text-xs text-purple-600",children:"Based on data updated 2 days ago"})]})]}),a.jsxs("div",{className:"p-5 bg-white border-2 border-purple-200 rounded-xl shadow-md",children:[a.jsx("div",{className:"text-sm font-bold text-gray-900 mb-3",children:"Key Findings"}),a.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Hover over findings to see source details. Click to open the referenced data."}),y.reasoningReferences&&y.reasoningReferences.length>0?a.jsx("div",{className:"flex flex-wrap gap-2.5",children:y.reasoningReferences.map((ie,ye)=>a.jsx("span",{className:"px-3 py-1.5 bg-purple-100 text-purple-700 text-xs font-semibold rounded-lg border border-purple-200 cursor-help hover:bg-purple-200 transition-colors shadow-sm",title:`Source: ${ie.source||ie.type||"Unknown"}  Type: ${ie.type||"Unknown"}`,children:ie.label||ie.type||"Evidence"},ye))}):a.jsx("div",{className:"text-xs text-gray-500 italic p-3 bg-gray-50 rounded-lg",children:"No key findings available"})]}),y.riskAssessment&&a.jsxs("div",{className:"p-5 bg-gradient-to-br from-amber-50 to-amber-100/50 border-2 border-amber-200 rounded-xl shadow-md",children:[a.jsx("div",{className:"text-sm font-bold text-amber-900 mb-4",children:"Risk Assessment"}),y.riskAssessment.risk_factors_identified&&y.riskAssessment.risk_factors_identified.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-xs text-amber-800 font-semibold mb-2 uppercase tracking-wide",children:"Risk Factors"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:y.riskAssessment.risk_factors_identified.map((ie,ye)=>a.jsx("span",{className:"inline-flex items-center px-2.5 py-1 bg-amber-100 text-amber-900 text-xs font-medium rounded-md border border-amber-300",children:typeof ie=="string"?ie:ie.factor||"Unknown risk factor"},ye))})]}),y.riskAssessment.mitigation_strategies&&y.riskAssessment.mitigation_strategies.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-amber-800 font-semibold mb-2 uppercase tracking-wide",children:"Mitigation Strategies"}),a.jsx("ul",{className:"space-y-2 text-xs text-amber-800",children:y.riskAssessment.mitigation_strategies.map((ie,ye)=>a.jsxs("li",{className:"flex items-start gap-2.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-amber-600 rounded-full mt-1.5 flex-shrink-0"}),a.jsx("div",{className:"flex-1 leading-relaxed",children:ie})]},ye))})]})]})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"p-5 bg-gradient-to-br from-blue-50 to-blue-100/50 border-2 border-blue-200 rounded-xl shadow-md",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-200 rounded-lg",children:a.jsx(_a,{className:"w-5 h-5 text-blue-700"})}),a.jsx("span",{className:"text-base font-bold text-blue-900",children:"Your Decision"})]}),a.jsxs("div",{className:"mb-5 p-4 bg-white rounded-xl border-2 border-blue-200 shadow-sm",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-semibold text-gray-600 mb-2",children:"AI Assessment"}),a.jsx(rr,{tier:y.riskTier,size:"sm"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Your Selection"}),a.jsx(rr,{tier:I,size:"sm"})]})]}),I!==y.riskTier&&a.jsxs("div",{className:"mt-3 p-3 bg-amber-50 border-2 border-amber-200 rounded-lg text-xs text-amber-900 font-semibold",children:[a.jsx("span",{className:"font-bold",children:" Override detected:"})," Reasoning required below."]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-xs font-bold text-gray-700 mb-2 block",children:"Final Risk Tier"}),a.jsxs("select",{className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg text-sm font-semibold focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors bg-white",value:I,onChange:ie=>g(ie.target.value),children:[a.jsx("option",{value:"Low",children:"Low Alert"}),a.jsx("option",{value:"Medium",children:"Moderate Alert"}),a.jsx("option",{value:"High",children:"High Alert"}),a.jsx("option",{value:"Critical",children:"Critical Alert"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-700 mb-2 block",children:"Reasoning Notes"}),a.jsx("p",{className:"text-xs text-gray-600 mb-3 leading-relaxed",children:"Summarize your clinical reasoning for this decision and any modifications to the proposed plan."}),a.jsx("textarea",{className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-sm resize-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",rows:5,value:v,onChange:ie=>w(ie.target.value),placeholder:"Document your reasoning and any plan modifications..."}),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:I!==y.riskTier&&a.jsxs("span",{className:"text-amber-600 font-bold flex items-center gap-1",children:[a.jsx(vc,{className:"w-3.5 h-3.5"}),"If your final risk tier differs from the AI assessment, document the rationale here."]})})]})]}),y.additionalRecommendations&&y.additionalRecommendations.length>0&&a.jsxs("div",{className:"p-3 bg-gradient-to-br from-blue-50 via-blue-100/70 to-blue-50 border-2 border-blue-200 rounded-lg shadow-sm",children:[a.jsx("div",{className:"text-sm font-bold text-blue-900 mb-2",children:"Additional Recommendations"}),a.jsx("div",{className:"space-y-1.5",children:y.additionalRecommendations.map((ie,ye)=>{const ve=ie.split(":"),lt=ve.length>1?ve[0].trim():null,Ut=ve.length>1?ve.slice(1).join(":").trim():ie;return a.jsxs("div",{className:"flex items-start gap-2 bg-white rounded-md p-2 border border-blue-200/60",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[lt&&a.jsxs("span",{className:"text-xs font-bold text-blue-700 uppercase tracking-wide mr-1.5",children:[lt,":"]}),a.jsx("span",{className:"text-xs text-gray-900 leading-snug",children:Ut})]})]},ye)})})]})]})]}),a.jsxs("div",{className:"p-5 bg-gradient-to-br from-blue-50 to-blue-100/50 border-2 border-blue-200 rounded-xl mb-6 mt-8 shadow-md",children:[a.jsx("div",{className:"text-sm font-bold text-blue-900 mb-4",children:"Final Review Checklist"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm text-blue-800 font-medium",children:[a.jsx(ki,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsx("span",{children:"AI assessment reviewed"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-blue-800 font-medium",children:[a.jsx(ki,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsx("span",{children:"Evidence reviewed"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-blue-800 font-medium",children:[a.jsx(ki,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsx("span",{children:"Proposed plan reviewed and adjusted"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-blue-800 font-medium",children:[v.trim().length>0||I===y.riskTier?a.jsx(ki,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):a.jsx(y_,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),a.jsxs("span",{children:["Reasoning notes completed ",I!==y.riskTier&&a.jsx("span",{className:"text-amber-600 font-bold",children:"(required for override)"})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[R&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"text-sm text-red-900",children:[a.jsx("div",{className:"font-medium mb-1",children:"Error"}),a.jsx("div",{className:"text-red-800",children:R})]})}),a.jsx("button",{onClick:Je,disabled:T||I!==y.riskTier&&v.trim().length===0,className:"w-full px-6 py-4 bg-gradient-to-r from-green-600 to-green-700 text-white font-bold text-base rounded-xl hover:from-green-700 hover:to-green-800 active:from-green-800 active:to-green-900 transition-all duration-200 flex items-center justify-center gap-3 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed shadow-lg hover:shadow-xl disabled:shadow-none",children:T?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Finalizing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wy,{className:"w-6 h-6"}),"Finalize Decision"]})}),a.jsx("div",{className:"text-xs text-center text-gray-600 font-medium",children:"This will finalize the clinical decision for this visit and update the patient record."})]})]}),o===4&&a.jsxs("div",{className:"py-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-full mb-6 shadow-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-bold text-green-700 uppercase tracking-wider",children:"Visit Completed"}),a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Visit Successfully Completed"}),a.jsx("p",{className:"text-sm text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Clinical decision has been finalized and saved to the patient record. Digital twin summary has been generated and stored."})]}),a.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-white to-green-50 border-2 border-green-200 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(ki,{className:"w-6 h-6 text-green-600"})}),a.jsx("h4",{className:"text-base font-bold text-gray-900",children:"Decision Summary"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Final Risk Tier"}),a.jsx("div",{children:a.jsx(rr,{tier:S.riskTier,size:"lg"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Approved By"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:s!=null&&s.name?s.name.split(" ").map(ie=>ie[0]).join("").toUpperCase().slice(0,2):"DR"})}),a.jsx("div",{className:"text-xs font-semibold text-gray-900",children:(s==null?void 0:s.name)||"Unknown Doctor"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Completed At"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700",children:[a.jsx(Ti,{className:"w-3 h-3 text-gray-400"}),a.jsx("span",{children:S==null?void 0:S.timestamp})]})]})]})]}),S.twinSummary&&a.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(nl,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h4",{className:"text-base font-bold text-gray-900",children:"Digital Twin Summary"})]}),a.jsx("span",{className:"px-4 py-1.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xs font-bold rounded-full shadow-sm",children:" Saved to Database"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[S.twinSummary.summaryVersion&&a.jsxs("div",{className:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Summary Version"}),a.jsx("div",{className:"text-sm font-mono text-gray-900 break-all font-semibold",children:S.twinSummary.summaryVersion})]}),S.twinSummary.asOfTime&&a.jsxs("div",{className:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"As of Time"}),a.jsx("div",{className:"text-sm text-gray-900 font-semibold",children:new Date(S.twinSummary.asOfTime).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),S.twinSummary.summaryText&&a.jsxs("div",{className:"p-5 bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(nl,{className:"w-4 h-4 text-blue-600"}),a.jsx("div",{className:"text-xs font-bold text-blue-900 uppercase tracking-wider",children:"Clinical Summary"})]}),a.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed max-h-64 overflow-y-auto pr-2 custom-scrollbar",children:S.twinSummary.summaryText})]})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-2xl p-6 shadow-lg sticky top-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(ki,{className:"w-6 h-6 text-purple-600"})}),a.jsx("h4",{className:"text-base font-bold text-gray-900",children:"Visit Outcomes"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-xl border border-green-200",children:[a.jsx("div",{className:"w-7 h-7 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(ki,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-900 mb-1",children:"Decision Documented"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Clinical decision saved to record"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-xl border border-blue-200",children:[a.jsx("div",{className:"w-7 h-7 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(ki,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-900 mb-1",children:"Treatment Plan"}),a.jsx("div",{className:"text-xs text-blue-700 font-medium",children:S.planSummary})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-indigo-50 rounded-xl border border-indigo-200",children:[a.jsx("div",{className:"w-7 h-7 bg-indigo-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(nl,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-900 mb-1",children:"Twin Summary"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Generated and saved"})]})]}),a.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-xl border ${S.monitoringStatus==="Active"?"bg-green-50 border-green-200":S.monitoringStatus==="Paused"?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"}`,children:[a.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${S.monitoringStatus==="Active"?"bg-green-500":S.monitoringStatus==="Paused"?"bg-yellow-500":"bg-gray-400"}`,children:a.jsx(ki,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-900 mb-1",children:"Monitoring Status"}),a.jsx("div",{className:`text-xs font-medium ${S.monitoringStatus==="Active"?"text-green-700":S.monitoringStatus==="Paused"?"text-yellow-700":"text-gray-600"}`,children:S.monitoringStatus||"Active"})]})]}),S.followUpDate&&a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-amber-50 rounded-xl border border-amber-200",children:[a.jsx("div",{className:"w-7 h-7 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(Ti,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-900 mb-1",children:"Follow-up Scheduled"}),a.jsx("div",{className:"text-xs text-amber-700 font-medium",children:S.followUpDate})]})]})]})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-6 border-t border-gray-200",children:[a.jsx("button",{onClick:()=>{l(1),d("not-started"),b(!1),p(null),C(null),ae(null)},className:"px-8 py-4 border-2 border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm hover:shadow-md",children:"Start New Visit"}),a.jsxs("button",{onClick:st,disabled:!S,className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:[a.jsx(by,{className:"w-5 h-5"}),"Download Visit Report"]})]})]})]})]}),$&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Remove recommendation?"}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"This recommendation will be removed from the proposed plan. This does not affect the final clinical decision unless you choose to modify it."}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>X(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"Cancel"}),a.jsx("button",{onClick:Lt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Remove"})]})]})})]})}function F8({patient:e,onClose:t,onStartNewVisit:n,onOpenDiscussion:r}){const[i,s]=Ae.useState(null),[o,l]=Ae.useState("All"),[c,d]=Ae.useState("All"),[h,b]=Ae.useState(!1),[y,p]=Ae.useState(""),[S,C]=Ae.useState([]),[I,g]=Ae.useState(!0),[v,w]=Ae.useState(null);Ae.useEffect(()=>{(async()=>{try{g(!0),w(null);const K=await fetch(`${vr}/analyze/visit-history/${e.id}`,{headers:{"X-User-Id":"doctor-001","X-User-Role":"DOCTOR"}});if(!K.ok)throw new Error(`Failed to fetch visit history: ${K.statusText}`);const T=await K.json();if(T.data){const _=T.data.map(j=>{var ae,U,te,ue,me,P,q,$,X,Q,ne,xe,ge,he,Se,ke,Te,je,z,Pe,We,Ve,Le,Ke,Me,tt,Je,Pt,bt;const E=j.visit_date?new Date(j.visit_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"Unknown date",R=(j.visit_type||j.trigger_source||"").toLowerCase();let Z="Manual";R.includes("background")?Z="Background":R.includes("follow")&&(Z="Follow-up");const G=ot=>{if(!ot)return"Medium";const kt=ot.toUpperCase();return kt==="HIGH"?"High":kt==="LOW"?"Low":"Medium"},se=G((ae=j.ai_analysis)==null?void 0:ae.risk_tier),le=G((U=j.doctor_decision)==null?void 0:U.final_risk_tier);return{id:j.visit_id,date:E,visitType:Z,status:j.visit_status==="Completed"?"Completed":"Draft",triggerSource:(te=j.trigger_source)!=null&&te.includes("Doctor")?"Doctor-initiated":"Background monitoring",patientState:{conditions:[],dataFreshness:"Current"},aiAnalysis:{riskTier:se,reasoning:((ue=j.ai_analysis)==null?void 0:ue.reasoning)||[],evidenceReferences:((me=j.ai_analysis)==null?void 0:me.reasoning_references)||[],timestamp:((P=j.ai_analysis)==null?void 0:P.timestamp)||j.visit_date||"",modelVersion:((q=j.ai_analysis)==null?void 0:q.model_version)||"ClinicalAI v3.2.1",confidence:($=j.ai_analysis)==null?void 0:$.confidence,reviewedByDoctor:!!j.doctor_decision},doctorDecision:{riskTier:le,recommendation:j.plan_summary||"",notes:((X=j.doctor_decision)==null?void 0:X.reasoning_notes)||"",doctorName:((Q=j.doctor_decision)==null?void 0:Q.doctor_name)||"Unknown",doctorId:(ne=j.doctor_decision)==null?void 0:ne.doctor_id,timestamp:((xe=j.doctor_decision)==null?void 0:xe.decision_timestamp)||j.visit_date||"",aiRiskTier:G((ge=j.doctor_decision)==null?void 0:ge.ai_risk_tier),riskTierOverride:((he=j.doctor_decision)==null?void 0:he.risk_tier_override)||!1},outcome:{status:(ke=(Se=j.visit_outcome)==null?void 0:Se.status)!=null&&ke.includes("Follow-up")?"Follow-up scheduled":(je=(Te=j.visit_outcome)==null?void 0:Te.status)!=null&&je.includes("Monitoring")?"Monitoring continued":"No action",details:(z=j.visit_outcome)==null?void 0:z.details,followUpDate:(Pe=j.visit_outcome)==null?void 0:Pe.follow_up_date,monitoringStatus:(We=j.visit_outcome)==null?void 0:We.monitoring_status,medications:((Ve=j.visit_outcome)==null?void 0:Ve.medications)||[],procedures:((Le=j.visit_outcome)==null?void 0:Le.procedures)||[],ai_medication_recommendations:((Ke=j.visit_outcome)==null?void 0:Ke.ai_medication_recommendations)||[],ai_procedure_recommendations:((Me=j.visit_outcome)==null?void 0:Me.ai_procedure_recommendations)||[],patient_snapshot:(tt=j.visit_outcome)==null?void 0:tt.patient_snapshot,alarms:((Je=j.visit_outcome)==null?void 0:Je.alarms)||[],risk_factors:((Pt=j.visit_outcome)==null?void 0:Pt.risk_factors)||[],latest_twin_summary:(bt=j.visit_outcome)==null?void 0:bt.latest_twin_summary},hasAlarms:!1,hasDiscussion:!1,twinId:j.twin_id,twinSummaryVersion:j.twin_summary_version,planSummary:j.plan_summary,createdAt:j.created_at,updatedAt:j.updated_at}});C(_)}else C([])}catch(K){console.error("Error fetching visit history:",K),w(K.message||"Failed to load visit history"),C([])}finally{g(!1)}})()},[e.id]);const k=S.filter(M=>{const K=o==="All"||M.visitType===o,T=c==="All"||M.aiAnalysis.riskTier===c||M.doctorDecision.riskTier===c,_=y===""||M.date.toLowerCase().includes(y.toLowerCase())||M.doctorDecision.notes.toLowerCase().includes(y.toLowerCase());return K&&T&&_}),H=M=>{s(i===M?null:M)};return a.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-[90%] max-w-6xl max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 rounded-t-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Patient Visit Timeline"}),a.jsx("p",{className:"text-gray-600",children:"Chronological record of visits, analyses, and clinical decisions"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Lp,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Patient: "}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.name})]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Current Risk: "}),a.jsx(rr,{tier:e.riskTier,size:"sm"})]})]}),a.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Start New Visit"})]})]}),a.jsx("div",{className:"px-8 py-4 bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(jy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by date or keyword...",value:y,onChange:M=>p(M.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx(Ny,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:o,onChange:M=>l(M.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"All",children:"All Visit Types"}),a.jsx("option",{value:"Manual",children:"Manual"}),a.jsx("option",{value:"Follow-up",children:"Follow-up"}),a.jsx("option",{value:"Background",children:"Background"})]}),a.jsxs("select",{value:c,onChange:M=>d(M.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"All",children:"All Risk Tiers"}),a.jsx("option",{value:"Critical",children:"Critical Alert"}),a.jsx("option",{value:"High",children:"High Alert"}),a.jsx("option",{value:"Medium",children:"Moderate Alert"}),a.jsx("option",{value:"Low",children:"Low Alert"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:M=>b(M.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),"Show AI-only evaluations"]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-8 py-6",children:[I&&a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"text-gray-600",children:"Loading visit history..."})}),v&&a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-amber-800 mb-4",children:a.jsx("div",{className:"text-sm",children:v})}),!I&&!v&&k.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(gl,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"No Visits Found"}),a.jsx("p",{className:"text-sm text-gray-600",children:S.length===0?"No visits have been recorded for this patient yet.":"No visits match the current filters."})]}),!I&&!v&&k.length>0&&a.jsx("div",{className:"space-y-4",children:k.map((M,K)=>a.jsxs("div",{className:`bg-white rounded-lg border-2 transition-all ${M.id==="V001"?"border-blue-300 shadow-md":"border-gray-200"}`,children:[a.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>H(M.id),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(gl,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"font-semibold text-gray-900",children:M.date}),M.id==="V001"&&a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Active Visit"}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${M.visitType==="Manual"?"bg-blue-100 text-blue-700":M.visitType==="Follow-up"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:M.visitType}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${M.status==="Completed"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:M.status})]}),a.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Trigger: ",M.triggerSource]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gr,{className:"w-4 h-4 text-purple-500"}),a.jsx("span",{className:"text-gray-600",children:"AI: "}),a.jsx(rr,{tier:M.aiAnalysis.riskTier,size:"sm"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_a,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-gray-600",children:"Doctor: "}),a.jsx(rr,{tier:M.doctorDecision.riskTier,size:"sm"})]})]})]}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:i===M.id?a.jsx(tl,{className:"w-5 h-5"}):a.jsx(el,{className:"w-5 h-5"})})]})}),i===M.id&&a.jsxs("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Patient state at time of visit"}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:M.outcome.patient_snapshot?a.jsxs("div",{className:"space-y-3",children:[M.outcome.patient_snapshot.current_conditions&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Conditions: "}),a.jsx("span",{className:"text-sm text-gray-900",children:Array.isArray(M.outcome.patient_snapshot.current_conditions)?M.outcome.patient_snapshot.current_conditions.map(T=>T.condition_name||T).join(", "):"N/A"})]}),M.outcome.patient_snapshot.current_medications&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Medications: "}),a.jsx("span",{className:"text-sm text-gray-900",children:Array.isArray(M.outcome.patient_snapshot.current_medications)?M.outcome.patient_snapshot.current_medications.map(T=>T.medication_name||T).join(", "):"N/A"})]}),M.outcome.patient_snapshot.latest_vitals&&a.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-3 pt-3 border-t border-gray-200",children:[M.outcome.patient_snapshot.latest_vitals.bloodPressure&&a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"BP: "}),a.jsx("span",{className:"text-sm text-gray-900",children:M.outcome.patient_snapshot.latest_vitals.bloodPressure})]}),M.outcome.patient_snapshot.latest_vitals.heartRate&&a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"HR: "}),a.jsx("span",{className:"text-sm text-gray-900",children:M.outcome.patient_snapshot.latest_vitals.heartRate})]}),M.outcome.patient_snapshot.latest_vitals.temperature&&a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Temp: "}),a.jsx("span",{className:"text-sm text-gray-900",children:M.outcome.patient_snapshot.latest_vitals.temperature})]})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Key Conditions: "}),a.jsx("span",{className:"text-sm text-gray-900",children:M.patientState.conditions.length>0?M.patientState.conditions.join(", "):"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Data Freshness: "}),a.jsx("span",{className:"text-sm text-gray-900",children:M.patientState.dataFreshness})]})]})}),M.outcome.alarms&&M.outcome.alarms.length>0||M.outcome.risk_factors&&M.outcome.risk_factors.length>0?a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[M.outcome.alarms&&M.outcome.alarms.length>0&&a.jsxs("div",{className:"bg-amber-50 rounded-lg border border-amber-200 p-3",children:[a.jsxs("div",{className:"text-xs font-medium text-amber-900 mb-2",children:["Active Alarms (",M.outcome.alarms.length,")"]}),a.jsxs("div",{className:"space-y-1",children:[M.outcome.alarms.slice(0,3).map((T,_)=>a.jsxs("div",{className:"text-xs text-amber-800",children:[" ",T.alarm_type||T.alarm_summary||"Alarm"]},_)),M.outcome.alarms.length>3&&a.jsxs("div",{className:"text-xs text-amber-600",children:["+",M.outcome.alarms.length-3," more"]})]})]}),M.outcome.risk_factors&&M.outcome.risk_factors.length>0&&a.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-200 p-3",children:[a.jsxs("div",{className:"text-xs font-medium text-red-900 mb-2",children:["Risk Factors (",M.outcome.risk_factors.length,")"]}),a.jsxs("div",{className:"space-y-1",children:[M.outcome.risk_factors.slice(0,3).map((T,_)=>a.jsxs("div",{className:"text-xs text-red-800",children:[" ",T.risk_factor_name||T.factor||"Risk Factor"]},_)),M.outcome.risk_factors.length>3&&a.jsxs("div",{className:"text-xs text-red-600",children:["+",M.outcome.risk_factors.length-3," more"]})]})]})]}):null]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-300 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gr,{className:"w-5 h-5 text-purple-600"}),a.jsx("h3",{className:"font-medium text-gray-900",children:"AI Analysis (Assistive)"}),M.aiAnalysis.reviewedByDoctor&&a.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded",children:"Reviewed"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"AI Risk Tier"}),a.jsx(rr,{tier:M.aiAnalysis.riskTier,size:"md"}),M.aiAnalysis.confidence&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Confidence: ",a.jsx("span",{className:"font-medium",children:M.aiAnalysis.confidence})]})]}),M.aiAnalysis.reasoning&&M.aiAnalysis.reasoning.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Key Reasons"}),a.jsx("ul",{className:"space-y-2",children:M.aiAnalysis.reasoning.map((T,_)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-1.5 flex-shrink-0"}),T]},_))})]}),M.aiAnalysis.reasoning&&M.aiAnalysis.reasoning.length===0&&a.jsx("div",{className:"mb-4 text-sm text-gray-500 italic",children:"No reasoning provided"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Evidence References"}),a.jsx("div",{className:"space-y-2",children:M.aiAnalysis.evidenceReferences.map((T,_)=>a.jsxs("button",{className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:[a.jsx(w_,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${T.type==="vitals"?"bg-green-100 text-green-700":T.type==="labs"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:T.type}),T.label]},_))})]}),a.jsxs("div",{className:"text-xs text-gray-500 pt-3 border-t border-gray-200",children:[a.jsxs("div",{children:["Timestamp: ",M.aiAnalysis.timestamp]}),a.jsxs("div",{children:["Model: ",M.aiAnalysis.modelVersion]})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg border-2 border-blue-300 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(_a,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Doctor Final Decision"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-700 font-medium mb-2",children:"Final Risk Tier"}),a.jsx(rr,{tier:M.doctorDecision.riskTier,size:"md"}),M.doctorDecision.aiRiskTier&&M.doctorDecision.aiRiskTier!==M.doctorDecision.riskTier&&a.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Changed from AI suggestion: ",a.jsx(rr,{tier:M.doctorDecision.aiRiskTier,size:"sm"})]}),M.doctorDecision.riskTierOverride&&a.jsx("div",{className:"mt-2 text-xs text-orange-600 font-medium",children:" Risk tier overridden by doctor"})]}),M.planSummary&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-700 font-medium mb-2",children:"Plan Summary"}),a.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded border border-blue-200",children:M.planSummary})]}),M.doctorDecision.notes&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-700 font-medium mb-2",children:"Clinical Notes"}),a.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded border border-blue-200",children:M.doctorDecision.notes||"No notes provided"})]}),a.jsxs("div",{className:"text-xs text-gray-700 pt-3 border-t border-blue-200",children:[a.jsx("div",{className:"font-medium",children:M.doctorDecision.doctorName}),M.doctorDecision.doctorId&&a.jsxs("div",{className:"text-gray-500",children:["ID: ",M.doctorDecision.doctorId]}),a.jsx("div",{className:"mt-1",children:new Date(M.doctorDecision.timestamp).toLocaleString()})]})]})]}),M.outcome.medications&&M.outcome.medications.length>0||M.outcome.procedures&&M.outcome.procedures.length>0?a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[M.outcome.medications&&M.outcome.medications.length>0&&a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[a.jsx(gr,{className:"w-4 h-4 text-purple-600"}),"AI Medication Recommendations"]}),a.jsx("div",{className:"space-y-3",children:M.outcome.medications.map((T,_)=>a.jsxs("div",{className:"border border-gray-200 rounded p-3 bg-gray-50",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900 mb-1",children:T.medication}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[T.dose&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Dose:"})," ",T.dose]}),T.frequency&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Frequency:"})," ",T.frequency]}),T.duration&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",T.duration]}),T.rationale&&a.jsxs("div",{className:"mt-2 text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Rationale:"})," ",T.rationale]}),T.status&&a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${T.status==="Active"||T.status==="Continue"||T.status==="Planned"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:T.status})})]})]},_))})]}),M.outcome.procedures&&M.outcome.procedures.length>0&&a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[a.jsx(gr,{className:"w-4 h-4 text-purple-600"}),"AI Procedure Recommendations"]}),a.jsx("div",{className:"space-y-3",children:M.outcome.procedures.map((T,_)=>a.jsxs("div",{className:"border border-gray-200 rounded p-3 bg-gray-50",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900 mb-1",children:T.procedure}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[T.timing&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Timing:"})," ",T.timing]}),T.rationale&&a.jsxs("div",{className:"mt-2 text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Rationale:"})," ",T.rationale]}),T.status&&a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${T.status==="Planned"||T.status==="Order"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:T.status})})]})]},_))})]})]}):null,a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Outcome & Follow-up"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded ${M.outcome.status==="Follow-up scheduled"?"bg-blue-100 text-blue-700":M.outcome.status==="Monitoring continued"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:M.outcome.status}),M.outcome.details&&a.jsx("span",{className:"text-sm text-gray-600",children:M.outcome.details})]}),M.outcome.followUpDate&&a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Follow-up Date: "}),a.jsx("span",{children:new Date(M.outcome.followUpDate).toLocaleDateString()})]}),M.outcome.monitoringStatus&&a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Monitoring Status: "}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${M.outcome.monitoringStatus==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:M.outcome.monitoringStatus})]})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[M.hasAlarms&&a.jsxs("button",{className:"flex items-center gap-2 text-sm text-orange-600 hover:text-orange-700",children:[a.jsx(Jc,{className:"w-4 h-4"}),"View related alarms"]}),M.hasDiscussion&&a.jsxs("button",{onClick:()=>r(M.id),className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:[a.jsx(xl,{className:"w-4 h-4"}),"View discussion"]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Visit Metadata"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Visit ID: "}),a.jsx("span",{className:"text-gray-900 font-mono text-xs",children:M.id})]}),M.twinId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Twin ID: "}),a.jsx("span",{className:"text-gray-900 font-mono text-xs",children:M.twinId})]}),M.twinSummaryVersion&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Twin Summary Version: "}),a.jsx("span",{className:"text-gray-900 font-mono text-xs",children:M.twinSummaryVersion})]}),M.createdAt&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Created: "}),a.jsx("span",{className:"text-gray-900",children:new Date(M.createdAt).toLocaleString()})]}),M.updatedAt&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Updated: "}),a.jsx("span",{className:"text-gray-900",children:new Date(M.updatedAt).toLocaleString()})]})]})]})]}),K<k.length-1&&a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-px h-4 bg-gray-300"})})]},M.id))})]})]})})}function T8({patient:e,onBack:t}){var v;const[n,r]=Ae.useState(new Set),[i,s]=Ae.useState([]),[o,l]=Ae.useState([]),[c,d]=Ae.useState([]),[h,b]=Ae.useState([]),[y,p]=Ae.useState(!0),[S,C]=Ae.useState(""),I=w=>{if(!w)return"Medium";const k=w.toUpperCase();return k==="HIGH"?"High":k==="LOW"?"Low":"Medium"};Ae.useEffect(()=>{(async()=>{try{p(!0);const k=await fetch(`${vr}/analyze/visit-history/${e.id}`);if(k.ok){const T=await k.json();if(T.data){const _=T.data.map(j=>{var E,R,Z,G,se,le,ae,U,te,ue,me,P,q,$;return{id:j.visit_id,date:j.visit_date?new Date(j.visit_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"Unknown date",type:(j.visit_type||j.trigger_source||"").toLowerCase().includes("background")?"Background":(j.visit_type||"").toLowerCase().includes("follow")?"Follow-up":"Manual",status:"Completed",aiAnalysis:{riskTier:I((E=j.ai_analysis)==null?void 0:E.risk_tier),reasoning:Array.isArray((R=j.ai_analysis)==null?void 0:R.reasoning)?j.ai_analysis.reasoning:(Z=j.ai_analysis)!=null&&Z.reasoning?[j.ai_analysis.reasoning]:[],model:((G=j.ai_analysis)==null?void 0:G.model_version)||"ClinicalAI v3.2.1",timestamp:((se=j.ai_analysis)==null?void 0:se.timestamp)||j.visit_date||""},doctorDecision:{riskTier:I((le=j.doctor_decision)==null?void 0:le.final_risk_tier),doctor:((ae=j.doctor_decision)==null?void 0:ae.doctor_name)||"Unknown Doctor",notes:((U=j.doctor_decision)==null?void 0:U.reasoning_notes)||j.plan_summary||"",timestamp:((te=j.doctor_decision)==null?void 0:te.decision_timestamp)||j.visit_date||""},outcome:{type:(me=(ue=j.visit_outcome)==null?void 0:ue.status)!=null&&me.includes("Follow-up")?"Follow-up Scheduled":(q=(P=j.visit_outcome)==null?void 0:P.status)!=null&&q.includes("Monitoring")?"Continue Monitoring":"No Action Required",details:(($=j.visit_outcome)==null?void 0:$.details)||"Visit completed"}}});s(_),_.length>0&&C(_[0].date)}}const H=await fetch(`${vr}/alarms?patientId=${e.id}&pageSize=100`);if(H.ok){const T=await H.json();if(T.data&&T.data.items){const _=T.data.items,j=_.length>0?_.reduce((R,Z)=>{const G=R.createdAt||R.created_at||0,se=Z.createdAt||Z.created_at||0,le=typeof G=="string"?new Date(G).getTime():typeof G=="number"?G:0;return(typeof se=="string"?new Date(se).getTime():typeof se=="number"?se:0)>le?Z:R}):null,E=j?[{id:j.id||j.alarm_id,visitId:j.visitId||"",timestamp:j.createdAt||j.created_at?new Date(j.createdAt||j.created_at).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"",severity:(j.severity||j.tier||"Medium").toUpperCase()==="HIGH"?"High":(j.severity||j.tier||"Medium").toUpperCase()==="LOW"?"Low":"Medium",type:"AI-Triggered",description:j.message||j.alarm_summary||"Alarm triggered",status:(j.status||"OPEN").toUpperCase()==="ACKNOWLEDGED"?"Acknowledged":(j.status||"OPEN").toUpperCase()==="RESOLVED"?"Resolved":"Open",acknowledgedBy:j.acknowledgedBy,acknowledgedAt:j.acknowledgedAt}]:[];d(E)}}const M=await fetch(`${vr}/audit/logs?patientId=${e.id}&pageSize=100`);if(M.ok){const T=await M.json();if(T.data&&T.data.items){const _=T.data.items.map(j=>({id:j.id||String(Date.now()),timestamp:j.timestamp?new Date(j.timestamp).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"",action:j.action||"Unknown action",actor:j.actor||j.userId||"Unknown",actorType:(j.actorType||"System").toUpperCase()==="AI"?"AI":(j.actorType||"System").toUpperCase()==="DOCTOR"?"Doctor":"System",details:j.details||j.description||"",visitId:j.visitId}));b(_)}}const K=await fetch(`${vr}/discussion/clinical-notes/${e.id}`);if(K.ok){const T=await K.json();if(T.data&&Array.isArray(T.data)){const _=T.data.map(j=>({id:j.clinical_note_id||j.clinicalNoteId||String(Date.now()),visitId:j.visit_id||j.visitId||"",doctor:j.practitioner_name||j.practitionerName||(j.is_ai_response||j.isAiResponse?"AI Clinical Assistant":"Unknown Doctor"),timestamp:j.created_at||j.createdAt?new Date(j.created_at||j.createdAt).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"",message:j.content||"",type:j.message_type||j.messageType||"clinical-note"}));l(_)}else l([])}else l([])}catch(k){console.error("Error fetching patient record data:",k)}finally{p(!1)}})()},[e.id]);const g=w=>{r(k=>{const H=new Set(k);return H.has(w)?H.delete(w):H.add(w),H})};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:a.jsxs("div",{className:"px-8 py-4",children:[a.jsx("button",{onClick:t,className:"text-sm text-blue-600 hover:text-blue-700 mb-3 flex items-center gap-1",children:" Back to Active Visit"}),a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:e.name}),a.jsxs("p",{className:"text-gray-600 mb-2",children:[e.age," years  ",e.sex,"  Twin ID: ",e.twinId]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:e.cohort.map(w=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded",children:w},w))}),a.jsx("span",{className:"px-3 py-1 bg-amber-50 text-amber-700 text-xs font-medium rounded border border-amber-200",children:"Record View (Read-Only)"})]})]})})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-6",children:[y&&a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 rounded-full"}),a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin absolute top-0 left-0"})]})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Loading patient record"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Fetching data from BigQuery..."})]})}),!y&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Hf,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Patient Snapshot"}),a.jsx("span",{className:"text-xs text-gray-500",children:"(Current Status)"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Key Conditions"}),a.jsx("div",{className:"space-y-2",children:e.detailedConditions&&e.detailedConditions.length>0?e.detailedConditions.map((w,k)=>a.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-1.5 flex-shrink-0"}),w.condition_name||w.name||String(w)]},k)):e.conditions&&e.conditions.length>0?e.conditions.map((w,k)=>a.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-1.5 flex-shrink-0"}),w]},k)):a.jsx("p",{className:"text-sm text-gray-500",children:"No conditions recorded"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Current Medications"}),a.jsx("div",{className:"space-y-2",children:e.detailedMedications&&e.detailedMedications.length>0?e.detailedMedications.map((w,k)=>a.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-1.5 flex-shrink-0"}),w.medication_name||w.name||String(w),w.dose&&a.jsxs("span",{className:"text-gray-500",children:[" - ",w.dose]})]},k)):e.medications&&e.medications.length>0?e.medications.map((w,k)=>a.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-1.5 flex-shrink-0"}),w]},k)):a.jsx("p",{className:"text-sm text-gray-500",children:"No medications recorded"})})]}),e.vitals&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Latest Vitals"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[a.jsx("div",{className:"text-gray-500 text-xs mb-1",children:"Blood Pressure"}),a.jsxs("div",{className:"font-medium text-gray-900",children:[e.vitals.bloodPressure," mmHg"]})]}),a.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[a.jsx("div",{className:"text-gray-500 text-xs mb-1",children:"Heart Rate"}),a.jsxs("div",{className:"font-medium text-gray-900",children:[e.vitals.heartRate," bpm"]})]}),a.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[a.jsx("div",{className:"text-gray-500 text-xs mb-1",children:"Temperature"}),a.jsx("div",{className:"font-medium text-gray-900",children:e.vitals.temperature})]})]})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ti,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"font-medium text-blue-900",children:"Last Data Sync:"}),a.jsx("span",{className:"text-blue-800",children:S||((v=e.clinicalSummary)!=null&&v.created_at?new Date(e.clinicalSummary.created_at).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"Not available")})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gl,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Visit Timeline"}),a.jsx("span",{className:"text-xs text-gray-500",children:"(Longitudinal History)"})]}),i.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(gl,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),a.jsx("p",{className:"text-sm",children:"No visit history recorded yet"})]}):a.jsx("div",{className:"space-y-4",children:i.map(w=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>g(w.id),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:w.date}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${w.type==="Manual"?"bg-blue-100 text-blue-700":w.type==="Follow-up"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:w.type}),a.jsxs("span",{className:"text-xs text-gray-500",children:[" ",w.status]})]})]}),a.jsxs("div",{className:"ml-8",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Final Risk Tier"}),a.jsx(rr,{tier:w.doctorDecision.riskTier,size:"sm"})]})]}),n.has(w.id)?a.jsx(tl,{className:"w-5 h-5 text-gray-400"}):a.jsx(el,{className:"w-5 h-5 text-gray-400"})]}),n.has(w.id)&&a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(gr,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-purple-900",children:"AI Analysis"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs text-purple-700 mb-2",children:"AI Recommended Risk Tier"}),a.jsx(rr,{tier:w.aiAnalysis.riskTier,size:"sm"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs text-purple-700 mb-2",children:"Key Reasons"}),a.jsx("ul",{className:"space-y-1",children:w.aiAnalysis.reasoning.map((k,H)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-1.5 flex-shrink-0"}),k]},H))})]}),a.jsxs("div",{className:"text-xs text-purple-600",children:[w.aiAnalysis.model,"  ",w.aiAnalysis.timestamp]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(_a,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Doctor Final Decision"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs text-blue-700 mb-2",children:"Final Risk Tier"}),a.jsx(rr,{tier:w.doctorDecision.riskTier,size:"sm"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs text-blue-700 mb-2",children:"Clinical Notes"}),a.jsx("p",{className:"text-sm text-gray-700",children:w.doctorDecision.notes})]}),a.jsxs("div",{className:"text-xs text-blue-600",children:[w.doctorDecision.doctor,"  ",w.doctorDecision.timestamp]})]}),a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(wy,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-900",children:"Outcome"})]}),a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsxs("span",{className:"font-medium",children:[w.outcome.type,":"]})," ",w.outcome.details]})]})]})]},w.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(xl,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Clinical Discussion Log"}),a.jsx("span",{className:"text-xs text-gray-500",children:"(AI  Doctor Conversations)"})]}),o.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(xl,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),a.jsx("p",{className:"text-sm",children:"No clinical discussions recorded yet"})]}):a.jsx("div",{className:"space-y-3",children:o.map(w=>{var k;return a.jsx("div",{className:`p-4 rounded-lg border ${w.type==="ai-question"||w.type==="ai-response"?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${w.type.startsWith("ai")?"bg-purple-200":"bg-blue-200"}`,children:w.type.startsWith("ai")?a.jsx(gr,{className:"w-4 h-4 text-purple-700"}):a.jsx(_a,{className:"w-4 h-4 text-blue-700"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.doctor}),a.jsx("span",{className:"text-xs text-gray-500",children:w.timestamp}),a.jsxs("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600 rounded",children:["Visit: ",(k=o.find(H=>H.id===w.id))==null?void 0:k.visitId]})]}),a.jsx("p",{className:"text-sm text-gray-700",children:w.message})]})]})},w.id)})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Jc,{className:"w-5 h-5 text-amber-600"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Alarms History"}),a.jsx("span",{className:"text-xs text-gray-500",children:"(All Alerts)"})]}),c.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Jc,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),a.jsx("p",{className:"text-sm",children:"No alarms recorded"})]}):a.jsx("div",{className:"space-y-3",children:c.map(w=>a.jsxs("div",{className:`p-4 rounded-lg border ${w.severity==="High"?"bg-red-50 border-red-200":w.severity==="Medium"?"bg-amber-50 border-amber-200":"bg-yellow-50 border-yellow-200"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs px-2 py-1 font-medium rounded ${w.severity==="High"?"bg-red-200 text-red-800":w.severity==="Medium"?"bg-amber-200 text-amber-800":"bg-yellow-200 text-yellow-800"}`,children:w.severity}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${w.type==="AI-Triggered"?"bg-purple-100 text-purple-700":"bg-gray-200 text-gray-700"}`,children:w.type}),a.jsx("span",{className:`text-xs px-2 py-1 font-medium rounded ${w.status==="Acknowledged"?"bg-green-100 text-green-700":w.status==="Resolved"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:w.status})]}),a.jsx("span",{className:"text-xs text-gray-500",children:w.timestamp})]}),a.jsx("p",{className:"text-sm text-gray-900 font-medium mb-2",children:w.description}),w.acknowledgedBy&&a.jsxs("div",{className:"text-xs text-gray-600",children:["Acknowledged by ",w.acknowledgedBy," at ",w.acknowledgedAt]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Related to: ",w.visitId]})]},w.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(c2,{className:"w-5 h-5 text-gray-600"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Audit Log"}),a.jsx("span",{className:"text-xs text-gray-500",children:"(Immutable Compliance Record)"})]}),h.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(c2,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),a.jsx("p",{className:"text-sm",children:"No audit log entries recorded yet"})]}):a.jsx("div",{className:"space-y-2",children:h.map(w=>a.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs px-2 py-1 font-medium rounded ${w.actorType==="AI"?"bg-purple-100 text-purple-700":w.actorType==="Doctor"?"bg-blue-100 text-blue-700":"bg-gray-200 text-gray-700"}`,children:w.actorType}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.action})]}),a.jsx("span",{className:"text-xs text-gray-500",children:w.timestamp})]}),a.jsx("div",{className:"text-sm text-gray-700 mb-1",children:w.details}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[a.jsxs("span",{children:["Actor: ",w.actor]}),w.visitId&&a.jsxs("span",{children:[" Visit: ",w.visitId]})]})]},w.id))})]}),a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:a.jsxs("div",{className:"text-sm text-amber-900",children:[a.jsx("span",{className:"font-medium",children:"Read-Only Record View:"})," This is a comprehensive longitudinal view of all patient data. No edits, decisions, or workflows can be initiated from this page. To perform clinical actions, return to the Active Visit view."]})})]})]})]})}function D8({patient:e,onViewFullSummary:t}){var p,S,C,I;const[n,r]=Ae.useState(!1),[i,s]=Ae.useState(!1),[o,l]=Ae.useState(!1),d=(e.detailedConditions&&e.detailedConditions.length>0?e.detailedConditions.map(g=>{var H;const v=((H=g.clinical_status)==null?void 0:H.toLowerCase())||"",w=v.includes("draft")?"Resolved":v.includes("active")||v.includes("confirmed")?"Active":"Resolved",k=[];return g.severity&&g.severity.toLowerCase().includes("high")&&k.push("High Impact"),(g.onset_date||g.recorded_date&&new Date(g.recorded_date).getFullYear()<new Date().getFullYear()-1)&&k.push("Chronic"),{name:g.condition_name||"Unknown Condition",status:w,onsetDate:g.onset_date?new Date(g.onset_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):g.recorded_date?new Date(g.recorded_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown",source:g.source||void 0,tags:k.length>0?k:void 0}}):((p=e.conditions)==null?void 0:p.length)>0?e.conditions.map(g=>({name:g,status:"Active",onsetDate:"Unknown",source:"Patient Data"})):[]).filter(g=>g.status==="Active"),b=(e.detailedMedications&&e.detailedMedications.length>0?e.detailedMedications.map(g=>{var T;const v=((T=g.medication_status)==null?void 0:T.toLowerCase())||"",w=v.includes("draft")?"Stopped":v.includes("active")||v.includes("in-progress")?"Active":"Stopped",k=g.dose_text||"Unknown",H=g.start_date?new Date(g.start_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):g.authored_on_date?new Date(g.authored_on_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown",M=g.prescribing_practitioner||"Unknown",K=g.last_reviewed?new Date(g.last_reviewed).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):void 0;return{name:g.medication_name||"Unknown Medication",dose:k,startDate:H,prescribingSource:M,status:w,lastReviewed:K}}):((S=e.medications)==null?void 0:S.length)>0?e.medications.map(g=>({name:g,dose:"Unknown",startDate:"Unknown",prescribingSource:"Patient Data",status:"Active"})):[]).filter(g=>g.status==="Active"),y=e.vitals?[{type:"Blood Pressure",value:e.vitals.bloodPressure||"N/A",unit:"mmHg",dateTime:"Latest",status:(()=>{const g=e.vitals.bloodPressure;if(!g||g==="N/A")return"Normal";const v=g.match(/(\d+)\/(\d+)/);if(v){const w=parseInt(v[1]),k=parseInt(v[2]);if(w>=140||k>=90)return"Critical";if(w>=130||k>=80)return"Elevated"}return"Normal"})()},{type:"Heart Rate",value:e.vitals.heartRate||"N/A",unit:"bpm",dateTime:"Latest",status:(()=>{const g=e.vitals.heartRate;if(!g||g==="N/A")return"Normal";const v=parseInt(g.toString().replace(/[^\d]/g,""));return v>=100||v<60?"Elevated":"Normal"})()},{type:"Temperature",value:e.vitals.temperature||"N/A",unit:"F",dateTime:"Latest",status:(()=>{const g=e.vitals.temperature;if(!g||g==="N/A")return"Normal";const v=parseFloat(g.toString().replace(/[^\d.]/g,""));return v>=100.4||v<97?"Elevated":"Normal"})()}]:[];return a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Snapshot of current problems, medications, and latest vitals."}),a.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Key Conditions"}),a.jsx("div",{className:"space-y-2 mb-2",children:d.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No conditions found."}):d.slice(0,n?d.length:3).map((g,v)=>a.jsx("div",{children:n?a.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-100 rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("div",{className:"font-medium text-gray-900 text-sm",children:g.name}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${g.status==="Active"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:g.status})]}),a.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Onset:"})," ",g.onsetDate]}),g.source&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Source:"})," ",g.source]})]}),g.tags&&g.tags.length>0&&a.jsx("div",{className:"flex gap-1 mt-2",children:g.tags.map((w,k)=>a.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${w==="High Impact"?"bg-red-100 text-red-700":"bg-purple-100 text-purple-700"}`,children:w},k))})]}):a.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-1.5 flex-shrink-0"}),g.name]})},v))}),d.length>3&&a.jsx("button",{onClick:()=>r(!n),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1 mb-4",children:n?a.jsxs(a.Fragment,{children:[a.jsx(tl,{className:"w-4 h-4"}),"Collapse details"]}):a.jsxs(a.Fragment,{children:[a.jsx(el,{className:"w-4 h-4"}),"View condition details"]})}),a.jsx("h3",{className:"font-medium text-gray-900 mb-3 mt-4",children:"Current Medications"}),a.jsx("div",{className:"space-y-2 mb-2",children:b.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No medications found."}):b.map((g,v)=>a.jsx("div",{children:i?a.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-100 rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 text-sm",children:g.name}),a.jsx("div",{className:"text-xs text-gray-600",children:g.dose})]}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${g.status==="Active"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:g.status})]}),a.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Started:"})," ",g.startDate]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Prescribed by:"})," ",g.prescribingSource]}),g.lastReviewed&&a.jsxs("div",{className:"text-blue-700 mt-1",children:[a.jsx("span",{className:"font-medium",children:"Last reviewed:"})," ",g.lastReviewed]})]})]}):a.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-1.5 flex-shrink-0"}),g.name," ",g.dose]})},v))}),b.length>0&&a.jsx("button",{onClick:()=>s(!i),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1 mb-4",children:i?a.jsxs(a.Fragment,{children:[a.jsx(tl,{className:"w-4 h-4"}),"Collapse details"]}):a.jsxs(a.Fragment,{children:[a.jsx(el,{className:"w-4 h-4"}),"View medication details"]})}),e.vitals&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-3 mt-4",children:"Latest Vitals"}),o?a.jsxs("div",{className:"space-y-4 mb-2",children:[a.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900 mb-3",children:"Blood Pressure Trend"}),a.jsx("div",{className:"space-y-2",children:y.filter(g=>g.type==="Blood Pressure").length>0?y.filter(g=>g.type==="Blood Pressure").map((g,v)=>{var H,M;const w=((H=g.value)==null?void 0:H.toString().replace(/\s*mmHg\s*/gi,"").trim())||"N/A",k=!((M=g.value)!=null&&M.toString().includes("mmHg"));return a.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-gray-200 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-gray-900 w-24",children:w}),k&&a.jsx("span",{className:"text-gray-500",children:g.unit})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${g.status==="Normal"?"bg-green-100 text-green-700":g.status==="Elevated"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:g.status}),a.jsx("span",{className:"text-xs text-gray-500 w-32 text-right",children:g.dateTime})]})]},v)}):a.jsx("p",{className:"text-sm text-gray-500 py-2",children:"No blood pressure readings available"})})]}),a.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900 mb-3",children:"Heart Rate Trend"}),a.jsx("div",{className:"space-y-2",children:y.filter(g=>g.type==="Heart Rate").length>0?y.filter(g=>g.type==="Heart Rate").map((g,v)=>{var H,M;const w=((H=g.value)==null?void 0:H.toString().replace(/\s*bpm\s*/gi,"").trim())||"N/A",k=!((M=g.value)!=null&&M.toString().includes("bpm"));return a.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-gray-200 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-gray-900 w-24",children:w}),k&&a.jsx("span",{className:"text-gray-500",children:g.unit})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${g.status==="Normal"?"bg-green-100 text-green-700":g.status==="Elevated"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:g.status}),a.jsx("span",{className:"text-xs text-gray-500 w-32 text-right",children:g.dateTime})]})]},v)}):a.jsx("p",{className:"text-sm text-gray-500 py-2",children:"No heart rate readings available"})})]}),a.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900 mb-3",children:"Temperature Trend"}),a.jsx("div",{className:"space-y-2",children:y.filter(g=>g.type==="Temperature").length>0?y.filter(g=>g.type==="Temperature").map((g,v)=>{var H,M;const w=((H=g.value)==null?void 0:H.toString().replace(/\s*F\s*/gi,"").trim())||"N/A",k=!((M=g.value)!=null&&M.toString().includes("F"));return a.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-gray-200 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-gray-900 w-24",children:w}),k&&g.unit&&a.jsx("span",{className:"text-gray-500",children:g.unit})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${g.status==="Normal"?"bg-green-100 text-green-700":g.status==="Elevated"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:g.status}),a.jsx("span",{className:"text-xs text-gray-500 w-32 text-right",children:g.dateTime})]})]},v)}):a.jsx("p",{className:"text-sm text-gray-500 py-2",children:"No temperature readings available"})})]})]}):a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[a.jsx("div",{className:"text-gray-500 text-xs mb-1",children:"Blood Pressure"}),a.jsxs("div",{className:"font-medium text-gray-900",children:[((C=e.vitals.bloodPressure)==null?void 0:C.toString().replace(/\s*mmHg\s*/gi,""))||"N/A",e.vitals.bloodPressure&&!e.vitals.bloodPressure.toString().includes("mmHg")&&" mmHg"]})]}),a.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[a.jsx("div",{className:"text-gray-500 text-xs mb-1",children:"Heart Rate"}),a.jsxs("div",{className:"font-medium text-gray-900",children:[((I=e.vitals.heartRate)==null?void 0:I.toString().replace(/\s*bpm\s*/gi,""))||"N/A",e.vitals.heartRate&&!e.vitals.heartRate.toString().includes("bpm")&&" bpm"]})]}),a.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[a.jsx("div",{className:"text-gray-500 text-xs mb-1",children:"Temperature"}),a.jsx("div",{className:"font-medium text-gray-900",children:e.vitals.temperature||"N/A"})]})]}),a.jsx("button",{onClick:()=>l(!o),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1 mb-4",children:o?a.jsxs(a.Fragment,{children:[a.jsx(tl,{className:"w-4 h-4"}),"Collapse trend"]}):a.jsxs(a.Fragment,{children:[a.jsx(el,{className:"w-4 h-4"}),"View vitals trend"]})})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:a.jsx("button",{className:"w-full px-4 py-2 text-sm text-blue-600 hover:text-blue-700 border border-blue-200 rounded-lg hover:bg-blue-50 transition-colors font-medium",onClick:t,children:"View Full Clinical Summary"})})]})}function R8({patient:e,onBack:t}){var C,I,g;const n=e.detailedConditions&&e.detailedConditions.length>0?e.detailedConditions.map(v=>{var K;const w=((K=v.clinical_status)==null?void 0:K.toLowerCase())||"",k=w.includes("draft")?"Resolved":w.includes("active")||w.includes("confirmed")?"Active":"Resolved",H=v.onset_date?new Date(v.onset_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):v.recorded_date?new Date(v.recorded_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown",M=v.severity?`${v.severity}${v.verification_status?` (${v.verification_status})`:""}`:v.verification_status||"";return{name:v.condition_name||"Unknown Condition",status:k,severity:M,onsetDate:H,source:v.source||void 0}}):[];n.filter(v=>v.status==="Active"),n.filter(v=>v.status==="Resolved");const r=e.detailedMedications&&e.detailedMedications.length>0?e.detailedMedications.map(v=>{var T;const w=((T=v.medication_status)==null?void 0:T.toLowerCase())||"",k=w.includes("draft")?"Stopped":w.includes("active")||w.includes("in-progress")?"Active":"Stopped",H=v.start_date?new Date(v.start_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):v.authored_on_date?new Date(v.authored_on_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown",M=v.end_date?new Date(v.end_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):void 0,K=v.frequency_text?v.frequency_text.replace(/_/g," ").toLowerCase():"unknown";return{name:v.medication_name||"Unknown Medication",dose:v.dose_text||"Unknown",frequency:K,startDate:H,status:k,prescribingSource:v.prescribing_practitioner||"Unknown",endDate:M}}):[],i=r.filter(v=>v.status==="Active"&&(!v.endDate||v.endDate&&new Date(v.endDate)>=new Date)),s=r.filter(v=>v.status==="Stopped"||v.endDate&&new Date(v.endDate)<new Date),o=e.vitals?[{type:"Blood Pressure",value:e.vitals.bloodPressure||"N/A",unit:"mmHg",dateTime:"Latest",status:(()=>{const v=e.vitals.bloodPressure;if(!v||v==="N/A")return"Normal";const w=v.toString().match(/(\d+)\/(\d+)/);if(w){const k=parseInt(w[1]),H=parseInt(w[2]);if(k>=140||H>=90)return"Critical";if(k>=130||H>=80)return"Elevated"}return"Normal"})()},{type:"Heart Rate",value:e.vitals.heartRate||"N/A",unit:"bpm",dateTime:"Latest",status:(()=>{const v=e.vitals.heartRate;if(!v||v==="N/A")return"Normal";const w=parseInt(v.toString().replace(/[^\d]/g,""));return w>=100||w<60?"Elevated":"Normal"})()},{type:"Temperature",value:e.vitals.temperature||"N/A",unit:"F",dateTime:"Latest",status:(()=>{const v=e.vitals.temperature;if(!v||v==="N/A")return"Normal";const w=parseFloat(v.toString().replace(/[^\d.]/g,""));return w>=100.4||w<97?"Elevated":"Normal"})()}]:[],l=()=>{var k;const v=(k=e.vitals)==null?void 0:k.bloodPressure;if(!v||v==="N/A")return{status:"Normal",color:"green"};const w=v.toString().match(/(\d+)\/(\d+)/);if(w){const H=parseInt(w[1]),M=parseInt(w[2]);if(H>=140||M>=90)return{status:"Critical",color:"red"};if(H>=130||M>=80)return{status:"Elevated",color:"amber"}}return{status:"Normal",color:"green"}},c=()=>{var k;const v=(k=e.vitals)==null?void 0:k.heartRate;if(!v||v==="N/A")return{status:"Normal",color:"green"};const w=parseInt(v.toString().replace(/[^\d]/g,""));return w>=100||w<60?{status:"Elevated",color:"amber"}:{status:"Normal",color:"green"}},d=()=>{var k;const v=(k=e.vitals)==null?void 0:k.temperature;if(!v||v==="N/A")return{status:"Normal",color:"green"};const w=parseFloat(v.toString().replace(/[^\d.]/g,""));return w>=100.4||w<97?{status:"Elevated",color:"amber"}:{status:"Normal",color:"green"}},h=l(),b=c(),y=d(),p=[],S=(C=e.clinicalSummary)!=null&&C.created_at?new Date(e.clinicalSummary.created_at).toLocaleString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"}):new Date().toLocaleString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(yy,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Back to Patient Overview"})]}),a.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded-full border border-blue-200",children:"Clinical Summary (Read-only)"})]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:e.name}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[e.age," years old"]}),a.jsx("span",{children:""}),a.jsx("span",{children:e.id})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(rr,{tier:e.riskTier,size:"lg"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-2",children:[a.jsx(Ti,{className:"w-3 h-3"}),a.jsxs("span",{children:["Last updated: ",S]})]})]})]})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[a.jsx("section",{className:"mb-8",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-purple-50 border-b border-purple-100",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vc,{className:"w-5 h-5 text-purple-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conditions"})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:n.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No conditions found."}):n.map((v,w)=>a.jsxs("div",{className:`p-4 rounded-lg border ${v.status==="Active"?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:`font-medium mb-1 ${v.status==="Active"?"text-gray-900":"text-gray-700"}`,children:v.name}),v.severity&&a.jsx("div",{className:"text-sm text-gray-600",children:v.severity})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.status==="Active"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:v.status})]}),a.jsxs("div",{className:`grid gap-4 text-sm ${v.source?"grid-cols-2":"grid-cols-1"}`,children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Onset:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:v.onsetDate})]}),v.source&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Source:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:v.source})]})]})]},w))})})]})}),a.jsx("section",{className:"mb-8",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-100",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_y,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Medications"})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"Current Medications"}),i.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No active medications found."}):a.jsx("div",{className:"space-y-3",children:i.map((v,w)=>a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-1",children:v.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[v.dose," ",v.frequency]})]}),a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:v.status})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Started:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:v.startDate})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Prescribed by:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:v.prescribingSource})]})]})]},w))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"Historical Medications"}),s.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No historical medications found."}):a.jsx("div",{className:"space-y-3",children:s.map((v,w)=>a.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-700 mb-1",children:v.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[v.dose," ",v.frequency]})]}),a.jsx("span",{className:"px-3 py-1 bg-gray-200 text-gray-600 rounded-full text-xs font-medium",children:v.status})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Started:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:v.startDate})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Stopped:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:v.endDate})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Prescribed by:"}),a.jsx("span",{className:"ml-2 text-gray-900",children:v.prescribingSource})]})]})]},w))})]})]})]})}),a.jsx("section",{className:"mb-8",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-green-50 border-b border-green-100",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hf,{className:"w-5 h-5 text-green-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Vitals & Trends"})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"Latest Readings"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.vitals?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Blood Pressure"}),a.jsxs("div",{className:"text-xl font-semibold text-gray-900 mb-1",children:[((I=e.vitals.bloodPressure)==null?void 0:I.toString().replace(/\s*mmHg\s*/gi,""))||"N/A",e.vitals.bloodPressure&&!e.vitals.bloodPressure.toString().includes("mmHg")&&a.jsx("span",{className:"text-sm text-gray-500",children:" mmHg"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${h.color==="red"?"bg-red-100 text-red-700":h.color==="amber"?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"}`,children:h.status}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Heart Rate"}),a.jsxs("div",{className:"text-xl font-semibold text-gray-900 mb-1",children:[((g=e.vitals.heartRate)==null?void 0:g.toString().replace(/\s*bpm\s*/gi,""))||"N/A",e.vitals.heartRate&&!e.vitals.heartRate.toString().includes("bpm")&&a.jsx("span",{className:"text-sm text-gray-500",children:" bpm"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${b.color==="red"?"bg-red-100 text-red-700":b.color==="amber"?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"}`,children:b.status}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Temperature"}),a.jsxs("div",{className:"text-xl font-semibold text-gray-900 mb-1",children:[e.vitals.temperature||"N/A"," ",e.vitals.temperature&&a.jsx("span",{className:"text-sm text-gray-500",children:"F"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${y.color==="red"?"bg-red-100 text-red-700":y.color==="amber"?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"}`,children:y.status}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]})]}):a.jsx("div",{className:"col-span-3 p-4 bg-gray-50 rounded-lg border border-gray-200 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"No vitals data available"})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"Historical Trends (Last 5 Readings)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Blood Pressure"}),a.jsx("div",{className:"space-y-2",children:o.filter(v=>v.type==="Blood Pressure").length>0?o.filter(v=>v.type==="Blood Pressure").map((v,w)=>{var M,K;const k=((M=v.value)==null?void 0:M.toString().replace(/\s*mmHg\s*/gi,"").trim())||"N/A",H=!((K=v.value)!=null&&K.toString().includes("mmHg"));return a.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-gray-200 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-gray-900 w-24",children:k}),H&&a.jsx("span",{className:"text-gray-500",children:v.unit})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${v.status==="Normal"?"bg-green-100 text-green-700":v.status==="Elevated"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:v.status}),a.jsx("span",{className:"text-gray-500 w-32 text-right",children:v.dateTime})]})]},w)}):a.jsx("p",{className:"text-sm text-gray-500 py-2",children:"No blood pressure readings available"})})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Heart Rate"}),a.jsx("div",{className:"space-y-2",children:o.filter(v=>v.type==="Heart Rate").length>0?o.filter(v=>v.type==="Heart Rate").map((v,w)=>{var M,K;const k=((M=v.value)==null?void 0:M.toString().replace(/\s*bpm\s*/gi,"").trim())||"N/A",H=!((K=v.value)!=null&&K.toString().includes("bpm"));return a.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-gray-200 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-gray-900 w-24",children:k}),H&&a.jsx("span",{className:"text-gray-500",children:v.unit})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${v.status==="Normal"?"bg-green-100 text-green-700":v.status==="Elevated"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:v.status}),a.jsx("span",{className:"text-gray-500 w-32 text-right",children:v.dateTime})]})]},w)}):a.jsx("p",{className:"text-sm text-gray-500 py-2",children:"No heart rate readings available"})})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Temperature"}),a.jsx("div",{className:"space-y-2",children:o.filter(v=>v.type==="Temperature").length>0?o.filter(v=>v.type==="Temperature").map((v,w)=>{var M,K;const k=((M=v.value)==null?void 0:M.toString().replace(/\s*F\s*/gi,"").trim())||"N/A",H=!((K=v.value)!=null&&K.toString().includes("F"));return a.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-gray-200 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-gray-900 w-24",children:k}),H&&v.unit&&a.jsx("span",{className:"text-gray-500",children:v.unit})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${v.status==="Normal"?"bg-green-100 text-green-700":v.status==="Elevated"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:v.status}),a.jsx("span",{className:"text-gray-500 w-32 text-right",children:v.dateTime})]})]},w)}):a.jsx("p",{className:"text-sm text-gray-500 py-2",children:"No temperature readings available"})})]})]})]})]})]})}),a.jsx("section",{className:"mb-8",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-amber-50 border-b border-amber-100",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nl,{className:"w-5 h-5 text-amber-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Clinical Notes"}),a.jsx("span",{className:"text-xs text-gray-500",children:"(From Previous Visits)"})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:p.map((v,w)=>a.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gl,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.timestamp})]}),a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:v.visitType})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-3 leading-relaxed",children:v.content}),a.jsxs("div",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Documented by:"})," ",v.author]})]},w))})})]})}),a.jsx("section",{children:a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ti,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-blue-900 mb-1",children:"Data Freshness & Provenance"}),a.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("div",{children:["Last data update: ",S]}),a.jsx("div",{children:"Source systems: Digital Twin Engine, EHR Sync, Background Monitoring"}),a.jsx("div",{className:"mt-2 text-xs text-blue-700 italic",children:"This summary reflects the most recent available patient data. Clinical decisions should incorporate current patient context and examination findings."})]})]})]})})})]})]})}function I8({patient:e}){const[t,n]=Ae.useState(null),[r,i]=Ae.useState(!0),[s,o]=Ae.useState(null);Ae.useEffect(()=>{const d=async()=>{try{i(!0),o(null);const b=await fetch(`${vr}/heartbeat/status/${e.id}`,{headers:{"X-User-Id":"doctor-001","X-User-Role":"DOCTOR"}});if(!b.ok)throw new Error(`Failed to fetch heartbeat status: ${b.statusText}`);const y=await b.json();y.data?n(y.data):n(null)}catch(b){console.error("Error fetching heartbeat status:",b),o(b.message||"Failed to load heartbeat status"),n(null)}finally{i(!1)}};d();const h=setInterval(d,3e4);return()=>clearInterval(h)},[e.id]);const l=d=>{if(!d)return"N/A";try{return new Date(d).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return d}},c=d=>{switch(d){case"Stable":return"bg-green-100 text-green-700";case"Alert":return"bg-yellow-100 text-yellow-700";case"Critical":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};return r?a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-600",children:"Loading monitoring status..."})})}):s?a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-amber-800",children:a.jsx("div",{className:"text-sm",children:s})})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(nl,{className:"w-5 h-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Background Monitoring"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Automated monitoring status and escalation history"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 mb-3",children:"Monitoring Status"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Last Check:"}),a.jsx("span",{className:"text-sm text-gray-900 font-medium",children:l((t==null?void 0:t.last_check)||(t==null?void 0:t.last_run_time))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Current State:"}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${c(t==null?void 0:t.current_state)}`,children:(t==null?void 0:t.current_state)||"Unknown"})]})]})]}),(t==null?void 0:t.is_active)&&a.jsxs("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-green-900",children:"Active"})]}),a.jsx("p",{className:"text-xs text-green-800 mt-1",children:"Background monitoring enabled"})]}),(t==null?void 0:t.next_evaluation)&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ti,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Next Evaluation"})]}),a.jsx("span",{className:"text-sm text-gray-900 font-medium",children:l(t.next_evaluation)})]})}),(t==null?void 0:t.last_data_sync)&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ti,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Last Data Sync"})]}),a.jsx("span",{className:"text-sm text-gray-900 font-medium",children:l(t.last_data_sync)})]})}),a.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:[a.jsxs("div",{className:"text-sm text-blue-900",children:[a.jsx("span",{className:"font-medium",children:"Status: "}),a.jsx("span",{children:(t==null?void 0:t.status_message)||"No new data detected"})]}),(t==null?void 0:t.last_run_status)&&t.last_run_status!=="NOT_RUN"&&a.jsxs("div",{className:"text-xs text-blue-700 mt-2",children:["Last run: ",t.last_run_status==="SUCCESS"?" Success":t.last_run_status==="FAILED"?" Failed":t.last_run_status==="RUNNING"?" Running":t.last_run_status,t.twins_evaluated!==void 0&&t.twins_evaluated>0&&a.jsxs("span",{className:"ml-2",children:["(",t.twins_evaluated," twin",t.twins_evaluated!==1?"s":""," evaluated",t.alarms_generated!==void 0&&t.alarms_generated>0&&`, ${t.alarms_generated} alarm${t.alarms_generated!==1?"s":""} generated`,")"]})]})]})]})}function M8(){const[e,t]=Ae.useState(!1),[n,r]=Ae.useState("dashboard"),[i,s]=Ae.useState(null),[o,l]=Ae.useState("visit-flow"),[c,d]=Ae.useState("summary"),[h,b]=Ae.useState(!1),[y,p]=Ae.useState(!1),[S,C]=Ae.useState(null),[I,g]=Ae.useState(!1),[v,w]=Ae.useState(null),k=(G,se,le)=>{console.log("Login successful:",{email:G,practitionerData:le}),w(le?{id:le.id||le.practitioner_id||"",name:le.name||le.full_name||"Unknown Doctor",email:le.email||G,specialty:le.specialty||"",role:le.role||"",phone:le.phone||""}:{id:"",name:"Unknown Doctor",email:G,specialty:"",role:""}),t(!0)},H=async G=>{g(!0),s(G),r("patient"),l("visit-flow"),b(!1),p(!1);try{const se=await fetch(`${vr}/patients/${G.id}/details`,{headers:{"X-User-Id":"doctor-001","X-User-Role":"DOCTOR"}});if(se.ok){const ae=(await se.json()).data;ae&&s({...G,conditions:ae.conditions||G.conditions,medications:ae.medications||G.medications,cohort:ae.cohort||G.cohort,detailedConditions:ae.detailedConditions,detailedMedications:ae.detailedMedications,clinicalSummary:ae.clinicalSummary,vitals:ae.vitals?{bloodPressure:ae.vitals.bloodPressure||"",heartRate:ae.vitals.heartRate||"",temperature:ae.vitals.temperature||""}:void 0})}}catch(se){console.error("Error fetching patient details:",se)}finally{g(!1)}},M=()=>{r("dashboard"),s(null)},K=()=>{r("full-record")},T=()=>{r("patient")},_=()=>{r("full-clinical-summary")},j=()=>{d("discussion"),l("info")},E=G=>{C(G),p(!1),b(!0)},R=G=>{C(G),b(!1),p(!0)},Z=()=>{p(!1),l("visit-flow")};return e?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n==="dashboard"&&a.jsx(O_,{onOpenPatient:H,loggedInPractitioner:v}),n==="patient"&&i&&a.jsxs("div",{className:"min-h-screen",children:[a.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:a.jsxs("div",{className:"px-6 py-3",children:[a.jsxs("button",{onClick:M,className:"text-xs text-blue-600 hover:text-blue-700 mb-2 flex items-center gap-1 font-medium transition-colors",children:[a.jsx(yy,{className:"w-3.5 h-3.5"}),"Back to Dashboard"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:a.jsx("span",{className:"text-sm font-bold text-white",children:i.name.split(" ").map(G=>G[0]).join("").toUpperCase().slice(0,2)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:i.name})}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[a.jsxs("span",{children:[i.age," years"]}),a.jsx("span",{children:""}),a.jsx("span",{children:i.sex}),a.jsx("span",{children:""}),a.jsxs("span",{className:"font-mono text-gray-500",children:["Twin ID: ",i.twinId]})]})]})]})]})}),I&&a.jsx("div",{className:"flex items-center justify-center min-h-[500px] bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 rounded-full"}),a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin absolute top-0 left-0"})]})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Loading patient data"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Please wait..."})]})}),!I&&a.jsxs("div",{className:"grid grid-cols-3 gap-6 p-8",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Active Visit & Analysis"}),a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Current"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Step-by-step clinical workflow"})]}),a.jsx(P8,{patient:i,onViewFullRecord:K,onViewClinicalDiscussion:j,visitTrigger:{type:"Background Monitoring Alert",timestamp:"Jan 8, 2026 09:15 AM",source:"AI"},discussionReferenced:!1,loggedInPractitioner:v})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"font-semibold text-gray-900 mb-2",children:"Patient Information"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Historical data and records"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Patient Information"})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[a.jsxs("button",{onClick:()=>d("summary"),className:`w-full text-left px-4 py-3 text-sm flex items-center gap-3 transition-all ${c==="summary"?"bg-blue-50 text-blue-700 font-semibold border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[a.jsx(Hf,{className:`w-4 h-4 flex-shrink-0 ${c==="summary"?"text-blue-600":"text-gray-400"}`}),a.jsx("span",{children:"Clinical Summary"})]}),a.jsxs("button",{onClick:()=>d("history"),className:`w-full text-left px-4 py-3 text-sm flex items-center gap-3 transition-all ${c==="history"?"bg-blue-50 text-blue-700 font-semibold border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[a.jsx(Ti,{className:`w-4 h-4 flex-shrink-0 ${c==="history"?"text-blue-600":"text-gray-400"}`}),a.jsx("span",{children:"Visit History"})]}),a.jsxs("button",{onClick:()=>d("discussion"),className:`w-full text-left px-4 py-3 text-sm flex items-center gap-3 transition-all ${c==="discussion"?"bg-blue-50 text-blue-700 font-semibold border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[a.jsx(xl,{className:`w-4 h-4 flex-shrink-0 ${c==="discussion"?"text-blue-600":"text-gray-400"}`}),a.jsx("span",{children:"Clinical Discussion"})]}),a.jsxs("button",{onClick:()=>d("monitoring"),className:`w-full text-left px-4 py-3 text-sm flex items-center gap-3 transition-all ${c==="monitoring"?"bg-blue-50 text-blue-700 font-semibold border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[a.jsx(nl,{className:`w-4 h-4 flex-shrink-0 ${c==="monitoring"?"text-blue-600":"text-gray-400"}`}),a.jsx("span",{children:"Background Monitoring"})]})]}),a.jsxs("div",{className:"p-4 max-h-[calc(100vh-20rem)] overflow-y-auto",children:[c==="summary"&&a.jsx(D8,{patient:i,onViewFullSummary:_}),c==="history"&&i&&a.jsx("div",{className:"space-y-3",children:a.jsx(E8,{patient:i,onViewFullTimeline:()=>p(!0)})}),c==="discussion"&&a.jsx(C8,{patient:i,visitId:S,onOpenFull:()=>b(!0)}),c==="monitoring"&&i&&a.jsx(I8,{patient:i})]})]})]})]}),h&&i&&a.jsx(L8,{patient:i,visitId:S||void 0,onClose:()=>b(!1),onViewVisit:R,loggedInPractitioner:v}),y&&i&&a.jsx(F8,{patient:i,onClose:()=>p(!1),onStartNewVisit:Z,onOpenDiscussion:E})]}),n==="full-record"&&i&&a.jsx(T8,{patient:i,onBack:T}),n==="full-clinical-summary"&&i&&a.jsx(R8,{patient:i,onBack:()=>r("patient")})]}):a.jsx(T_,{onLogin:k})}T0.createRoot(document.getElementById("root")).render(a.jsx(Qx.StrictMode,{children:a.jsx(M8,{})}));export{Vt as _,z8 as c,Fw as g};
